  [1m[35m (633.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "technical_alive_test_ruby_test"[0m
  [1m[35m (1214.9ms)[0m  [1m[35mCREATE DATABASE "technical_alive_test_ruby_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (129.2ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "manufacturer" character varying, "model" character varying, "color" character varying, "carrier_plan_type" character varying, "quantity" integer, "price" decimal(10,2), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (130.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (32.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20201101152911)[0m
  [1m[35m (132.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-11-01 15:33:29.861437"], ["updated_at", "2020-11-01 15:33:29.861437"]]
  [1m[35m (27.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "7bafa9f78822aee0ada06a79eeecfe5865d2460c"], ["created_at", "2020-11-01 15:33:29.901830"], ["updated_at", "2020-11-01 15:33:29.901830"]]
  [1m[35m (27.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Gutkowski Group"], ["model", "Debbra McCullough"], ["color", "pear"], ["carrier_plan_type", "Rosendo Kiehn"], ["quantity", 4], ["price", "83.42"], ["created_at", "2020-11-01 15:33:31.813229"], ["updated_at", "2020-11-01 15:33:31.813229"]]
  [1m[35m (41.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.0ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (221.7ms)[0m  [1m[35mTRUNCATE TABLE "public"."products" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Kihn, Kris and Marvin"], ["model", "Peter Stoltenberg I"], ["color", "periwinkle"], ["carrier_plan_type", "pos"], ["quantity", 3], ["price", "39.88"], ["created_at", "2020-11-01 15:53:41.668136"], ["updated_at", "2020-11-01 15:53:41.668136"]]
  [1m[35m (26.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.6ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (127.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."products" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (2.5ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Hackett-Jaskolski"], ["model", "Maragret Mayer"], ["color", "brown"], ["carrier_plan_type", "pre"], ["quantity", 8], ["price", "86.78"], ["created_at", "2020-11-01 15:54:28.108147"], ["updated_at", "2020-11-01 15:54:28.108147"]]
  [1m[35m (61.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (15.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL[0m
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (4.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (151.4ms)[0m  [1m[35mTRUNCATE TABLE "public"."products" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Lakin, Rowe and Krajcik"], ["model", "Dr. Arlie Prohaska"], ["color", "chocolate"], ["carrier_plan_type", "pos"], ["quantity", 5], ["price", "28.61"], ["created_at", "2020-11-01 16:04:15.275637"], ["updated_at", "2020-11-01 16:04:15.275637"]]
  [1m[35m (78.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.0ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (128.4ms)[0m  [1m[35mTRUNCATE TABLE "public"."products" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Dietrich, Larkin and Kerluke"], ["model", "Ligia Kozey VM"], ["color", "coffee"], ["carrier_plan_type", "pos"], ["quantity", 10], ["price", "57.34"], ["created_at", "2020-11-01 16:17:50.060845"], ["updated_at", "2020-11-01 16:17:50.060845"]]
  [1m[35m (48.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.9ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (128.1ms)[0m  [1m[35mTRUNCATE TABLE "public"."products" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Kemmer, Anderson and Satterfield"], ["model", "Mrs. Jayson Hickle"], ["color", "silver"], ["carrier_plan_type", "pos"], ["quantity", 3], ["price", "80.48"], ["created_at", "2020-11-01 16:42:13.149666"], ["updated_at", "2020-11-01 16:42:13.149666"]]
  [1m[35m (110.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.2ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (130.3ms)[0m  [1m[35mTRUNCATE TABLE "public"."products" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (332.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "technical_alive_test_ruby_test"[0m
  [1m[35m (1505.9ms)[0m  [1m[35mCREATE DATABASE "technical_alive_test_ruby_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (159.3ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (143.4ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  [1m[35m (81.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (156.5ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (120.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "product_uploads" CASCADE[0m
  [1m[35m (82.9ms)[0m  [1m[35mCREATE TABLE "product_uploads" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (220.5ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "manufacturer" character varying, "model" character varying, "color" character varying, "carrier_plan_type" character varying, "quantity" integer, "price" decimal(10,2), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (48.2ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (156.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (83.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20201101165226)[0m
  [1m[35m (47.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20201101152911),
(20201101164435);

[0m
  [1m[35m (175.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-11-01 17:01:13.933902"], ["updated_at", "2020-11-01 17:01:13.933902"]]
  [1m[35m (30.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "46ebee2a427b64f67737555494a568ef9cb3fe34"], ["created_at", "2020-11-01 17:01:13.974139"], ["updated_at", "2020-11-01 17:01:13.974139"]]
  [1m[35m (52.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:01:14.378383"], ["updated_at", "2020-11-01 17:01:14.378383"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "xdrayl71sdyoydwd2v6qbt85ojq4"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:01:14.390607"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 17:01:14.392538"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:01:14.394187"], ["id", 1]]
  [1m[35m (44.0ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.6ms) [0m[32mUploaded file to key: xdrayl71sdyoydwd2v6qbt85ojq4 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 82102854-370c-4301-b62a-83f4358e8b9f) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055c784de9d50 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Nicolas and Sons"], ["model", "Lino Dibbert"], ["color", "jade"], ["carrier_plan_type", "pos"], ["quantity", 10], ["price", "69.74"], ["created_at", "2020-11-01 17:01:14.715795"], ["updated_at", "2020-11-01 17:01:14.715795"]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [82102854-370c-4301-b62a-83f4358e8b9f] Performing ActiveStorage::AnalyzeJob (Job ID: 82102854-370c-4301-b62a-83f4358e8b9f) from Async(active_storage_analysis) enqueued at 2020-11-01T17:01:14Z with arguments: #<GlobalID:0x00007feb040882b0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (35.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [82102854-370c-4301-b62a-83f4358e8b9f]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [82102854-370c-4301-b62a-83f4358e8b9f]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [82102854-370c-4301-b62a-83f4358e8b9f]   [1m[35m (25.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [82102854-370c-4301-b62a-83f4358e8b9f] Performed ActiveStorage::AnalyzeJob (Job ID: 82102854-370c-4301-b62a-83f4358e8b9f) from Async(active_storage_analysis) in 37.64ms
  [1m[35m (25.7ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (23.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.0ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (597.2ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (32.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:13:19.022107"], ["updated_at", "2020-11-01 17:13:19.022107"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "zsozeu5kwai3eomw1b5tldjmwaxi"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:13:19.031019"]]
  [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 17:13:19.034543"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:13:19.037518"], ["id", 1]]
  [1m[35m (31.2ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.2ms) [0m[32mUploaded file to key: zsozeu5kwai3eomw1b5tldjmwaxi (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3972dcbc-a3fa-4023-920c-6678245b02b3) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005568234313f0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Johnson LLC"], ["model", "Delia Towne"], ["color", "blush"], ["carrier_plan_type", "pre"], ["quantity", 7], ["price", "86.63"], ["created_at", "2020-11-01 17:13:19.300438"], ["updated_at", "2020-11-01 17:13:19.300438"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3972dcbc-a3fa-4023-920c-6678245b02b3] Performing ActiveStorage::AnalyzeJob (Job ID: 3972dcbc-a3fa-4023-920c-6678245b02b3) from Async(active_storage_analysis) enqueued at 2020-11-01T17:13:19Z with arguments: #<GlobalID:0x00007f462c081fc8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [3972dcbc-a3fa-4023-920c-6678245b02b3]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3972dcbc-a3fa-4023-920c-6678245b02b3]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (81.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3972dcbc-a3fa-4023-920c-6678245b02b3]   [1m[35m (76.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3972dcbc-a3fa-4023-920c-6678245b02b3] Performed ActiveStorage::AnalyzeJob (Job ID: 3972dcbc-a3fa-4023-920c-6678245b02b3) from Async(active_storage_analysis) in 81.43ms
  [1m[35m (12.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.6ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.7ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (547.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (32.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:13:20.474908"], ["updated_at", "2020-11-01 17:13:20.474908"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "iicwir8cwnkfj7s1whnym9t3aklr"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:13:20.481774"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 17:13:20.484814"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:13:20.487515"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.5ms) [0m[32mUploaded file to key: iicwir8cwnkfj7s1whnym9t3aklr (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2929198e-2438-4e66-b281-fe812e915df8) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005568243a7bb8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:21:11.714944"], ["updated_at", "2020-11-01 17:21:11.714944"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "l28jwys3v2dzpm3tl9liaedpw7l3"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:21:11.724250"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 17:21:11.727527"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:21:11.730209"], ["id", 2]]
  [1m[35m (23.2ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.3ms) [0m[32mUploaded file to key: l28jwys3v2dzpm3tl9liaedpw7l3 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c6a8b51c-417a-4829-a52a-a384a76f90ac) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000558db0f38fc0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.3ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Treutel-Mills"], ["model", "Denver Shanahan"], ["color", "puce"], ["carrier_plan_type", "pos"], ["quantity", 7], ["price", "45.46"], ["created_at", "2020-11-01 17:21:11.995468"], ["updated_at", "2020-11-01 17:21:11.995468"]]
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c6a8b51c-417a-4829-a52a-a384a76f90ac] Performing ActiveStorage::AnalyzeJob (Job ID: c6a8b51c-417a-4829-a52a-a384a76f90ac) from Async(active_storage_analysis) enqueued at 2020-11-01T17:21:11Z with arguments: #<GlobalID:0x00007f59cc07f710 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c6a8b51c-417a-4829-a52a-a384a76f90ac]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c6a8b51c-417a-4829-a52a-a384a76f90ac]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c6a8b51c-417a-4829-a52a-a384a76f90ac]   [1m[35m (77.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c6a8b51c-417a-4829-a52a-a384a76f90ac] Performed ActiveStorage::AnalyzeJob (Job ID: c6a8b51c-417a-4829-a52a-a384a76f90ac) from Async(active_storage_analysis) in 81.17ms
  [1m[35m (107.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.3ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (524.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:21:13.178659"], ["updated_at", "2020-11-01 17:21:13.178659"]]
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (3.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "8djem59367b8oh2ernqwo1pfx868"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:21:13.187689"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 17:21:13.192971"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:21:13.195438"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (8.2ms) [0m[32mUploaded file to key: 8djem59367b8oh2ernqwo1pfx868 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 300f7a25-19b7-4126-9385-6acda728b6f5) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000558db11e7e88 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (1.3ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:21:13.238351"], ["updated_at", "2020-11-01 17:21:13.238351"]]
  [1m[36mActiveStorage::Attachment Load (5.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "1zrfqtkze4wjaetvzprv1wk1t1q6"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:21:13.260733"]]
  [1m[36mActiveStorage::Attachment Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 17:21:13.262487"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:21:13.267627"], ["id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (6.3ms) [0m[32mUploaded file to key: 1zrfqtkze4wjaetvzprv1wk1t1q6 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9169368e-d9b0-4d71-92c2-d640245b2130) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00007f59cc089f30 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[36mProduct Create Many (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 17:21:13.286621','2020-11-01 17:21:13.286621'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 17:21:13.286621','2020-11-01 17:21:13.286621'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 17:21:13.286621','2020-11-01 17:21:13.286621'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 17:21:13.286621','2020-11-01 17:21:13.286621'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 17:21:13.286621','2020-11-01 17:21:13.286621'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 17:21:13.286621','2020-11-01 17:21:13.286621'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 17:21:13.286621','2020-11-01 17:21:13.286621'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 17:21:13.286621','2020-11-01 17:21:13.286621'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 17:21:13.286621','2020-11-01 17:21:13.286621'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 17:21:13.286621','2020-11-01 17:21:13.286621'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 17:21:13.286621','2020-11-01 17:21:13.286621'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 17:21:13.286621','2020-11-01 17:21:13.286621') RETURNING "id"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.5ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:21:13.310785"], ["updated_at", "2020-11-01 17:21:13.310785"]]
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (9.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "23a8qfdxdkxo19l9tp6qfambzhpt"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 17:21:13.321117"]]
  [1m[36mActiveStorage::Attachment Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 17:21:13.332975"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:21:13.337157"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (5.4ms) [0m[32mUploaded file to key: 23a8qfdxdkxo19l9tp6qfambzhpt (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c01faf32-278f-491a-859d-ad5fbe1a66be) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000558db1eccbd0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveStorage::Blob Load (5.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:22:04.844676"], ["updated_at", "2020-11-01 17:22:04.844676"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "7c8oirddmbtkpifv5xot0k1tl71o"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:22:04.851177"]]
  [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 4], ["blob_id", 4], ["created_at", "2020-11-01 17:22:04.853731"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:22:04.856951"], ["id", 4]]
  [1m[35m (32.1ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.2ms) [0m[32mUploaded file to key: 7c8oirddmbtkpifv5xot0k1tl71o (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d0991cdb-b318-4415-979b-dfc4a14fec49) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005625a7b9d2c8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/4>>
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Parker, Schiller and Terry"], ["model", "Ms. Julius Hauck"], ["color", "apricot"], ["carrier_plan_type", "pre"], ["quantity", 8], ["price", "61.75"], ["created_at", "2020-11-01 17:22:05.123946"], ["updated_at", "2020-11-01 17:22:05.123946"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0991cdb-b318-4415-979b-dfc4a14fec49] Performing ActiveStorage::AnalyzeJob (Job ID: d0991cdb-b318-4415-979b-dfc4a14fec49) from Async(active_storage_analysis) enqueued at 2020-11-01T17:22:04Z with arguments: #<GlobalID:0x00005625a88f86e8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/4>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0991cdb-b318-4415-979b-dfc4a14fec49]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0991cdb-b318-4415-979b-dfc4a14fec49]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 4]]
  [1m[35m (48.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0991cdb-b318-4415-979b-dfc4a14fec49]   [1m[35m (44.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0991cdb-b318-4415-979b-dfc4a14fec49] Performed ActiveStorage::AnalyzeJob (Job ID: d0991cdb-b318-4415-979b-dfc4a14fec49) from Async(active_storage_analysis) in 47.81ms
  [1m[35m (14.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.3ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (525.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (1.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:22:06.232919"], ["updated_at", "2020-11-01 17:22:06.232919"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "elos54q1grxw70phlaxc21oj80dy"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:22:06.241916"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 17:22:06.245492"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:22:06.247580"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.3ms) [0m[32mUploaded file to key: elos54q1grxw70phlaxc21oj80dy (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7b7ffae7-c8ec-45e3-9674-8a930511aaa8) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005625a9a110d8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (1.2ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:22:06.278758"], ["updated_at", "2020-11-01 17:22:06.278758"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "5auhgq79sp16lf91z0jgongjsii4"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:22:06.286992"]]
  [1m[36mActiveStorage::Attachment Create (2.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 17:22:06.290697"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:22:06.295075"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (7.1ms) [0m[32mUploaded file to key: 5auhgq79sp16lf91z0jgongjsii4 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 140c436f-6a52-45ab-88ae-0c2245a43d79) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005625a99e1770 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[36mProduct Create Many (1.6ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 17:22:06.315869','2020-11-01 17:22:06.315869'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 17:22:06.315869','2020-11-01 17:22:06.315869'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 17:22:06.315869','2020-11-01 17:22:06.315869'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 17:22:06.315869','2020-11-01 17:22:06.315869'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 17:22:06.315869','2020-11-01 17:22:06.315869'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 17:22:06.315869','2020-11-01 17:22:06.315869'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 17:22:06.315869','2020-11-01 17:22:06.315869'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 17:22:06.315869','2020-11-01 17:22:06.315869'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 17:22:06.315869','2020-11-01 17:22:06.315869'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 17:22:06.315869','2020-11-01 17:22:06.315869'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 17:22:06.315869','2020-11-01 17:22:06.315869'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 17:22:06.315869','2020-11-01 17:22:06.315869') RETURNING "id"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (1.3ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:22:06.343469"], ["updated_at", "2020-11-01 17:22:06.343469"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "k3asmn7ozttsa0unl2nam7eustso"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 17:22:06.352552"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 17:22:06.354721"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:22:06.356488"], ["id", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (4.2ms) [0m[32mUploaded file to key: k3asmn7ozttsa0unl2nam7eustso (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d236e283-5a9f-419c-baf8-4649fe8d4b19) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005625a99961a8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Blob Load (2.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:23:21.857555"], ["updated_at", "2020-11-01 17:23:21.857555"]]
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "kzwwpwng7fyona1b6l7xnds64gqh"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:23:21.871319"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 4], ["blob_id", 4], ["created_at", "2020-11-01 17:23:21.876685"]]
  [1m[36mProductUpload Update (1.0ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:23:21.879755"], ["id", 4]]
  [1m[35m (27.2ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (18.7ms) [0m[32mUploaded file to key: kzwwpwng7fyona1b6l7xnds64gqh (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3d8fa58b-66c9-436b-94ee-dcdd2e101c55) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055d5827510e0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/4>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Flatley, Ward and Witting"], ["model", "Fausto Hyatt III"], ["color", "blush"], ["carrier_plan_type", "pre"], ["quantity", 4], ["price", "36.31"], ["created_at", "2020-11-01 17:23:22.266177"], ["updated_at", "2020-11-01 17:23:22.266177"]]
  [1m[35m (30.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mActiveStorage::Blob Load (2.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3d8fa58b-66c9-436b-94ee-dcdd2e101c55] Performing ActiveStorage::AnalyzeJob (Job ID: 3d8fa58b-66c9-436b-94ee-dcdd2e101c55) from Async(active_storage_analysis) enqueued at 2020-11-01T17:23:21Z with arguments: #<GlobalID:0x00007f9a8807d4e0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/4>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [3d8fa58b-66c9-436b-94ee-dcdd2e101c55]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (30.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3d8fa58b-66c9-436b-94ee-dcdd2e101c55]   [1m[36mActiveStorage::Blob Update (20.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 4]]
  [1m[35m (3.7ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.1ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3d8fa58b-66c9-436b-94ee-dcdd2e101c55]   [1m[35m (32.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3d8fa58b-66c9-436b-94ee-dcdd2e101c55] Performed ActiveStorage::AnalyzeJob (Job ID: 3d8fa58b-66c9-436b-94ee-dcdd2e101c55) from Async(active_storage_analysis) in 58.68ms
  [1m[35m (569.7ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (30.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:23:23.402432"], ["updated_at", "2020-11-01 17:23:23.402432"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "ce6cbl4wsn0i55jf6kvch6tct5qa"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:23:23.409141"]]
  [1m[36mActiveStorage::Attachment Create (1.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 17:23:23.412197"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:23:23.416004"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.5ms) [0m[32mUploaded file to key: ce6cbl4wsn0i55jf6kvch6tct5qa (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9f7fc682-2b77-439c-80fd-5ba37dca79a8) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055d5845b9708 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.5ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:23:23.446421"], ["updated_at", "2020-11-01 17:23:23.446421"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "koealbtwfbqvvxgq24f32kzepuxa"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:23:23.454065"]]
  [1m[36mActiveStorage::Attachment Create (2.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 17:23:23.457590"]]
  [1m[36mProductUpload Update (1.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:23:23.461697"], ["id", 2]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (5.6ms) [0m[32mUploaded file to key: koealbtwfbqvvxgq24f32kzepuxa (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d9515b88-5490-47d3-9650-73d4daeedeac) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055d584589e18 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[36mActiveStorage::Blob Load (9.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[36mProduct Create Many (2.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 17:23:23.480697','2020-11-01 17:23:23.480697'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 17:23:23.480697','2020-11-01 17:23:23.480697'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 17:23:23.480697','2020-11-01 17:23:23.480697'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 17:23:23.480697','2020-11-01 17:23:23.480697'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 17:23:23.480697','2020-11-01 17:23:23.480697'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 17:23:23.480697','2020-11-01 17:23:23.480697'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 17:23:23.480697','2020-11-01 17:23:23.480697'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 17:23:23.480697','2020-11-01 17:23:23.480697'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 17:23:23.480697','2020-11-01 17:23:23.480697'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 17:23:23.480697','2020-11-01 17:23:23.480697'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 17:23:23.480697','2020-11-01 17:23:23.480697'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 17:23:23.480697','2020-11-01 17:23:23.480697') RETURNING "id"[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.4ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:23:23.511398"], ["updated_at", "2020-11-01 17:23:23.511398"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "bkyeeldyv7wpws1wt3u13837whjw"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 17:23:23.517765"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 17:23:23.522695"]]
  [1m[36mProductUpload Update (1.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:23:23.525741"], ["id", 3]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (4.5ms) [0m[32mUploaded file to key: bkyeeldyv7wpws1wt3u13837whjw (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 20bf3e7a-3652-4aed-a849-b3459b08716c) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055d58453e828 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Blob Load (1.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:24:16.838577"], ["updated_at", "2020-11-01 17:24:16.838577"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "yqmks23bgqgkpapqfplg63da5lsj"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:24:16.849577"]]
  [1m[36mActiveStorage::Attachment Create (1.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 4], ["blob_id", 4], ["created_at", "2020-11-01 17:24:16.854983"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:24:16.859001"], ["id", 4]]
  [1m[35m (21.8ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (6.4ms) [0m[32mUploaded file to key: yqmks23bgqgkpapqfplg63da5lsj (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: de2a07ae-069f-4883-9682-718af4ff2414) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005561c50e0020 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/4>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Batz-O'Connell"], ["model", "Jude Runte"], ["color", "lemon"], ["carrier_plan_type", "pos"], ["quantity", 6], ["price", "69.92"], ["created_at", "2020-11-01 17:24:17.139810"], ["updated_at", "2020-11-01 17:24:17.139810"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [de2a07ae-069f-4883-9682-718af4ff2414] Performing ActiveStorage::AnalyzeJob (Job ID: de2a07ae-069f-4883-9682-718af4ff2414) from Async(active_storage_analysis) enqueued at 2020-11-01T17:24:16Z with arguments: #<GlobalID:0x00005561c24398c8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/4>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [de2a07ae-069f-4883-9682-718af4ff2414]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [de2a07ae-069f-4883-9682-718af4ff2414]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 4]]
  [1m[35m (43.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [de2a07ae-069f-4883-9682-718af4ff2414]   [1m[35m (38.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [de2a07ae-069f-4883-9682-718af4ff2414] Performed ActiveStorage::AnalyzeJob (Job ID: de2a07ae-069f-4883-9682-718af4ff2414) from Async(active_storage_analysis) in 42.2ms
  [1m[35m (10.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.5ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (549.2ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (30.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:24:18.265708"], ["updated_at", "2020-11-01 17:24:18.265708"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "i1a879hkjznm4rkg4d2uvfbfuc55"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:24:18.272723"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 17:24:18.275006"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:24:18.277657"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (5.9ms) [0m[32mUploaded file to key: i1a879hkjznm4rkg4d2uvfbfuc55 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8bad5e5c-54e1-4b13-9353-c2b5e8dc95f8) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005561c6091be0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:24:18.306714"], ["updated_at", "2020-11-01 17:24:18.306714"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "w9ikh08n17jzzzdam92t6ba220mh"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:24:18.314082"]]
  [1m[36mActiveStorage::Attachment Create (1.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 17:24:18.319543"]]
  [1m[36mProductUpload Update (1.2ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:24:18.324901"], ["id", 2]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (5.6ms) [0m[32mUploaded file to key: w9ikh08n17jzzzdam92t6ba220mh (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f7588937-792f-41a4-aa2e-3ccee3d1e151) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005561c60c3be0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[36mProduct Create Many (1.2ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 17:24:18.343525','2020-11-01 17:24:18.343525'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 17:24:18.343525','2020-11-01 17:24:18.343525'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 17:24:18.343525','2020-11-01 17:24:18.343525'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 17:24:18.343525','2020-11-01 17:24:18.343525'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 17:24:18.343525','2020-11-01 17:24:18.343525'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 17:24:18.343525','2020-11-01 17:24:18.343525'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 17:24:18.343525','2020-11-01 17:24:18.343525'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 17:24:18.343525','2020-11-01 17:24:18.343525'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 17:24:18.343525','2020-11-01 17:24:18.343525'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 17:24:18.343525','2020-11-01 17:24:18.343525'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 17:24:18.343525','2020-11-01 17:24:18.343525'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 17:24:18.343525','2020-11-01 17:24:18.343525') RETURNING "id"[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:24:18.368877"], ["updated_at", "2020-11-01 17:24:18.368877"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "holarq7nuhhp7gz0cashrischj28"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 17:24:18.379126"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 17:24:18.381966"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:24:18.384821"], ["id", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (8.6ms) [0m[32mUploaded file to key: holarq7nuhhp7gz0cashrischj28 (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2776bd1b-30a6-45b3-8e02-7d9984adbee0) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005561c61027c8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:30:29.425113"], ["updated_at", "2020-11-01 17:30:29.425113"]]
  [1m[36mActiveStorage::Attachment Load (2.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "9za366ta7pmdpoxrwnta3x3vulp9"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:30:29.444007"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 4], ["blob_id", 4], ["created_at", "2020-11-01 17:30:29.447647"]]
  [1m[36mProductUpload Update (0.9ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:30:29.450459"], ["id", 4]]
  [1m[35m (23.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.2ms) [0m[32mUploaded file to key: 9za366ta7pmdpoxrwnta3x3vulp9 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9fa86819-7408-4c97-9f6e-f76b02e57d79) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000559b27c9cfd0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/4>>
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Nienow-Sipes"], ["model", "Iola Bergstrom"], ["color", "lime"], ["carrier_plan_type", "pos"], ["quantity", 7], ["price", "18.35"], ["created_at", "2020-11-01 17:30:29.876793"], ["updated_at", "2020-11-01 17:30:29.876793"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9fa86819-7408-4c97-9f6e-f76b02e57d79] Performing ActiveStorage::AnalyzeJob (Job ID: 9fa86819-7408-4c97-9f6e-f76b02e57d79) from Async(active_storage_analysis) enqueued at 2020-11-01T17:30:29Z with arguments: #<GlobalID:0x00007f652807dc50 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/4>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [9fa86819-7408-4c97-9f6e-f76b02e57d79]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9fa86819-7408-4c97-9f6e-f76b02e57d79]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 4]]
  [1m[35m (55.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9fa86819-7408-4c97-9f6e-f76b02e57d79]   [1m[35m (29.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9fa86819-7408-4c97-9f6e-f76b02e57d79] Performed ActiveStorage::AnalyzeJob (Job ID: 9fa86819-7408-4c97-9f6e-f76b02e57d79) from Async(active_storage_analysis) in 34.36ms
  [1m[35m (12.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (33.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (4.2ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (543.8ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (29.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:30:30.624821"], ["updated_at", "2020-11-01 17:30:30.624821"]]
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "5pk1ke7uxhr2znu1v56yq3gebwu7"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:30:30.631879"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 17:30:30.633819"]]
  [1m[36mProductUpload Update (0.7ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:30:30.635717"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (8.5ms) [0m[32mUploaded file to key: 5pk1ke7uxhr2znu1v56yq3gebwu7 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1b8c20f2-b27b-4d51-a8ba-b3c067814361) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000559b283fed50 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (0.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 17:30:30.656058','2020-11-01 17:30:30.656058'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 17:30:30.656058','2020-11-01 17:30:30.656058'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 17:30:30.656058','2020-11-01 17:30:30.656058'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 17:30:30.656058','2020-11-01 17:30:30.656058'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 17:30:30.656058','2020-11-01 17:30:30.656058'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 17:30:30.656058','2020-11-01 17:30:30.656058'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 17:30:30.656058','2020-11-01 17:30:30.656058'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 17:30:30.656058','2020-11-01 17:30:30.656058'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 17:30:30.656058','2020-11-01 17:30:30.656058'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 17:30:30.656058','2020-11-01 17:30:30.656058'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 17:30:30.656058','2020-11-01 17:30:30.656058'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 17:30:30.656058','2020-11-01 17:30:30.656058') RETURNING "id"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (1.2ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:30:30.680926"], ["updated_at", "2020-11-01 17:30:30.680926"]]
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "q8oa5nsrt5rbhqr0a4b1bscb9nqt"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 17:30:30.690738"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 17:30:30.694845"]]
  [1m[36mProductUpload Update (1.7ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:30:30.697072"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (7.0ms) [0m[32mUploaded file to key: q8oa5nsrt5rbhqr0a4b1bscb9nqt (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b0ac019e-caf0-40e2-9e7c-63c7c04ca751) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000559b282dad98 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (3.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.4ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:42:09.218438"], ["updated_at", "2020-11-01 17:42:09.218438"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "l7ybj903wlzz3dr4w7r43eo9swsp"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:42:09.228365"]]
  [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 17:42:09.230474"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:42:09.233163"], ["id", 3]]
  [1m[35m (46.0ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (6.4ms) [0m[32mUploaded file to key: l7ybj903wlzz3dr4w7r43eo9swsp (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6e47da5a-72f7-4466-a0d2-8a0e5cea7e40) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000556cad554c08 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Purdy, Brown and Stehr"], ["model", "Miss Le Stracke"], ["color", "gold"], ["carrier_plan_type", "pos"], ["quantity", 3], ["price", "49.19"], ["created_at", "2020-11-01 17:42:09.560428"], ["updated_at", "2020-11-01 17:42:09.560428"]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6e47da5a-72f7-4466-a0d2-8a0e5cea7e40] Performing ActiveStorage::AnalyzeJob (Job ID: 6e47da5a-72f7-4466-a0d2-8a0e5cea7e40) from Async(active_storage_analysis) enqueued at 2020-11-01T17:42:09Z with arguments: #<GlobalID:0x00007f0f00082300 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (28.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6e47da5a-72f7-4466-a0d2-8a0e5cea7e40]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6e47da5a-72f7-4466-a0d2-8a0e5cea7e40]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6e47da5a-72f7-4466-a0d2-8a0e5cea7e40]   [1m[35m (29.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6e47da5a-72f7-4466-a0d2-8a0e5cea7e40] Performed ActiveStorage::AnalyzeJob (Job ID: 6e47da5a-72f7-4466-a0d2-8a0e5cea7e40) from Async(active_storage_analysis) in 47.24ms
  [1m[35m (31.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.7ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (523.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (30.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:42:10.235223"], ["updated_at", "2020-11-01 17:42:10.235223"]]
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "65p1ciis4lp266xbwj5n367ibm0h"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:42:10.242300"]]
  [1m[36mActiveStorage::Attachment Create (1.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 17:42:10.246534"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:42:10.251243"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (4.7ms) [0m[32mUploaded file to key: 65p1ciis4lp266xbwj5n367ibm0h (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d42c5bab-92c2-4e47-947f-c8178346d49d) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000556cadd8a1c0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (1.1ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:42:10.307717"], ["updated_at", "2020-11-01 17:42:10.307717"]]
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "zdcvl63lexuzjhf8mt2936s5zlmc"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:42:10.317609"]]
  [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 17:42:10.321063"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:42:10.324508"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (13.4ms) [0m[32mUploaded file to key: zdcvl63lexuzjhf8mt2936s5zlmc (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5859ca56-796d-4b1a-902d-e492d0dd93d3) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000556cae7dbc00 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[36mActiveStorage::Blob Load (3.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:43:05.956417"], ["updated_at", "2020-11-01 17:43:05.956417"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "7o3vkwv419jiz9ymy3n956q59dnz"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:43:05.966119"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 17:43:05.968374"]]
  [1m[36mProductUpload Update (0.7ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:43:05.971241"], ["id", 3]]
  [1m[35m (30.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (6.4ms) [0m[32mUploaded file to key: 7o3vkwv419jiz9ymy3n956q59dnz (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: fc7242eb-a8ea-42d7-aada-28df47ec7c3d) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000561ac21bb678 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "D'Amore and Sons"], ["model", "Fr. Jessie Haag"], ["color", "puce"], ["carrier_plan_type", "pos"], ["quantity", 8], ["price", "22.68"], ["created_at", "2020-11-01 17:43:06.268307"], ["updated_at", "2020-11-01 17:43:06.268307"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc7242eb-a8ea-42d7-aada-28df47ec7c3d] Performing ActiveStorage::AnalyzeJob (Job ID: fc7242eb-a8ea-42d7-aada-28df47ec7c3d) from Async(active_storage_analysis) enqueued at 2020-11-01T17:43:06Z with arguments: #<GlobalID:0x0000561ac13e02b0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc7242eb-a8ea-42d7-aada-28df47ec7c3d]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc7242eb-a8ea-42d7-aada-28df47ec7c3d]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (59.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc7242eb-a8ea-42d7-aada-28df47ec7c3d]   [1m[35m (52.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fc7242eb-a8ea-42d7-aada-28df47ec7c3d] Performed ActiveStorage::AnalyzeJob (Job ID: fc7242eb-a8ea-42d7-aada-28df47ec7c3d) from Async(active_storage_analysis) in 55.81ms
  [1m[35m (11.5ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (23.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.9ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.0ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (595.4ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (30.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (2.1ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:43:07.031001"], ["updated_at", "2020-11-01 17:43:07.031001"]]
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "k6b00saalf81ohcztxh37upmfr4t"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:43:07.040697"]]
  [1m[36mActiveStorage::Attachment Create (1.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 17:43:07.043260"]]
  [1m[36mProductUpload Update (0.9ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:43:07.047498"], ["id", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (5.5ms) [0m[32mUploaded file to key: k6b00saalf81ohcztxh37upmfr4t (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3781adec-ef69-4b27-beed-c9bb5293f975) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000561ac2add350 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:43:07.273304"], ["updated_at", "2020-11-01 17:43:07.273304"]]
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "fe1730y8h9nb78yitu3g4qxhy4pd"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:43:07.281206"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 17:43:07.284233"]]
  [1m[36mProductUpload Update (0.9ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:43:07.287163"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (7.4ms) [0m[32mUploaded file to key: fe1730y8h9nb78yitu3g4qxhy4pd (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e0060b08-7381-4e67-8101-34a2d4b0eb63) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00007fc3400a9028 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (3.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (3.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:44:27.399105"], ["updated_at", "2020-11-01 17:44:27.399105"]]
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (2.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "p9dj732os1xsdpaiaak6aizlpfkz"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:44:27.418313"]]
  [1m[36mActiveStorage::Attachment Create (1.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 17:44:27.427516"]]
  [1m[36mProductUpload Update (1.9ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:44:27.433432"], ["id", 3]]
  [1m[35m (29.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (8.4ms) [0m[32mUploaded file to key: p9dj732os1xsdpaiaak6aizlpfkz (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9e8cd831-5d73-4c6b-bd19-3cababd06102) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000561108759148 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Sipes-Schaefer"], ["model", "Hollis Towne III"], ["color", "ivory"], ["carrier_plan_type", "pre"], ["quantity", 7], ["price", "36.59"], ["created_at", "2020-11-01 17:44:27.847264"], ["updated_at", "2020-11-01 17:44:27.847264"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e8cd831-5d73-4c6b-bd19-3cababd06102] Performing ActiveStorage::AnalyzeJob (Job ID: 9e8cd831-5d73-4c6b-bd19-3cababd06102) from Async(active_storage_analysis) enqueued at 2020-11-01T17:44:27Z with arguments: #<GlobalID:0x00007f7eb8087530 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e8cd831-5d73-4c6b-bd19-3cababd06102]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e8cd831-5d73-4c6b-bd19-3cababd06102]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e8cd831-5d73-4c6b-bd19-3cababd06102]   [1m[35m (30.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9e8cd831-5d73-4c6b-bd19-3cababd06102] Performed ActiveStorage::AnalyzeJob (Job ID: 9e8cd831-5d73-4c6b-bd19-3cababd06102) from Async(active_storage_analysis) in 38.82ms
  [1m[35m (57.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (26.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.9ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.7ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (596.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (43.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.5ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:44:28.613814"], ["updated_at", "2020-11-01 17:44:28.613814"]]
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "1vp290npu2ojt31jowyum2gg1p6s"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:44:28.618898"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 17:44:28.620923"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:44:28.622633"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (6.6ms) [0m[32mUploaded file to key: 1vp290npu2ojt31jowyum2gg1p6s (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: bc217513-e389-4ab9-a9f2-fbe2ae778285) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000056110a744750 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:44:28.723398"], ["updated_at", "2020-11-01 17:44:28.723398"]]
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "xqyxarqur70ep6nf1all4pigbndc"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:44:28.735045"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 17:44:28.737642"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:44:28.740117"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (10.0ms) [0m[32mUploaded file to key: xqyxarqur70ep6nf1all4pigbndc (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2e74723c-e5f1-41dc-be4b-082a88c8a2a6) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00007f7eb8094500 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[36mActiveStorage::Blob Load (2.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:46:25.038671"], ["updated_at", "2020-11-01 17:46:25.038671"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "y02plu9ev7mfi7aiz0cmk77otlo7"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:46:25.045340"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 17:46:25.047438"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:46:25.049362"], ["id", 3]]
  [1m[35m (31.6ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.5ms) [0m[32mUploaded file to key: y02plu9ev7mfi7aiz0cmk77otlo7 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c0769a5b-132d-4998-acc7-f657b80e1cd1) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000056062d158e28 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Dietrich, Raynor and Wehner"], ["model", "Chantell Mante"], ["color", "red"], ["carrier_plan_type", "pre"], ["quantity", 8], ["price", "31.02"], ["created_at", "2020-11-01 17:46:25.341468"], ["updated_at", "2020-11-01 17:46:25.341468"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c0769a5b-132d-4998-acc7-f657b80e1cd1] Performing ActiveStorage::AnalyzeJob (Job ID: c0769a5b-132d-4998-acc7-f657b80e1cd1) from Async(active_storage_analysis) enqueued at 2020-11-01T17:46:25Z with arguments: #<GlobalID:0x00007fa53007de88 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c0769a5b-132d-4998-acc7-f657b80e1cd1]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c0769a5b-132d-4998-acc7-f657b80e1cd1]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (39.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c0769a5b-132d-4998-acc7-f657b80e1cd1]   [1m[35m (45.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c0769a5b-132d-4998-acc7-f657b80e1cd1] Performed ActiveStorage::AnalyzeJob (Job ID: c0769a5b-132d-4998-acc7-f657b80e1cd1) from Async(active_storage_analysis) in 49.17ms
  [1m[35m (14.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.3ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (920.8ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (45.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:46:26.417936"], ["updated_at", "2020-11-01 17:46:26.417936"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "fu1eahy0oxhjouzkw9c148a4b7fl"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:46:26.422977"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 17:46:26.425221"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:46:26.427271"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.6ms) [0m[32mUploaded file to key: fu1eahy0oxhjouzkw9c148a4b7fl (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7c08cb62-c8fb-4e26-a1ff-26e976dbbf7c) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000056062d9cc488 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:50:59.288905"], ["updated_at", "2020-11-01 17:50:59.288905"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "6yruaxs9nmcp621lgkv9o5pc4vmt"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:50:59.297217"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 17:50:59.299979"]]
  [1m[36mProductUpload Update (0.7ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:50:59.302221"], ["id", 2]]
  [1m[35m (30.4ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.9ms) [0m[32mUploaded file to key: 6yruaxs9nmcp621lgkv9o5pc4vmt (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ae25cdf1-d5ef-4d45-8907-19eaf89e406d) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000056159de78368 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.4ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Bradtke-Hermiston"], ["model", "Ronny Cremin"], ["color", "chocolate"], ["carrier_plan_type", "pos"], ["quantity", 8], ["price", "14.47"], ["created_at", "2020-11-01 17:50:59.590173"], ["updated_at", "2020-11-01 17:50:59.590173"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ae25cdf1-d5ef-4d45-8907-19eaf89e406d] Performing ActiveStorage::AnalyzeJob (Job ID: ae25cdf1-d5ef-4d45-8907-19eaf89e406d) from Async(active_storage_analysis) enqueued at 2020-11-01T17:50:59Z with arguments: #<GlobalID:0x00007fbd2c082e10 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ae25cdf1-d5ef-4d45-8907-19eaf89e406d]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ae25cdf1-d5ef-4d45-8907-19eaf89e406d]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[35m (68.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ae25cdf1-d5ef-4d45-8907-19eaf89e406d]   [1m[35m (43.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ae25cdf1-d5ef-4d45-8907-19eaf89e406d] Performed ActiveStorage::AnalyzeJob (Job ID: ae25cdf1-d5ef-4d45-8907-19eaf89e406d) from Async(active_storage_analysis) in 57.62ms
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (21.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.0ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.7ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (548.2ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:51:00.297609"], ["updated_at", "2020-11-01 17:51:00.297609"]]
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "tt1ox4jiirv6hpf363olrso2ru7t"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:51:00.303789"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 17:51:00.306703"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:51:00.309433"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.6ms) [0m[32mUploaded file to key: tt1ox4jiirv6hpf363olrso2ru7t (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e585720b-5d6f-4200-b748-71e85f387c22) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000056159cfef0a8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.5ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 17:51:00.320691','2020-11-01 17:51:00.320691'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 17:51:00.320691','2020-11-01 17:51:00.320691'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 17:51:00.320691','2020-11-01 17:51:00.320691'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 17:51:00.320691','2020-11-01 17:51:00.320691'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 17:51:00.320691','2020-11-01 17:51:00.320691'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 17:51:00.320691','2020-11-01 17:51:00.320691'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 17:51:00.320691','2020-11-01 17:51:00.320691'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 17:51:00.320691','2020-11-01 17:51:00.320691'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 17:51:00.320691','2020-11-01 17:51:00.320691'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 17:51:00.320691','2020-11-01 17:51:00.320691'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 17:51:00.320691','2020-11-01 17:51:00.320691'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 17:51:00.320691','2020-11-01 17:51:00.320691') RETURNING "id"[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:51:00.375384"], ["updated_at", "2020-11-01 17:51:00.375384"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "7pvl0xks9p85nb2zktins38fxkvx"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 17:51:00.381844"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 17:51:00.390519"]]
  [1m[36mProductUpload Update (1.2ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:51:00.392323"], ["id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (5.0ms) [0m[32mUploaded file to key: 7pvl0xks9p85nb2zktins38fxkvx (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5e3c3a8c-dacb-4b39-a9f1-45b45e41c33d) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000056159e8093f0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[36mActiveStorage::Blob Load (6.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:51:28.357794"], ["updated_at", "2020-11-01 17:51:28.357794"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "1kxvec3877ma87b2nuxg8zjiiklf"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:51:28.367524"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 17:51:28.369490"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:51:28.372111"], ["id", 3]]
  [1m[35m (29.8ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.9ms) [0m[32mUploaded file to key: 1kxvec3877ma87b2nuxg8zjiiklf (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1aa09448-e2be-420a-9eb3-8edc3a3a20b1) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005638ee7b2aa0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Upton LLC"], ["model", "Asuncion Kilback"], ["color", "apricot"], ["carrier_plan_type", "pos"], ["quantity", 6], ["price", "20.47"], ["created_at", "2020-11-01 17:51:28.655956"], ["updated_at", "2020-11-01 17:51:28.655956"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1aa09448-e2be-420a-9eb3-8edc3a3a20b1] Performing ActiveStorage::AnalyzeJob (Job ID: 1aa09448-e2be-420a-9eb3-8edc3a3a20b1) from Async(active_storage_analysis) enqueued at 2020-11-01T17:51:28Z with arguments: #<GlobalID:0x00007f877007cb10 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [1aa09448-e2be-420a-9eb3-8edc3a3a20b1]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1aa09448-e2be-420a-9eb3-8edc3a3a20b1]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (60.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1aa09448-e2be-420a-9eb3-8edc3a3a20b1]   [1m[35m (61.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1aa09448-e2be-420a-9eb3-8edc3a3a20b1] Performed ActiveStorage::AnalyzeJob (Job ID: 1aa09448-e2be-420a-9eb3-8edc3a3a20b1) from Async(active_storage_analysis) in 65.3ms
  [1m[35m (15.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (522.2ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (32.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:51:29.341053"], ["updated_at", "2020-11-01 17:51:29.341053"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "wahcfrkyohfma09r8zf2dwxahnuf"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 17:51:29.346953"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 17:51:29.350205"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:51:29.353184"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (5.4ms) [0m[32mUploaded file to key: wahcfrkyohfma09r8zf2dwxahnuf (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 616f75ab-3954-46ae-921c-c6c0815af099) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005638ef0da290 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.1ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 17:51:29.367273','2020-11-01 17:51:29.367273'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 17:51:29.367273','2020-11-01 17:51:29.367273'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 17:51:29.367273','2020-11-01 17:51:29.367273'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 17:51:29.367273','2020-11-01 17:51:29.367273'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 17:51:29.367273','2020-11-01 17:51:29.367273'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 17:51:29.367273','2020-11-01 17:51:29.367273'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 17:51:29.367273','2020-11-01 17:51:29.367273'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 17:51:29.367273','2020-11-01 17:51:29.367273'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 17:51:29.367273','2020-11-01 17:51:29.367273'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 17:51:29.367273','2020-11-01 17:51:29.367273'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 17:51:29.367273','2020-11-01 17:51:29.367273'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 17:51:29.367273','2020-11-01 17:51:29.367273') RETURNING "id"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (1.5ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 17:51:29.416540"], ["updated_at", "2020-11-01 17:51:29.416540"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "yoj1tp66b2ath9wwr6fxtjww0luf"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 17:51:29.428290"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 17:51:29.432664"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 17:51:29.436187"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (10.0ms) [0m[32mUploaded file to key: yoj1tp66b2ath9wwr6fxtjww0luf (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e8b9bf49-aaa1-41ba-899f-4749792eeb2e) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005638ef14e500 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[36mActiveStorage::Blob Load (3.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.5ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:39:36.496750"], ["updated_at", "2020-11-01 18:39:36.496750"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "gqqpbcni387l7d62hy2nc7couukw"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:39:36.504330"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 18:39:36.506228"]]
  [1m[36mProductUpload Update (2.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:39:36.508590"], ["id", 3]]
  [1m[35m (33.6ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.7ms) [0m[32mUploaded file to key: gqqpbcni387l7d62hy2nc7couukw (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2622851d-20a8-4c71-9fc4-5c312088ed86) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055ab88b25f00 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Hodkiewicz Group"], ["model", "Rev. Brain Erdman"], ["color", "salmon"], ["carrier_plan_type", "pos"], ["quantity", 6], ["price", "42.44"], ["created_at", "2020-11-01 18:39:36.851141"], ["updated_at", "2020-11-01 18:39:36.851141"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2622851d-20a8-4c71-9fc4-5c312088ed86] Performing ActiveStorage::AnalyzeJob (Job ID: 2622851d-20a8-4c71-9fc4-5c312088ed86) from Async(active_storage_analysis) enqueued at 2020-11-01T18:39:36Z with arguments: #<GlobalID:0x00007f4db8083830 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [2622851d-20a8-4c71-9fc4-5c312088ed86]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2622851d-20a8-4c71-9fc4-5c312088ed86]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (85.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2622851d-20a8-4c71-9fc4-5c312088ed86]   [1m[35m (84.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2622851d-20a8-4c71-9fc4-5c312088ed86] Performed ActiveStorage::AnalyzeJob (Job ID: 2622851d-20a8-4c71-9fc4-5c312088ed86) from Async(active_storage_analysis) in 90.06ms
  [1m[35m (22.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.7ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (572.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:39:37 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 967)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /media/oswaldolinhares/46CA6689CA6674D93/dev/jobtest/aliveApp/hiring/ruby/technical_alive_test_ruby/public/packs-test
[Webpacker] Hash: 50d4d85572e489c249d3
Version: webpack 4.44.2
Time: 3103ms
Built at: 2020-11-01 15:39:45
                                     Asset       Size       Chunks                         Chunk Names
    js/application-6e666603b7f1a1c0fb98.js    216 KiB  application  [emitted] [immutable]  application
js/application-6e666603b7f1a1c0fb98.js.map    216 KiB  application  [emitted] [dev]        application
                             manifest.json  384 bytes               [emitted]              
Entrypoint application = js/application-6e666603b7f1a1c0fb98.js js/application-6e666603b7f1a1c0fb98.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/controllers sync recursive _controller\.js$] ./app/javascript/controllers sync _controller\.js$ 195 bytes {application} [built]
[./app/javascript/controllers/index.js] 396 bytes {application} [built]
[./app/javascript/controllers/product_upload_controller.js] 3.37 KiB {application} [optional] [built]
[./app/javascript/packs/application.js] 773 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 35 hidden modules

  Rendered layouts/_navbar.html.erb (Duration: 1.6ms | Allocations: 276)
Completed 200 OK in 7854ms (Views: 7845.3ms | ActiveRecord: 0.0ms | Allocations: 61892)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:39:57.186054"], ["updated_at", "2020-11-01 18:39:57.186054"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "ju13kvummr0nl8181e6nothsu0bq"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:39:57.194830"]]
  [1m[36mActiveStorage::Attachment Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:39:57.198184"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:39:57.201491"], ["id", 1]]
  [1m[35m (38.7ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (8.1ms) [0m[32mUploaded file to key: ju13kvummr0nl8181e6nothsu0bq (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 95789c18-9bf1-49f9-b273-2fe99c898f19) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005560bbfdd650 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Stamm-Murray"], ["model", "Hilario Metz"], ["color", "carmine"], ["carrier_plan_type", "pre"], ["quantity", 2], ["price", "52.47"], ["created_at", "2020-11-01 18:39:57.658610"], ["updated_at", "2020-11-01 18:39:57.658610"]]
  [1m[35m (38.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [95789c18-9bf1-49f9-b273-2fe99c898f19] Performing ActiveStorage::AnalyzeJob (Job ID: 95789c18-9bf1-49f9-b273-2fe99c898f19) from Async(active_storage_analysis) enqueued at 2020-11-01T18:39:57Z with arguments: #<GlobalID:0x00005560bc67f490 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (3.5ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [95789c18-9bf1-49f9-b273-2fe99c898f19]   [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [95789c18-9bf1-49f9-b273-2fe99c898f19]   [1m[36mActiveStorage::Blob Update (1.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [95789c18-9bf1-49f9-b273-2fe99c898f19]   [1m[35m (24.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [95789c18-9bf1-49f9-b273-2fe99c898f19] Performed ActiveStorage::AnalyzeJob (Job ID: 95789c18-9bf1-49f9-b273-2fe99c898f19) from Async(active_storage_analysis) in 33.69ms
  [1m[35m (30.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (33.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.7ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.6ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (618.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:39:58 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 6.7ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.3ms | Allocations: 276)
Completed 200 OK in 383ms (Views: 369.8ms | ActiveRecord: 0.0ms | Allocations: 10581)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:40:46.179990"], ["updated_at", "2020-11-01 18:40:46.179990"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "rdh6ux0h92pjn29sgp4c54db4iro"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:40:46.188956"]]
  [1m[36mActiveStorage::Attachment Create (1.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:40:46.191700"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:40:46.197429"], ["id", 1]]
  [1m[35m (30.8ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.6ms) [0m[32mUploaded file to key: rdh6ux0h92pjn29sgp4c54db4iro (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5439d281-f49c-487d-a52d-14a2c8300c7b) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000559a6bc8f5e0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.2ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Sauer LLC"], ["model", "Lauren Cronin"], ["color", "ochre"], ["carrier_plan_type", "pos"], ["quantity", 2], ["price", "65.95"], ["created_at", "2020-11-01 18:40:46.530725"], ["updated_at", "2020-11-01 18:40:46.530725"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5439d281-f49c-487d-a52d-14a2c8300c7b] Performing ActiveStorage::AnalyzeJob (Job ID: 5439d281-f49c-487d-a52d-14a2c8300c7b) from Async(active_storage_analysis) enqueued at 2020-11-01T18:40:46Z with arguments: #<GlobalID:0x00007fe65007dc60 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [5439d281-f49c-487d-a52d-14a2c8300c7b]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5439d281-f49c-487d-a52d-14a2c8300c7b]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (43.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5439d281-f49c-487d-a52d-14a2c8300c7b]   [1m[35m (38.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5439d281-f49c-487d-a52d-14a2c8300c7b] Performed ActiveStorage::AnalyzeJob (Job ID: 5439d281-f49c-487d-a52d-14a2c8300c7b) from Async(active_storage_analysis) in 42.98ms
  [1m[35m (10.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.3ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (629.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (21.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:40:47 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.6ms | Allocations: 276)
Completed 200 OK in 395ms (Views: 381.8ms | ActiveRecord: 0.0ms | Allocations: 10781)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.1ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:41:46.144815"], ["updated_at", "2020-11-01 18:41:46.144815"]]
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "a9xrhfel3l7qalpht7ztd5forsky"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:41:46.154820"]]
  [1m[36mActiveStorage::Attachment Create (2.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:41:46.157346"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:41:46.161199"], ["id", 1]]
  [1m[35m (37.7ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.1ms) [0m[32mUploaded file to key: a9xrhfel3l7qalpht7ztd5forsky (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4e096fd1-5d07-4cd8-81a5-631afbd91199) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055e7ef26bc40 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (2.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Lowe-Lemke"], ["model", "Victoria Wisozk"], ["color", "grey"], ["carrier_plan_type", "pos"], ["quantity", 3], ["price", "72.39"], ["created_at", "2020-11-01 18:41:46.507799"], ["updated_at", "2020-11-01 18:41:46.507799"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4e096fd1-5d07-4cd8-81a5-631afbd91199] Performing ActiveStorage::AnalyzeJob (Job ID: 4e096fd1-5d07-4cd8-81a5-631afbd91199) from Async(active_storage_analysis) enqueued at 2020-11-01T18:41:46Z with arguments: #<GlobalID:0x00007f00a8078ac8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [4e096fd1-5d07-4cd8-81a5-631afbd91199]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4e096fd1-5d07-4cd8-81a5-631afbd91199]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (46.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4e096fd1-5d07-4cd8-81a5-631afbd91199]   [1m[35m (36.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4e096fd1-5d07-4cd8-81a5-631afbd91199] Performed ActiveStorage::AnalyzeJob (Job ID: 4e096fd1-5d07-4cd8-81a5-631afbd91199) from Async(active_storage_analysis) in 40.03ms
  [1m[35m (7.7ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (22.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.5ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (525.1ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (28.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:41:47 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.5ms | Allocations: 277)
Completed 200 OK in 428ms (Views: 414.7ms | ActiveRecord: 0.0ms | Allocations: 10802)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:43:02.053007"], ["updated_at", "2020-11-01 18:43:02.053007"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "26xwiogn5kywlvwnj6z3j443ijpk"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:43:02.061983"]]
  [1m[36mActiveStorage::Attachment Create (4.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:43:02.065710"]]
  [1m[36mProductUpload Update (0.7ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:43:02.072760"], ["id", 1]]
  [1m[35m (23.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.1ms) [0m[32mUploaded file to key: 26xwiogn5kywlvwnj6z3j443ijpk (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: cc824764-973e-4f6c-a3a7-e47c7702bd6f) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000056454165d240 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Muller-Luettgen"], ["model", "Rev. Charles Rath"], ["color", "yellow"], ["carrier_plan_type", "pos"], ["quantity", 1], ["price", "70.04"], ["created_at", "2020-11-01 18:43:02.427538"], ["updated_at", "2020-11-01 18:43:02.427538"]]
  [1m[35m (30.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cc824764-973e-4f6c-a3a7-e47c7702bd6f] Performing ActiveStorage::AnalyzeJob (Job ID: cc824764-973e-4f6c-a3a7-e47c7702bd6f) from Async(active_storage_analysis) enqueued at 2020-11-01T18:43:02Z with arguments: #<GlobalID:0x0000564541cd0140 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cc824764-973e-4f6c-a3a7-e47c7702bd6f]   [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cc824764-973e-4f6c-a3a7-e47c7702bd6f]   [1m[36mActiveStorage::Blob Update (25.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (27.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (4.9ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.0ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cc824764-973e-4f6c-a3a7-e47c7702bd6f]   [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cc824764-973e-4f6c-a3a7-e47c7702bd6f] Performed ActiveStorage::AnalyzeJob (Job ID: cc824764-973e-4f6c-a3a7-e47c7702bd6f) from Async(active_storage_analysis) in 52.12ms
  [1m[35m (728.1ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (25.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:43:03 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.6ms | Allocations: 276)
Completed 200 OK in 475ms (Views: 464.3ms | ActiveRecord: 0.0ms | Allocations: 10826)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.4ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:43:08.206409"], ["updated_at", "2020-11-01 18:43:08.206409"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "7ub64j2r3eh8xxywtqnnu1onjile"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:43:08.218942"]]
  [1m[36mActiveStorage::Attachment Create (1.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:43:08.223284"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:43:08.227436"], ["id", 1]]
  [1m[35m (218.2ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.1ms) [0m[32mUploaded file to key: 7ub64j2r3eh8xxywtqnnu1onjile (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2c03ceaf-f7a1-44dc-9dee-0545a1824b27) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000558754323af8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (2.2ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Bashirian and Sons"], ["model", "Annmarie Moen"], ["color", "harlequin"], ["carrier_plan_type", "pos"], ["quantity", 2], ["price", "36.05"], ["created_at", "2020-11-01 18:43:08.836159"], ["updated_at", "2020-11-01 18:43:08.836159"]]
  [1m[35m (25.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (7.0ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2c03ceaf-f7a1-44dc-9dee-0545a1824b27] Performing ActiveStorage::AnalyzeJob (Job ID: 2c03ceaf-f7a1-44dc-9dee-0545a1824b27) from Async(active_storage_analysis) enqueued at 2020-11-01T18:43:08Z with arguments: #<GlobalID:0x00007f13d4078458 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [2c03ceaf-f7a1-44dc-9dee-0545a1824b27]   [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (30.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2c03ceaf-f7a1-44dc-9dee-0545a1824b27]   [1m[36mActiveStorage::Blob Update (16.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (2.4ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2c03ceaf-f7a1-44dc-9dee-0545a1824b27]   [1m[35m (22.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2c03ceaf-f7a1-44dc-9dee-0545a1824b27] Performed ActiveStorage::AnalyzeJob (Job ID: 2c03ceaf-f7a1-44dc-9dee-0545a1824b27) from Async(active_storage_analysis) in 44.92ms
  [1m[35m (536.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (44.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:43:09 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.9ms | Allocations: 276)
Completed 200 OK in 330ms (Views: 322.0ms | ActiveRecord: 0.0ms | Allocations: 10840)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:43:46.531519"], ["updated_at", "2020-11-01 18:43:46.531519"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "k7ppx28no5dcll8eavx8ypmocpz4"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:43:46.542666"]]
  [1m[36mActiveStorage::Attachment Create (2.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:43:46.547421"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:43:46.553782"], ["id", 1]]
  [1m[35m (29.9ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.3ms) [0m[32mUploaded file to key: k7ppx28no5dcll8eavx8ypmocpz4 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1b0242e1-7066-4d61-b367-73dc5b21555f) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055582aa681a0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.4ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Kulas, Swift and Krajcik"], ["model", "Johnson Stoltenberg"], ["color", "magenta"], ["carrier_plan_type", "pre"], ["quantity", 1], ["price", "86.44"], ["created_at", "2020-11-01 18:43:46.972134"], ["updated_at", "2020-11-01 18:43:46.972134"]]
  [1m[36mActiveStorage::Blob Load (1.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1b0242e1-7066-4d61-b367-73dc5b21555f] Performing ActiveStorage::AnalyzeJob (Job ID: 1b0242e1-7066-4d61-b367-73dc5b21555f) from Async(active_storage_analysis) enqueued at 2020-11-01T18:43:46Z with arguments: #<GlobalID:0x00007f39840875b8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [1b0242e1-7066-4d61-b367-73dc5b21555f]   [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (53.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1b0242e1-7066-4d61-b367-73dc5b21555f]   [1m[36mActiveStorage::Blob Update (18.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1b0242e1-7066-4d61-b367-73dc5b21555f]   [1m[35m (26.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1b0242e1-7066-4d61-b367-73dc5b21555f] Performed ActiveStorage::AnalyzeJob (Job ID: 1b0242e1-7066-4d61-b367-73dc5b21555f) from Async(active_storage_analysis) in 53.32ms
  [1m[35m (25.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (31.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (531.2ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:43:47 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.4ms | Allocations: 276)
Completed 200 OK in 472ms (Views: 463.5ms | ActiveRecord: 0.0ms | Allocations: 10860)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:43:53.620644"], ["updated_at", "2020-11-01 18:43:53.620644"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "xcfbiq9m50l1suu5qhjqjyagv0lp"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:43:53.632358"]]
  [1m[36mActiveStorage::Attachment Create (1.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:43:53.638167"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:43:53.644633"], ["id", 1]]
  [1m[35m (28.0ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.6ms) [0m[32mUploaded file to key: xcfbiq9m50l1suu5qhjqjyagv0lp (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d691b451-2d32-4f43-aa48-0216912b3e4e) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055f0b6111cd0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Lakin and Sons"], ["model", "Prof. Aleida Pollich"], ["color", "yellow"], ["carrier_plan_type", "pos"], ["quantity", 5], ["price", "75.38"], ["created_at", "2020-11-01 18:43:53.940958"], ["updated_at", "2020-11-01 18:43:53.940958"]]
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d691b451-2d32-4f43-aa48-0216912b3e4e] Performing ActiveStorage::AnalyzeJob (Job ID: d691b451-2d32-4f43-aa48-0216912b3e4e) from Async(active_storage_analysis) enqueued at 2020-11-01T18:43:53Z with arguments: #<GlobalID:0x00007f3ffc086428 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d691b451-2d32-4f43-aa48-0216912b3e4e]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d691b451-2d32-4f43-aa48-0216912b3e4e]   [1m[36mActiveStorage::Blob Update (0.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (45.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d691b451-2d32-4f43-aa48-0216912b3e4e]   [1m[35m (35.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d691b451-2d32-4f43-aa48-0216912b3e4e] Performed ActiveStorage::AnalyzeJob (Job ID: d691b451-2d32-4f43-aa48-0216912b3e4e) from Async(active_storage_analysis) in 43.45ms
  [1m[35m (14.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (32.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.5ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.8ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (721.6ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:43:54 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.4ms | Allocations: 276)
Completed 200 OK in 353ms (Views: 341.8ms | ActiveRecord: 0.0ms | Allocations: 10880)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:44:42.027822"], ["updated_at", "2020-11-01 18:44:42.027822"]]
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "x2o4ay2vx79xk86mpk10er0h1r4u"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:44:42.039926"]]
  [1m[36mActiveStorage::Attachment Create (1.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:44:42.044641"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:44:42.049180"], ["id", 1]]
  [1m[35m (27.6ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.8ms) [0m[32mUploaded file to key: x2o4ay2vx79xk86mpk10er0h1r4u (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 356d22f6-00d0-440c-96e3-5db8015feeb3) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005646d02c58b8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Hudson-Pagac"], ["model", "Pres. Willard Hane"], ["color", "beige"], ["carrier_plan_type", "pos"], ["quantity", 10], ["price", "71.76"], ["created_at", "2020-11-01 18:44:42.350176"], ["updated_at", "2020-11-01 18:44:42.350176"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [356d22f6-00d0-440c-96e3-5db8015feeb3] Performing ActiveStorage::AnalyzeJob (Job ID: 356d22f6-00d0-440c-96e3-5db8015feeb3) from Async(active_storage_analysis) enqueued at 2020-11-01T18:44:42Z with arguments: #<GlobalID:0x00007efce00871c0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [356d22f6-00d0-440c-96e3-5db8015feeb3]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [356d22f6-00d0-440c-96e3-5db8015feeb3]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (42.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [356d22f6-00d0-440c-96e3-5db8015feeb3]   [1m[35m (41.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [356d22f6-00d0-440c-96e3-5db8015feeb3] Performed ActiveStorage::AnalyzeJob (Job ID: 356d22f6-00d0-440c-96e3-5db8015feeb3) from Async(active_storage_analysis) in 44.78ms
  [1m[35m (9.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.3ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.6ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (718.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (60.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:44:43 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 2.3ms | Allocations: 276)
Completed 200 OK in 347ms (Views: 338.3ms | ActiveRecord: 0.0ms | Allocations: 10900)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:44:59.285337"], ["updated_at", "2020-11-01 18:44:59.285337"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "4mb949pg0d4m9ss565kefi4cnynj"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:44:59.295794"]]
  [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:44:59.298966"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:44:59.301688"], ["id", 1]]
  [1m[35m (58.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.8ms) [0m[32mUploaded file to key: 4mb949pg0d4m9ss565kefi4cnynj (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5ab763bb-3add-485c-8832-546cb6bd2c01) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005563b1f6a378 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Spinka, Ullrich and Breitenberg"], ["model", "Eliz Johnson"], ["color", "pear"], ["carrier_plan_type", "pos"], ["quantity", 10], ["price", "50.44"], ["created_at", "2020-11-01 18:44:59.618718"], ["updated_at", "2020-11-01 18:44:59.618718"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5ab763bb-3add-485c-8832-546cb6bd2c01] Performing ActiveStorage::AnalyzeJob (Job ID: 5ab763bb-3add-485c-8832-546cb6bd2c01) from Async(active_storage_analysis) enqueued at 2020-11-01T18:44:59Z with arguments: #<GlobalID:0x00007f5b14087a98 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [5ab763bb-3add-485c-8832-546cb6bd2c01]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5ab763bb-3add-485c-8832-546cb6bd2c01]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (42.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5ab763bb-3add-485c-8832-546cb6bd2c01]   [1m[35m (36.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5ab763bb-3add-485c-8832-546cb6bd2c01] Performed ActiveStorage::AnalyzeJob (Job ID: 5ab763bb-3add-485c-8832-546cb6bd2c01) from Async(active_storage_analysis) in 39.28ms
  [1m[35m (13.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (524.5ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:45:00 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.3ms | Allocations: 276)
Completed 200 OK in 351ms (Views: 340.8ms | ActiveRecord: 0.0ms | Allocations: 10921)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:45:29.128128"], ["updated_at", "2020-11-01 18:45:29.128128"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "znxfb33wua50sgiwtq8sws1440yu"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:45:29.135598"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:45:29.138029"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:45:29.140468"], ["id", 1]]
  [1m[35m (47.1ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (11.0ms) [0m[32mUploaded file to key: znxfb33wua50sgiwtq8sws1440yu (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a9765b74-97f8-489b-946c-a09606489e90) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000056318dd39130 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.2ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Watsica Group"], ["model", "Rep. Cristopher Padberg"], ["color", "salmon"], ["carrier_plan_type", "pos"], ["quantity", 3], ["price", "69.44"], ["created_at", "2020-11-01 18:45:29.450628"], ["updated_at", "2020-11-01 18:45:29.450628"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a9765b74-97f8-489b-946c-a09606489e90] Performing ActiveStorage::AnalyzeJob (Job ID: a9765b74-97f8-489b-946c-a09606489e90) from Async(active_storage_analysis) enqueued at 2020-11-01T18:45:29Z with arguments: #<GlobalID:0x00007f2d8c086658 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [a9765b74-97f8-489b-946c-a09606489e90]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a9765b74-97f8-489b-946c-a09606489e90]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (50.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a9765b74-97f8-489b-946c-a09606489e90]   [1m[35m (49.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a9765b74-97f8-489b-946c-a09606489e90] Performed ActiveStorage::AnalyzeJob (Job ID: a9765b74-97f8-489b-946c-a09606489e90) from Async(active_storage_analysis) in 52.93ms
  [1m[35m (11.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.8ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.6ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (548.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (30.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:45:30 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.9ms | Allocations: 276)
Completed 200 OK in 345ms (Views: 331.7ms | ActiveRecord: 0.0ms | Allocations: 10941)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:45:44.484697"], ["updated_at", "2020-11-01 18:45:44.484697"]]
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "z4a5ofub78g06m367irkxwgo8frq"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:45:44.497397"]]
  [1m[36mActiveStorage::Attachment Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:45:44.502087"]]
  [1m[36mProductUpload Update (0.8ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:45:44.505389"], ["id", 1]]
  [1m[35m (28.2ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.3ms) [0m[32mUploaded file to key: z4a5ofub78g06m367irkxwgo8frq (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6464c859-0771-45fc-8aaa-8ca32b9ac329) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055befbe947f0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Gibson, MacGyver and Bins"], ["model", "Stanford Spencer"], ["color", "red"], ["carrier_plan_type", "pos"], ["quantity", 7], ["price", "84.86"], ["created_at", "2020-11-01 18:45:44.828173"], ["updated_at", "2020-11-01 18:45:44.828173"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6464c859-0771-45fc-8aaa-8ca32b9ac329] Performing ActiveStorage::AnalyzeJob (Job ID: 6464c859-0771-45fc-8aaa-8ca32b9ac329) from Async(active_storage_analysis) enqueued at 2020-11-01T18:45:44Z with arguments: #<GlobalID:0x00007f6f78083e48 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [6464c859-0771-45fc-8aaa-8ca32b9ac329]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (31.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6464c859-0771-45fc-8aaa-8ca32b9ac329]   [1m[36mActiveStorage::Blob Update (10.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6464c859-0771-45fc-8aaa-8ca32b9ac329]   [1m[35m (24.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6464c859-0771-45fc-8aaa-8ca32b9ac329] Performed ActiveStorage::AnalyzeJob (Job ID: 6464c859-0771-45fc-8aaa-8ca32b9ac329) from Async(active_storage_analysis) in 38.85ms
  [1m[35m (24.3ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (23.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.4ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.0ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (523.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (31.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:45:45 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.2ms | Allocations: 276)
Completed 200 OK in 380ms (Views: 371.7ms | ActiveRecord: 0.0ms | Allocations: 10962)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:46:38.395120"], ["updated_at", "2020-11-01 18:46:38.395120"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "19hvzs2un5wnkxngy3ftuukx562e"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:46:38.405929"]]
  [1m[36mActiveStorage::Attachment Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:46:38.409958"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:46:38.413346"], ["id", 1]]
  [1m[35m (24.1ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.1ms) [0m[32mUploaded file to key: 19hvzs2un5wnkxngy3ftuukx562e (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8da90e52-1564-4180-8b71-519bae0fd49f) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055e639530d48 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Schultz-Kling"], ["model", "Noma Gulgowski"], ["color", "indigo"], ["carrier_plan_type", "pre"], ["quantity", 8], ["price", "36.29"], ["created_at", "2020-11-01 18:46:38.684193"], ["updated_at", "2020-11-01 18:46:38.684193"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8da90e52-1564-4180-8b71-519bae0fd49f] Performing ActiveStorage::AnalyzeJob (Job ID: 8da90e52-1564-4180-8b71-519bae0fd49f) from Async(active_storage_analysis) enqueued at 2020-11-01T18:46:38Z with arguments: #<GlobalID:0x00007f1b6407c3e0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8da90e52-1564-4180-8b71-519bae0fd49f]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8da90e52-1564-4180-8b71-519bae0fd49f]   [1m[36mActiveStorage::Blob Update (1.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (48.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8da90e52-1564-4180-8b71-519bae0fd49f]   [1m[35m (39.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8da90e52-1564-4180-8b71-519bae0fd49f] Performed ActiveStorage::AnalyzeJob (Job ID: 8da90e52-1564-4180-8b71-519bae0fd49f) from Async(active_storage_analysis) in 46.44ms
  [1m[35m (14.3ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.9ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.6ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (572.1ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:46:39 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.4ms | Allocations: 276)
Completed 200 OK in 362ms (Views: 353.9ms | ActiveRecord: 0.0ms | Allocations: 10981)
  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (3.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:46:49.637580"], ["updated_at", "2020-11-01 18:46:49.637580"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "n4aib67jv404qolv999qowb2797d"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:46:49.650675"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:46:49.652394"]]
  [1m[36mProductUpload Update (0.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:46:49.654125"], ["id", 1]]
  [1m[35m (37.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.2ms) [0m[32mUploaded file to key: n4aib67jv404qolv999qowb2797d (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 24be2719-2a38-472a-9bed-67b533f8da4e) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000557bb81552f0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Wisoky-Schumm"], ["model", "Evelynn Zulauf"], ["color", "rose"], ["carrier_plan_type", "pre"], ["quantity", 9], ["price", "38.49"], ["created_at", "2020-11-01 18:46:49.957956"], ["updated_at", "2020-11-01 18:46:49.957956"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [24be2719-2a38-472a-9bed-67b533f8da4e] Performing ActiveStorage::AnalyzeJob (Job ID: 24be2719-2a38-472a-9bed-67b533f8da4e) from Async(active_storage_analysis) enqueued at 2020-11-01T18:46:49Z with arguments: #<GlobalID:0x00007f3578087fa0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [24be2719-2a38-472a-9bed-67b533f8da4e]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [24be2719-2a38-472a-9bed-67b533f8da4e]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (45.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [24be2719-2a38-472a-9bed-67b533f8da4e]   [1m[35m (34.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [24be2719-2a38-472a-9bed-67b533f8da4e] Performed ActiveStorage::AnalyzeJob (Job ID: 24be2719-2a38-472a-9bed-67b533f8da4e) from Async(active_storage_analysis) in 40.0ms
  [1m[35m (17.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.5ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (521.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (29.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:46:50 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.3ms | Allocations: 276)
Completed 200 OK in 365ms (Views: 356.7ms | ActiveRecord: 0.0ms | Allocations: 11000)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:46:59.795422"], ["updated_at", "2020-11-01 18:46:59.795422"]]
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "wlbhy5ejb8o0mgkq4vhagw8byvoo"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:46:59.806087"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:46:59.809518"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:46:59.812847"], ["id", 1]]
  [1m[35m (24.8ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.6ms) [0m[32mUploaded file to key: wlbhy5ejb8o0mgkq4vhagw8byvoo (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 21138c5d-b62f-4496-994b-96c3f8bbde48) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055600d1296f8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Botsford LLC"], ["model", "Shantay Zboncak"], ["color", "sky"], ["carrier_plan_type", "pre"], ["quantity", 6], ["price", "13.96"], ["created_at", "2020-11-01 18:47:00.089119"], ["updated_at", "2020-11-01 18:47:00.089119"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [21138c5d-b62f-4496-994b-96c3f8bbde48] Performing ActiveStorage::AnalyzeJob (Job ID: 21138c5d-b62f-4496-994b-96c3f8bbde48) from Async(active_storage_analysis) enqueued at 2020-11-01T18:46:59Z with arguments: #<GlobalID:0x00007fecb4082638 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [21138c5d-b62f-4496-994b-96c3f8bbde48]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [21138c5d-b62f-4496-994b-96c3f8bbde48]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (50.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [21138c5d-b62f-4496-994b-96c3f8bbde48]   [1m[35m (44.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [21138c5d-b62f-4496-994b-96c3f8bbde48] Performed ActiveStorage::AnalyzeJob (Job ID: 21138c5d-b62f-4496-994b-96c3f8bbde48) from Async(active_storage_analysis) in 48.51ms
  [1m[35m (12.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (21.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.2ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (524.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:47:00 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.4ms | Allocations: 276)
Completed 200 OK in 373ms (Views: 363.6ms | ActiveRecord: 0.0ms | Allocations: 11022)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:47:12.917553"], ["updated_at", "2020-11-01 18:47:12.917553"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "wykriqrdapr4o6nauurw2bxmjkf3"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:47:12.926632"]]
  [1m[36mActiveStorage::Attachment Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:47:12.931070"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:47:12.934728"], ["id", 1]]
  [1m[35m (28.4ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.0ms) [0m[32mUploaded file to key: wykriqrdapr4o6nauurw2bxmjkf3 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 68c31adb-78f1-4478-815c-e5c0d4334a83) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005648fe2eaae8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Kub and Sons"], ["model", "Miss Lovetta Torphy"], ["color", "indigo"], ["carrier_plan_type", "pre"], ["quantity", 8], ["price", "69.13"], ["created_at", "2020-11-01 18:47:13.216569"], ["updated_at", "2020-11-01 18:47:13.216569"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [68c31adb-78f1-4478-815c-e5c0d4334a83] Performing ActiveStorage::AnalyzeJob (Job ID: 68c31adb-78f1-4478-815c-e5c0d4334a83) from Async(active_storage_analysis) enqueued at 2020-11-01T18:47:12Z with arguments: #<GlobalID:0x00005648fd015cd8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [68c31adb-78f1-4478-815c-e5c0d4334a83]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [68c31adb-78f1-4478-815c-e5c0d4334a83]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (50.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [68c31adb-78f1-4478-815c-e5c0d4334a83]   [1m[35m (47.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [68c31adb-78f1-4478-815c-e5c0d4334a83] Performed ActiveStorage::AnalyzeJob (Job ID: 68c31adb-78f1-4478-815c-e5c0d4334a83) from Async(active_storage_analysis) in 50.82ms
  [1m[35m (10.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (548.7ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (165.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:47:14 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.2ms | Allocations: 276)
Completed 200 OK in 358ms (Views: 350.2ms | ActiveRecord: 0.0ms | Allocations: 11041)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:47:21.764836"], ["updated_at", "2020-11-01 18:47:21.764836"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "ssu6o01be9m04mmj202r8hx6kiys"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:47:21.776185"]]
  [1m[36mActiveStorage::Attachment Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:47:21.780755"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:47:21.783561"], ["id", 1]]
  [1m[35m (37.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (6.5ms) [0m[32mUploaded file to key: ssu6o01be9m04mmj202r8hx6kiys (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f220eaaf-b285-4de4-a7ce-5ff0c0e0496b) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055ee53448418 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Bashirian-O'Hara"], ["model", "Trudi Nolan"], ["color", "coral"], ["carrier_plan_type", "pos"], ["quantity", 9], ["price", "63.22"], ["created_at", "2020-11-01 18:47:22.096757"], ["updated_at", "2020-11-01 18:47:22.096757"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f220eaaf-b285-4de4-a7ce-5ff0c0e0496b] Performing ActiveStorage::AnalyzeJob (Job ID: f220eaaf-b285-4de4-a7ce-5ff0c0e0496b) from Async(active_storage_analysis) enqueued at 2020-11-01T18:47:21Z with arguments: #<GlobalID:0x000055ee5217e170 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f220eaaf-b285-4de4-a7ce-5ff0c0e0496b]   [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f220eaaf-b285-4de4-a7ce-5ff0c0e0496b]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (56.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f220eaaf-b285-4de4-a7ce-5ff0c0e0496b]   [1m[35m (47.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f220eaaf-b285-4de4-a7ce-5ff0c0e0496b] Performed ActiveStorage::AnalyzeJob (Job ID: f220eaaf-b285-4de4-a7ce-5ff0c0e0496b) from Async(active_storage_analysis) in 54.11ms
  [1m[35m (16.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.7ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (549.6ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (30.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:47:22 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.6ms | Allocations: 276)
Completed 200 OK in 356ms (Views: 347.1ms | ActiveRecord: 0.0ms | Allocations: 11061)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:48:31.713530"], ["updated_at", "2020-11-01 18:48:31.713530"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "qcbpcwmj0cgdqpvlo05q65mf7g4b"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:48:31.721249"]]
  [1m[36mActiveStorage::Attachment Create (1.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:48:31.724110"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:48:31.727269"], ["id", 1]]
  [1m[35m (24.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.9ms) [0m[32mUploaded file to key: qcbpcwmj0cgdqpvlo05q65mf7g4b (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: cfef21bd-cef9-45a5-8678-87f28c986e87) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000557af4fa54c8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Purdy, Mueller and Pouros"], ["model", "Cody Windler CPA"], ["color", "sangria"], ["carrier_plan_type", "pre"], ["quantity", 3], ["price", "36.54"], ["created_at", "2020-11-01 18:48:32.007831"], ["updated_at", "2020-11-01 18:48:32.007831"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cfef21bd-cef9-45a5-8678-87f28c986e87] Performing ActiveStorage::AnalyzeJob (Job ID: cfef21bd-cef9-45a5-8678-87f28c986e87) from Async(active_storage_analysis) enqueued at 2020-11-01T18:48:31Z with arguments: #<GlobalID:0x00007fa628084af0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [cfef21bd-cef9-45a5-8678-87f28c986e87]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cfef21bd-cef9-45a5-8678-87f28c986e87]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (34.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cfef21bd-cef9-45a5-8678-87f28c986e87]   [1m[35m (28.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cfef21bd-cef9-45a5-8678-87f28c986e87] Performed ActiveStorage::AnalyzeJob (Job ID: cfef21bd-cef9-45a5-8678-87f28c986e87) from Async(active_storage_analysis) in 32.03ms
  [1m[35m (14.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (546.7ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (32.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:48:32 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 966)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.2ms | Allocations: 276)
Completed 200 OK in 379ms (Views: 372.1ms | ActiveRecord: 0.0ms | Allocations: 11080)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:48:45.305965"], ["updated_at", "2020-11-01 18:48:45.305965"]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "7s3po6d4ll9a7ep7sjzwqr757m5e"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:48:45.311766"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:48:45.313482"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:48:45.315664"], ["id", 1]]
  [1m[35m (31.8ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.1ms) [0m[32mUploaded file to key: 7s3po6d4ll9a7ep7sjzwqr757m5e (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 96c55901-4ad5-4662-8cc0-99963c07e1cc) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000557d2a2cbd78 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.3ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Graham and Sons"], ["model", "Rick Treutel"], ["color", "blush"], ["carrier_plan_type", "pre"], ["quantity", 6], ["price", "91.77"], ["created_at", "2020-11-01 18:48:45.586770"], ["updated_at", "2020-11-01 18:48:45.586770"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [96c55901-4ad5-4662-8cc0-99963c07e1cc] Performing ActiveStorage::AnalyzeJob (Job ID: 96c55901-4ad5-4662-8cc0-99963c07e1cc) from Async(active_storage_analysis) enqueued at 2020-11-01T18:48:45Z with arguments: #<GlobalID:0x00007f81300817c8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [96c55901-4ad5-4662-8cc0-99963c07e1cc]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [96c55901-4ad5-4662-8cc0-99963c07e1cc]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (38.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [96c55901-4ad5-4662-8cc0-99963c07e1cc]   [1m[35m (25.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [96c55901-4ad5-4662-8cc0-99963c07e1cc] Performed ActiveStorage::AnalyzeJob (Job ID: 96c55901-4ad5-4662-8cc0-99963c07e1cc) from Async(active_storage_analysis) in 30.44ms
  [1m[35m (11.3ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.4ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.6ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (748.6ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (21.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:48:46 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.7ms | Allocations: 277)
Completed 200 OK in 435ms (Views: 427.0ms | ActiveRecord: 0.0ms | Allocations: 11102)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:49:35.021911"], ["updated_at", "2020-11-01 18:49:35.021911"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "wrga4n7ogy37fzpy6mze7imt3jml"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:49:35.030202"]]
  [1m[36mActiveStorage::Attachment Create (2.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:49:35.033512"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:49:35.038601"], ["id", 1]]
  [1m[35m (30.2ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.8ms) [0m[32mUploaded file to key: wrga4n7ogy37fzpy6mze7imt3jml (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 95f2d7fe-f655-4caa-9196-da8b4edab3ed) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005603c752e268 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Leuschke-Jenkins"], ["model", "Elden Bauch"], ["color", "aquamarine"], ["carrier_plan_type", "pre"], ["quantity", 8], ["price", "75.24"], ["created_at", "2020-11-01 18:49:35.334766"], ["updated_at", "2020-11-01 18:49:35.334766"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [95f2d7fe-f655-4caa-9196-da8b4edab3ed] Performing ActiveStorage::AnalyzeJob (Job ID: 95f2d7fe-f655-4caa-9196-da8b4edab3ed) from Async(active_storage_analysis) enqueued at 2020-11-01T18:49:35Z with arguments: #<GlobalID:0x00005603c62a6dc0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [95f2d7fe-f655-4caa-9196-da8b4edab3ed]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [95f2d7fe-f655-4caa-9196-da8b4edab3ed]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (38.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [95f2d7fe-f655-4caa-9196-da8b4edab3ed]   [1m[35m (37.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [95f2d7fe-f655-4caa-9196-da8b4edab3ed] Performed ActiveStorage::AnalyzeJob (Job ID: 95f2d7fe-f655-4caa-9196-da8b4edab3ed) from Async(active_storage_analysis) in 40.48ms
  [1m[35m (12.5ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.4ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (524.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:49:35 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 2.5ms | Allocations: 276)
Completed 200 OK in 387ms (Views: 378.3ms | ActiveRecord: 0.0ms | Allocations: 11122)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.1ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:49:59.241573"], ["updated_at", "2020-11-01 18:49:59.241573"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "agsk4ae6d1w860nypmxteqb9s0mt"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:49:59.250370"]]
  [1m[36mActiveStorage::Attachment Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:49:59.254333"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:49:59.257080"], ["id", 1]]
  [1m[35m (27.1ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.6ms) [0m[32mUploaded file to key: agsk4ae6d1w860nypmxteqb9s0mt (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 74ea003d-8d22-43ef-be9f-b431a44292f3) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000558b118b34a8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Schneider-Treutel"], ["model", "Edda Kuhlman"], ["color", "ivory"], ["carrier_plan_type", "pre"], ["quantity", 10], ["price", "20.37"], ["created_at", "2020-11-01 18:49:59.543567"], ["updated_at", "2020-11-01 18:49:59.543567"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [74ea003d-8d22-43ef-be9f-b431a44292f3] Performing ActiveStorage::AnalyzeJob (Job ID: 74ea003d-8d22-43ef-be9f-b431a44292f3) from Async(active_storage_analysis) enqueued at 2020-11-01T18:49:59Z with arguments: #<GlobalID:0x00007ff374087f18 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [74ea003d-8d22-43ef-be9f-b431a44292f3]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [74ea003d-8d22-43ef-be9f-b431a44292f3]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (32.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [74ea003d-8d22-43ef-be9f-b431a44292f3]   [1m[35m (26.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [74ea003d-8d22-43ef-be9f-b431a44292f3] Performed ActiveStorage::AnalyzeJob (Job ID: 74ea003d-8d22-43ef-be9f-b431a44292f3) from Async(active_storage_analysis) in 30.13ms
  [1m[35m (9.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.0ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.0ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (547.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:50:00 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.1ms | Allocations: 276)
Completed 200 OK in 393ms (Views: 380.1ms | ActiveRecord: 0.0ms | Allocations: 11146)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:50:50.016934"], ["updated_at", "2020-11-01 18:50:50.016934"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "63arllwmlf1hznwx3hq9nudpt1e4"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:50:50.025189"]]
  [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:50:50.028044"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:50:50.030887"], ["id", 1]]
  [1m[35m (48.1ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.9ms) [0m[32mUploaded file to key: 63arllwmlf1hznwx3hq9nudpt1e4 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 73655664-614e-49e4-9258-73bcaa4d8b70) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055cd3413a9c8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Ratke-Gaylord"], ["model", "Lindsay Fritsch"], ["color", "amber"], ["carrier_plan_type", "pre"], ["quantity", 2], ["price", "71.23"], ["created_at", "2020-11-01 18:50:50.331339"], ["updated_at", "2020-11-01 18:50:50.331339"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [73655664-614e-49e4-9258-73bcaa4d8b70] Performing ActiveStorage::AnalyzeJob (Job ID: 73655664-614e-49e4-9258-73bcaa4d8b70) from Async(active_storage_analysis) enqueued at 2020-11-01T18:50:50Z with arguments: #<GlobalID:0x00007f3a180871f0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [73655664-614e-49e4-9258-73bcaa4d8b70]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [73655664-614e-49e4-9258-73bcaa4d8b70]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (70.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [73655664-614e-49e4-9258-73bcaa4d8b70]   [1m[35m (63.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [73655664-614e-49e4-9258-73bcaa4d8b70] Performed ActiveStorage::AnalyzeJob (Job ID: 73655664-614e-49e4-9258-73bcaa4d8b70) from Async(active_storage_analysis) in 67.29ms
  [1m[35m (9.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.4ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (683.4ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (29.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:50:51 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.2ms | Allocations: 276)
Completed 200 OK in 369ms (Views: 359.2ms | ActiveRecord: 0.0ms | Allocations: 11162)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:51:06.046786"], ["updated_at", "2020-11-01 18:51:06.046786"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "z2du1eijsmcmyaxx0k7hdyja1ipj"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:51:06.052904"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:51:06.054981"]]
  [1m[36mProductUpload Update (0.7ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:51:06.057468"], ["id", 1]]
  [1m[35m (48.7ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.8ms) [0m[32mUploaded file to key: z2du1eijsmcmyaxx0k7hdyja1ipj (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: cf93a29d-53ef-4629-b0b9-d53a1f2273f6) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000564de9ad6208 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Morissette, Predovic and Prosacco"], ["model", "Msgr. Emmy Weber"], ["color", "pink"], ["carrier_plan_type", "pos"], ["quantity", 4], ["price", "87.27"], ["created_at", "2020-11-01 18:51:06.392536"], ["updated_at", "2020-11-01 18:51:06.392536"]]
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [cf93a29d-53ef-4629-b0b9-d53a1f2273f6] Performing ActiveStorage::AnalyzeJob (Job ID: cf93a29d-53ef-4629-b0b9-d53a1f2273f6) from Async(active_storage_analysis) enqueued at 2020-11-01T18:51:06Z with arguments: #<GlobalID:0x00007f0a8807ece0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [cf93a29d-53ef-4629-b0b9-d53a1f2273f6]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cf93a29d-53ef-4629-b0b9-d53a1f2273f6]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (40.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cf93a29d-53ef-4629-b0b9-d53a1f2273f6]   [1m[35m (95.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [cf93a29d-53ef-4629-b0b9-d53a1f2273f6] Performed ActiveStorage::AnalyzeJob (Job ID: cf93a29d-53ef-4629-b0b9-d53a1f2273f6) from Async(active_storage_analysis) in 99.39ms
  [1m[35m (72.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (0.9ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (547.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (30.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:51:07 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.9ms | Allocations: 276)
Completed 200 OK in 381ms (Views: 372.3ms | ActiveRecord: 0.0ms | Allocations: 11181)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.2ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:52:09.317456"], ["updated_at", "2020-11-01 18:52:09.317456"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (4.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "lq6jlbipwqjm9oc4rhqdby39giee"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:52:09.329624"]]
  [1m[36mActiveStorage::Attachment Create (1.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:52:09.336385"]]
  [1m[36mProductUpload Update (1.1ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:52:09.340281"], ["id", 1]]
  [1m[35m (31.7ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.8ms) [0m[32mUploaded file to key: lq6jlbipwqjm9oc4rhqdby39giee (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: decdf50f-352e-4e7d-b115-21abd48f9e9e) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005582b3a5ca40 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Tromp, Carroll and Bogan"], ["model", "Fr. Setsuko Nikolaus"], ["color", "maroon"], ["carrier_plan_type", "pos"], ["quantity", 9], ["price", "78.06"], ["created_at", "2020-11-01 18:52:09.630013"], ["updated_at", "2020-11-01 18:52:09.630013"]]
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [decdf50f-352e-4e7d-b115-21abd48f9e9e] Performing ActiveStorage::AnalyzeJob (Job ID: decdf50f-352e-4e7d-b115-21abd48f9e9e) from Async(active_storage_analysis) enqueued at 2020-11-01T18:52:09Z with arguments: #<GlobalID:0x00007f6814089188 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [decdf50f-352e-4e7d-b115-21abd48f9e9e]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [decdf50f-352e-4e7d-b115-21abd48f9e9e]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (46.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [decdf50f-352e-4e7d-b115-21abd48f9e9e]   [1m[35m (39.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [decdf50f-352e-4e7d-b115-21abd48f9e9e] Performed ActiveStorage::AnalyzeJob (Job ID: decdf50f-352e-4e7d-b115-21abd48f9e9e) from Async(active_storage_analysis) in 44.44ms
  [1m[35m (9.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (32.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.2ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.6ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (548.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (29.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:52:10 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 6.3ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.6ms | Allocations: 276)
Completed 200 OK in 378ms (Views: 369.8ms | ActiveRecord: 0.0ms | Allocations: 11201)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:52:24.379954"], ["updated_at", "2020-11-01 18:52:24.379954"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "i6umbdg3kbhvkbuki5itmi2bcy7o"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:52:24.397787"]]
  [1m[36mActiveStorage::Attachment Create (1.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:52:24.400487"]]
  [1m[36mProductUpload Update (0.8ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:52:24.403814"], ["id", 1]]
  [1m[35m (27.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (8.6ms) [0m[32mUploaded file to key: i6umbdg3kbhvkbuki5itmi2bcy7o (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 499e1c30-2c64-42ed-954f-427a12bada1d) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055e183b40e78 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Stark, Veum and Ebert"], ["model", "Dorian Price"], ["color", "violet"], ["carrier_plan_type", "pre"], ["quantity", 3], ["price", "33.52"], ["created_at", "2020-11-01 18:52:24.725128"], ["updated_at", "2020-11-01 18:52:24.725128"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [499e1c30-2c64-42ed-954f-427a12bada1d] Performing ActiveStorage::AnalyzeJob (Job ID: 499e1c30-2c64-42ed-954f-427a12bada1d) from Async(active_storage_analysis) enqueued at 2020-11-01T18:52:24Z with arguments: #<GlobalID:0x00007fd35c083298 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [499e1c30-2c64-42ed-954f-427a12bada1d]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [499e1c30-2c64-42ed-954f-427a12bada1d]   [1m[36mActiveStorage::Blob Update (2.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (44.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [499e1c30-2c64-42ed-954f-427a12bada1d]   [1m[35m (41.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [499e1c30-2c64-42ed-954f-427a12bada1d] Performed ActiveStorage::AnalyzeJob (Job ID: 499e1c30-2c64-42ed-954f-427a12bada1d) from Async(active_storage_analysis) in 47.94ms
  [1m[35m (9.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.3ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.6ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (740.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (65.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:52:25 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 2.2ms | Allocations: 276)
Completed 200 OK in 393ms (Views: 383.1ms | ActiveRecord: 0.0ms | Allocations: 11221)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:53:01.920821"], ["updated_at", "2020-11-01 18:53:01.920821"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "f7vp52hzkk31pw30zr8s7bd8j8mp"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:53:01.932940"]]
  [1m[36mActiveStorage::Attachment Create (3.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:53:01.936386"]]
  [1m[36mProductUpload Update (0.9ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:53:01.942657"], ["id", 1]]
  [1m[35m (44.9ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (11.3ms) [0m[32mUploaded file to key: f7vp52hzkk31pw30zr8s7bd8j8mp (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7b1912f0-3c8b-480c-a9db-31aa337063c4) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000056152e3c0b88 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.2ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Casper-Block"], ["model", "Rev. Cheri Gibson"], ["color", "silver"], ["carrier_plan_type", "pos"], ["quantity", 6], ["price", "18.62"], ["created_at", "2020-11-01 18:53:02.277759"], ["updated_at", "2020-11-01 18:53:02.277759"]]
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7b1912f0-3c8b-480c-a9db-31aa337063c4] Performing ActiveStorage::AnalyzeJob (Job ID: 7b1912f0-3c8b-480c-a9db-31aa337063c4) from Async(active_storage_analysis) enqueued at 2020-11-01T18:53:02Z with arguments: #<GlobalID:0x00007fec8407c290 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [7b1912f0-3c8b-480c-a9db-31aa337063c4]   [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7b1912f0-3c8b-480c-a9db-31aa337063c4]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (45.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7b1912f0-3c8b-480c-a9db-31aa337063c4]   [1m[35m (42.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7b1912f0-3c8b-480c-a9db-31aa337063c4] Performed ActiveStorage::AnalyzeJob (Job ID: 7b1912f0-3c8b-480c-a9db-31aa337063c4) from Async(active_storage_analysis) in 46.49ms
  [1m[35m (12.4ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (23.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.2ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (536.7ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (27.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:53:02 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 8.8ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.6ms | Allocations: 276)
Completed 200 OK in 377ms (Views: 367.7ms | ActiveRecord: 0.0ms | Allocations: 11251)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 15:53:03 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x0000561531613f40 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-499061-rx4b5f.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:53:03.432331"], ["updated_at", "2020-11-01 18:53:03.432331"]]
  [1m[36mActiveStorage::Attachment Load (1.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "ktmzv15ds5bi5b535favxsvn8t5y"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:53:03.440775"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:53:03.444496"]]
  [1m[36mProductUpload Update (0.8ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:53:03.446778"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.9ms) [0m[32mUploaded file to key: ktmzv15ds5bi5b535favxsvn8t5y (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7c089519-895e-4a55-84cb-f3528645463c) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005615311f8ca8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.3ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 18:53:03.471223','2020-11-01 18:53:03.471223'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 18:53:03.471223','2020-11-01 18:53:03.471223'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 18:53:03.471223','2020-11-01 18:53:03.471223'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 18:53:03.471223','2020-11-01 18:53:03.471223'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 18:53:03.471223','2020-11-01 18:53:03.471223'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 18:53:03.471223','2020-11-01 18:53:03.471223'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 18:53:03.471223','2020-11-01 18:53:03.471223'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 18:53:03.471223','2020-11-01 18:53:03.471223'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 18:53:03.471223','2020-11-01 18:53:03.471223'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 18:53:03.471223','2020-11-01 18:53:03.471223'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 18:53:03.471223','2020-11-01 18:53:03.471223'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 18:53:03.471223','2020-11-01 18:53:03.471223') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 54ms (ActiveRecord: 6.9ms | Allocations: 6578)
Started GET "/products" for 127.0.0.1 at 2020-11-01 15:53:03 -0300
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7c089519-895e-4a55-84cb-f3528645463c] Performing ActiveStorage::AnalyzeJob (Job ID: 7c089519-895e-4a55-84cb-f3528645463c) from Async(active_storage_analysis) enqueued at 2020-11-01T18:53:03Z with arguments: #<GlobalID:0x000056152e701c20 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [7c089519-895e-4a55-84cb-f3528645463c]   [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7c089519-895e-4a55-84cb-f3528645463c]   [1m[36mActiveStorage::Blob Update (1.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7c089519-895e-4a55-84cb-f3528645463c]   [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7c089519-895e-4a55-84cb-f3528645463c] Performed ActiveStorage::AnalyzeJob (Job ID: 7c089519-895e-4a55-84cb-f3528645463c) from Async(active_storage_analysis) in 10.3ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 18.3ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 94)
Completed 200 OK in 39ms (Views: 35.6ms | ActiveRecord: 0.4ms | Allocations: 6988)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:53:59.153437"], ["updated_at", "2020-11-01 18:53:59.153437"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "0v2nm4dym6ihkm5sl9fdzetwzikw"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:53:59.161046"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 18:53:59.162987"]]
  [1m[36mProductUpload Update (0.2ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:53:59.164537"], ["id", 2]]
  [1m[35m (25.0ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.5ms) [0m[32mUploaded file to key: 0v2nm4dym6ihkm5sl9fdzetwzikw (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 33fabfeb-45b0-49cb-ac55-6922fe650d5e) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055e1016c87d8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Quigley, Ondricka and Price"], ["model", "Dannie Bernier"], ["color", "apricot"], ["carrier_plan_type", "pre"], ["quantity", 4], ["price", "90.28"], ["created_at", "2020-11-01 18:53:59.447636"], ["updated_at", "2020-11-01 18:53:59.447636"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [33fabfeb-45b0-49cb-ac55-6922fe650d5e] Performing ActiveStorage::AnalyzeJob (Job ID: 33fabfeb-45b0-49cb-ac55-6922fe650d5e) from Async(active_storage_analysis) enqueued at 2020-11-01T18:53:59Z with arguments: #<GlobalID:0x00007f1f7c081d88 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [33fabfeb-45b0-49cb-ac55-6922fe650d5e]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (30.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [33fabfeb-45b0-49cb-ac55-6922fe650d5e]   [1m[36mActiveStorage::Blob Update (12.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [33fabfeb-45b0-49cb-ac55-6922fe650d5e]   [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [33fabfeb-45b0-49cb-ac55-6922fe650d5e] Performed ActiveStorage::AnalyzeJob (Job ID: 33fabfeb-45b0-49cb-ac55-6922fe650d5e) from Async(active_storage_analysis) in 38.45ms
  [1m[35m (22.4ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (22.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.8ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.6ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (546.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (29.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:54:00 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.7ms | Allocations: 276)
Completed 200 OK in 421ms (Views: 409.5ms | ActiveRecord: 0.0ms | Allocations: 11261)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 15:54:00 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055e102c8d7a8 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-501661-ciemhs.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:54:00.620547"], ["updated_at", "2020-11-01 18:54:00.620547"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "uk4m77ms3hpuoe5d9zwkb39kh2sq"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:54:00.626478"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:54:00.629395"]]
  [1m[36mProductUpload Update (1.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:54:00.632160"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (5.0ms) [0m[32mUploaded file to key: uk4m77ms3hpuoe5d9zwkb39kh2sq (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ff9ac5f3-5f97-4c04-ade2-7780b1ff32b4) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055e102ea67d8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.6ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 18:54:00.655238','2020-11-01 18:54:00.655238'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 18:54:00.655238','2020-11-01 18:54:00.655238'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 18:54:00.655238','2020-11-01 18:54:00.655238'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 18:54:00.655238','2020-11-01 18:54:00.655238'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 18:54:00.655238','2020-11-01 18:54:00.655238'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 18:54:00.655238','2020-11-01 18:54:00.655238'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 18:54:00.655238','2020-11-01 18:54:00.655238'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 18:54:00.655238','2020-11-01 18:54:00.655238'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 18:54:00.655238','2020-11-01 18:54:00.655238'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 18:54:00.655238','2020-11-01 18:54:00.655238'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 18:54:00.655238','2020-11-01 18:54:00.655238'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 18:54:00.655238','2020-11-01 18:54:00.655238') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 52ms (ActiveRecord: 6.5ms | Allocations: 6328)
Started GET "/products" for 127.0.0.1 at 2020-11-01 15:54:00 -0300
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ff9ac5f3-5f97-4c04-ade2-7780b1ff32b4] Performing ActiveStorage::AnalyzeJob (Job ID: ff9ac5f3-5f97-4c04-ade2-7780b1ff32b4) from Async(active_storage_analysis) enqueued at 2020-11-01T18:54:00Z with arguments: #<GlobalID:0x00007f1f7c08f258 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ff9ac5f3-5f97-4c04-ade2-7780b1ff32b4]   [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
Processing by ProductsController#index as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [ff9ac5f3-5f97-4c04-ade2-7780b1ff32b4]   [1m[36mActiveStorage::Blob Update (4.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ff9ac5f3-5f97-4c04-ade2-7780b1ff32b4]   [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ff9ac5f3-5f97-4c04-ade2-7780b1ff32b4] Performed ActiveStorage::AnalyzeJob (Job ID: ff9ac5f3-5f97-4c04-ade2-7780b1ff32b4) from Async(active_storage_analysis) in 15.89ms
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 11.7ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 94)
Completed 200 OK in 51ms (Views: 45.1ms | ActiveRecord: 0.4ms | Allocations: 7199)
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:54:04.705154"], ["updated_at", "2020-11-01 18:54:04.705154"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "6by227l1tj7gtdnha6hngzozbd28"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:54:04.713341"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 18:54:04.714854"]]
  [1m[36mProductUpload Update (0.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:54:04.716288"], ["id", 2]]
  [1m[35m (30.0ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.3ms) [0m[32mUploaded file to key: 6by227l1tj7gtdnha6hngzozbd28 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 234a2077-3b58-4b6a-bdb8-ebe4d3e3a689) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005648e6840e88 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Renner, Goodwin and Kuphal"], ["model", "Julius Goldner"], ["color", "copper"], ["carrier_plan_type", "pos"], ["quantity", 6], ["price", "95.79"], ["created_at", "2020-11-01 18:54:05.010558"], ["updated_at", "2020-11-01 18:54:05.010558"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [234a2077-3b58-4b6a-bdb8-ebe4d3e3a689] Performing ActiveStorage::AnalyzeJob (Job ID: 234a2077-3b58-4b6a-bdb8-ebe4d3e3a689) from Async(active_storage_analysis) enqueued at 2020-11-01T18:54:04Z with arguments: #<GlobalID:0x00007eff90080a20 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [234a2077-3b58-4b6a-bdb8-ebe4d3e3a689]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [234a2077-3b58-4b6a-bdb8-ebe4d3e3a689]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[35m (29.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [234a2077-3b58-4b6a-bdb8-ebe4d3e3a689]   [1m[35m (26.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [234a2077-3b58-4b6a-bdb8-ebe4d3e3a689] Performed ActiveStorage::AnalyzeJob (Job ID: 234a2077-3b58-4b6a-bdb8-ebe4d3e3a689) from Async(active_storage_analysis) in 29.98ms
  [1m[35m (13.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.9ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (526.3ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (27.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:54:05 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 23.1ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 13.7ms | Allocations: 276)
Completed 200 OK in 646ms (Views: 629.9ms | ActiveRecord: 0.0ms | Allocations: 11282)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 15:54:06 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x00005648e6c1bda0 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-502353-1erv8ii.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:54:06.419493"], ["updated_at", "2020-11-01 18:54:06.419493"]]
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "spspe3byeuozkfq0b45a3yzr0sfx"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:54:06.427249"]]
  [1m[36mActiveStorage::Attachment Create (2.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:54:06.432282"]]
  [1m[36mProductUpload Update (1.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:54:06.436938"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (8.4ms) [0m[32mUploaded file to key: spspe3byeuozkfq0b45a3yzr0sfx (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 87e0f9a2-3cc9-45d4-90f0-afeeaa2d7100) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005648e99be2a8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.1ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 18:54:06.479767','2020-11-01 18:54:06.479767'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 18:54:06.479767','2020-11-01 18:54:06.479767'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 18:54:06.479767','2020-11-01 18:54:06.479767'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 18:54:06.479767','2020-11-01 18:54:06.479767'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 18:54:06.479767','2020-11-01 18:54:06.479767'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 18:54:06.479767','2020-11-01 18:54:06.479767'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 18:54:06.479767','2020-11-01 18:54:06.479767'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 18:54:06.479767','2020-11-01 18:54:06.479767'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 18:54:06.479767','2020-11-01 18:54:06.479767'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 18:54:06.479767','2020-11-01 18:54:06.479767'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 18:54:06.479767','2020-11-01 18:54:06.479767'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 18:54:06.479767','2020-11-01 18:54:06.479767') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 74ms (ActiveRecord: 8.5ms | Allocations: 6602)
Started GET "/products" for 127.0.0.1 at 2020-11-01 15:54:06 -0300
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [87e0f9a2-3cc9-45d4-90f0-afeeaa2d7100] Performing ActiveStorage::AnalyzeJob (Job ID: 87e0f9a2-3cc9-45d4-90f0-afeeaa2d7100) from Async(active_storage_analysis) enqueued at 2020-11-01T18:54:06Z with arguments: #<GlobalID:0x00007eff9009a448 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [87e0f9a2-3cc9-45d4-90f0-afeeaa2d7100]   [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [87e0f9a2-3cc9-45d4-90f0-afeeaa2d7100]   [1m[36mActiveStorage::Blob Update (0.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [87e0f9a2-3cc9-45d4-90f0-afeeaa2d7100]   [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [87e0f9a2-3cc9-45d4-90f0-afeeaa2d7100] Performed ActiveStorage::AnalyzeJob (Job ID: 87e0f9a2-3cc9-45d4-90f0-afeeaa2d7100) from Async(active_storage_analysis) in 9.89ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 17.0ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 94)
Completed 200 OK in 52ms (Views: 48.7ms | ActiveRecord: 0.5ms | Allocations: 6996)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:55:17.350330"], ["updated_at", "2020-11-01 18:55:17.350330"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "d2sonsq2h81d9ifwbpldu3c0rkm3"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:55:17.358766"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 18:55:17.361191"]]
  [1m[36mProductUpload Update (0.8ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:55:17.363723"], ["id", 2]]
  [1m[35m (64.4ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.2ms) [0m[32mUploaded file to key: d2sonsq2h81d9ifwbpldu3c0rkm3 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 24ea207d-2404-4cd3-89a6-ab15bd659a9d) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055a35720a1e8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Feil-Brakus"], ["model", "Amb. Victor Feeney"], ["color", "gold"], ["carrier_plan_type", "pre"], ["quantity", 4], ["price", "91.16"], ["created_at", "2020-11-01 18:55:17.701775"], ["updated_at", "2020-11-01 18:55:17.701775"]]
  [1m[35m (22.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [24ea207d-2404-4cd3-89a6-ab15bd659a9d] Performing ActiveStorage::AnalyzeJob (Job ID: 24ea207d-2404-4cd3-89a6-ab15bd659a9d) from Async(active_storage_analysis) enqueued at 2020-11-01T18:55:17Z with arguments: #<GlobalID:0x000055a3577f54e0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (1.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [24ea207d-2404-4cd3-89a6-ab15bd659a9d]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (26.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [24ea207d-2404-4cd3-89a6-ab15bd659a9d]   [1m[36mActiveStorage::Blob Update (26.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[35m (2.8ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [24ea207d-2404-4cd3-89a6-ab15bd659a9d]   [1m[35m (46.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [24ea207d-2404-4cd3-89a6-ab15bd659a9d] Performed ActiveStorage::AnalyzeJob (Job ID: 24ea207d-2404-4cd3-89a6-ab15bd659a9d) from Async(active_storage_analysis) in 78.87ms
  [1m[35m (660.3ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (27.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:55:18 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 11.8ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.7ms | Allocations: 276)
Completed 200 OK in 670ms (Views: 654.3ms | ActiveRecord: 0.0ms | Allocations: 11301)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 15:55:19 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055a359fe44b0 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-503344-hmpfri.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (1.3ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:55:19.246894"], ["updated_at", "2020-11-01 18:55:19.246894"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "ywmx9y3e33sc7aoxrumnj7d1p6jr"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:55:19.254769"]]
  [1m[36mActiveStorage::Attachment Create (1.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:55:19.257452"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:55:19.260674"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (4.9ms) [0m[32mUploaded file to key: ywmx9y3e33sc7aoxrumnj7d1p6jr (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d8ca8a63-cb10-4946-875a-f6f00cdb1041) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055a35748d230 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (2.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 18:55:19.285244','2020-11-01 18:55:19.285244'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 18:55:19.285244','2020-11-01 18:55:19.285244'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 18:55:19.285244','2020-11-01 18:55:19.285244'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 18:55:19.285244','2020-11-01 18:55:19.285244'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 18:55:19.285244','2020-11-01 18:55:19.285244'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 18:55:19.285244','2020-11-01 18:55:19.285244'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 18:55:19.285244','2020-11-01 18:55:19.285244'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 18:55:19.285244','2020-11-01 18:55:19.285244'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 18:55:19.285244','2020-11-01 18:55:19.285244'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 18:55:19.285244','2020-11-01 18:55:19.285244'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 18:55:19.285244','2020-11-01 18:55:19.285244'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 18:55:19.285244','2020-11-01 18:55:19.285244') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 56ms (ActiveRecord: 7.6ms | Allocations: 6586)
Started GET "/products" for 127.0.0.1 at 2020-11-01 15:55:19 -0300
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d8ca8a63-cb10-4946-875a-f6f00cdb1041] Performing ActiveStorage::AnalyzeJob (Job ID: d8ca8a63-cb10-4946-875a-f6f00cdb1041) from Async(active_storage_analysis) enqueued at 2020-11-01T18:55:19Z with arguments: #<GlobalID:0x00007fdbcc091e10 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d8ca8a63-cb10-4946-875a-f6f00cdb1041]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d8ca8a63-cb10-4946-875a-f6f00cdb1041]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d8ca8a63-cb10-4946-875a-f6f00cdb1041]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d8ca8a63-cb10-4946-875a-f6f00cdb1041] Performed ActiveStorage::AnalyzeJob (Job ID: d8ca8a63-cb10-4946-875a-f6f00cdb1041) from Async(active_storage_analysis) in 3.04ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 14.0ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 94)
Completed 200 OK in 35ms (Views: 32.0ms | ActiveRecord: 0.8ms | Allocations: 6994)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:55:36.202066"], ["updated_at", "2020-11-01 18:55:36.202066"]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "y817jwm2buzt6aq9fqntoeci6qbh"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:55:36.208663"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 18:55:36.210632"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:55:36.213203"], ["id", 2]]
  [1m[35m (26.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (6.0ms) [0m[32mUploaded file to key: y817jwm2buzt6aq9fqntoeci6qbh (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 220f4cdf-4bc2-4080-b4d1-7d4f6c49b247) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055bdee57cc48 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Leannon-Turner"], ["model", "Gia Crist"], ["color", "gold"], ["carrier_plan_type", "pre"], ["quantity", 1], ["price", "80.45"], ["created_at", "2020-11-01 18:55:36.487637"], ["updated_at", "2020-11-01 18:55:36.487637"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [220f4cdf-4bc2-4080-b4d1-7d4f6c49b247] Performing ActiveStorage::AnalyzeJob (Job ID: 220f4cdf-4bc2-4080-b4d1-7d4f6c49b247) from Async(active_storage_analysis) enqueued at 2020-11-01T18:55:36Z with arguments: #<GlobalID:0x00007f023c07c200 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [220f4cdf-4bc2-4080-b4d1-7d4f6c49b247]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [220f4cdf-4bc2-4080-b4d1-7d4f6c49b247]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[35m (53.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [220f4cdf-4bc2-4080-b4d1-7d4f6c49b247]   [1m[35m (48.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [220f4cdf-4bc2-4080-b4d1-7d4f6c49b247] Performed ActiveStorage::AnalyzeJob (Job ID: 220f4cdf-4bc2-4080-b4d1-7d4f6c49b247) from Async(active_storage_analysis) in 52.49ms
  [1m[35m (13.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.3ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (548.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (28.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:55:37 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.1ms | Allocations: 276)
Completed 200 OK in 394ms (Views: 382.1ms | ActiveRecord: 0.0ms | Allocations: 11321)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 15:55:37 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055bdf1431020 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-504305-bdt3ve.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:55:37.641244"], ["updated_at", "2020-11-01 18:55:37.641244"]]
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "zno39g6qhft98mdulsqzoggumqv2"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:55:37.647583"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:55:37.650271"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:55:37.652553"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (1.9ms) [0m[32mUploaded file to key: zno39g6qhft98mdulsqzoggumqv2 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b7b3f680-dd4e-4740-a606-09320221b3f7) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055bdf1447ac8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.3ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 18:55:37.667015','2020-11-01 18:55:37.667015'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 18:55:37.667015','2020-11-01 18:55:37.667015'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 18:55:37.667015','2020-11-01 18:55:37.667015'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 18:55:37.667015','2020-11-01 18:55:37.667015'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 18:55:37.667015','2020-11-01 18:55:37.667015'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 18:55:37.667015','2020-11-01 18:55:37.667015'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 18:55:37.667015','2020-11-01 18:55:37.667015'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 18:55:37.667015','2020-11-01 18:55:37.667015'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 18:55:37.667015','2020-11-01 18:55:37.667015'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 18:55:37.667015','2020-11-01 18:55:37.667015'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 18:55:37.667015','2020-11-01 18:55:37.667015'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 18:55:37.667015','2020-11-01 18:55:37.667015') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 39ms (ActiveRecord: 6.0ms | Allocations: 6328)
Started GET "/products" for 127.0.0.1 at 2020-11-01 15:55:37 -0300
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b7b3f680-dd4e-4740-a606-09320221b3f7] Performing ActiveStorage::AnalyzeJob (Job ID: b7b3f680-dd4e-4740-a606-09320221b3f7) from Async(active_storage_analysis) enqueued at 2020-11-01T18:55:37Z with arguments: #<GlobalID:0x00007f023c092438 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b7b3f680-dd4e-4740-a606-09320221b3f7]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b7b3f680-dd4e-4740-a606-09320221b3f7]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b7b3f680-dd4e-4740-a606-09320221b3f7]   [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b7b3f680-dd4e-4740-a606-09320221b3f7] Performed ActiveStorage::AnalyzeJob (Job ID: b7b3f680-dd4e-4740-a606-09320221b3f7) from Async(active_storage_analysis) in 4.0ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 10.2ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.5ms | Allocations: 94)
Completed 200 OK in 30ms (Views: 27.3ms | ActiveRecord: 0.4ms | Allocations: 6992)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.5ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:55:53.929994"], ["updated_at", "2020-11-01 18:55:53.929994"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "7atpoifv866ka5ick4z6u3wd968c"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:55:53.937122"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 18:55:53.939138"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:55:53.940880"], ["id", 2]]
  [1m[35m (22.1ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.5ms) [0m[32mUploaded file to key: 7atpoifv866ka5ick4z6u3wd968c (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c80c115a-1e5d-4583-bce3-f8cddc826234) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055cc6b894ff8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Zemlak-Renner"], ["model", "Sen. Sherika Kunze"], ["color", "azure"], ["carrier_plan_type", "pos"], ["quantity", 1], ["price", "78.42"], ["created_at", "2020-11-01 18:55:54.239421"], ["updated_at", "2020-11-01 18:55:54.239421"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c80c115a-1e5d-4583-bce3-f8cddc826234] Performing ActiveStorage::AnalyzeJob (Job ID: c80c115a-1e5d-4583-bce3-f8cddc826234) from Async(active_storage_analysis) enqueued at 2020-11-01T18:55:53Z with arguments: #<GlobalID:0x00007fe658081fd8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c80c115a-1e5d-4583-bce3-f8cddc826234]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c80c115a-1e5d-4583-bce3-f8cddc826234]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[35m (80.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c80c115a-1e5d-4583-bce3-f8cddc826234]   [1m[35m (74.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c80c115a-1e5d-4583-bce3-f8cddc826234] Performed ActiveStorage::AnalyzeJob (Job ID: c80c115a-1e5d-4583-bce3-f8cddc826234) from Async(active_storage_analysis) in 79.27ms
  [1m[35m (14.0ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.4ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (547.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:55:54 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.4ms | Allocations: 276)
Completed 200 OK in 452ms (Views: 443.3ms | ActiveRecord: 0.0ms | Allocations: 11341)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 15:55:55 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055cc6e7a8d58 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-505215-gx8rby.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:55:55.484209"], ["updated_at", "2020-11-01 18:55:55.484209"]]
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "psl83ddjybgsrpwrnsq4onkc0dqr"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:55:55.489573"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:55:55.492274"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:55:55.494523"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.7ms) [0m[32mUploaded file to key: psl83ddjybgsrpwrnsq4onkc0dqr (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 20864fed-677b-4e14-80f1-843d9ec879a6) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055cc6e7c2118 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (0.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 18:55:55.516820','2020-11-01 18:55:55.516820'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 18:55:55.516820','2020-11-01 18:55:55.516820'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 18:55:55.516820','2020-11-01 18:55:55.516820'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 18:55:55.516820','2020-11-01 18:55:55.516820'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 18:55:55.516820','2020-11-01 18:55:55.516820'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 18:55:55.516820','2020-11-01 18:55:55.516820'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 18:55:55.516820','2020-11-01 18:55:55.516820'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 18:55:55.516820','2020-11-01 18:55:55.516820'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 18:55:55.516820','2020-11-01 18:55:55.516820'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 18:55:55.516820','2020-11-01 18:55:55.516820'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 18:55:55.516820','2020-11-01 18:55:55.516820'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 18:55:55.516820','2020-11-01 18:55:55.516820') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 45ms (ActiveRecord: 5.3ms | Allocations: 6443)
Started GET "/products" for 127.0.0.1 at 2020-11-01 15:55:55 -0300
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [20864fed-677b-4e14-80f1-843d9ec879a6] Performing ActiveStorage::AnalyzeJob (Job ID: 20864fed-677b-4e14-80f1-843d9ec879a6) from Async(active_storage_analysis) enqueued at 2020-11-01T18:55:55Z with arguments: #<GlobalID:0x00007fe658091618 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [20864fed-677b-4e14-80f1-843d9ec879a6]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [20864fed-677b-4e14-80f1-843d9ec879a6]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [20864fed-677b-4e14-80f1-843d9ec879a6]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [20864fed-677b-4e14-80f1-843d9ec879a6] Performed ActiveStorage::AnalyzeJob (Job ID: 20864fed-677b-4e14-80f1-843d9ec879a6) from Async(active_storage_analysis) in 2.83ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 18.8ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 94)
Completed 200 OK in 48ms (Views: 44.4ms | ActiveRecord: 0.8ms | Allocations: 6988)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:56:42.955080"], ["updated_at", "2020-11-01 18:56:42.955080"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "z81nq9qk3q328xnmotv5m8g36cgx"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:56:42.963720"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 18:56:42.965946"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:56:42.967720"], ["id", 2]]
  [1m[35m (28.3ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (7.1ms) [0m[32mUploaded file to key: z81nq9qk3q328xnmotv5m8g36cgx (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a1d3e92d-7a75-4ee0-bfc6-177c84d1d5c4) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055f5648efa58 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.5ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Rohan and Sons"], ["model", "Rep. Loren Sawayn"], ["color", "gold"], ["carrier_plan_type", "pos"], ["quantity", 8], ["price", "70.74"], ["created_at", "2020-11-01 18:56:43.251022"], ["updated_at", "2020-11-01 18:56:43.251022"]]
  [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1d3e92d-7a75-4ee0-bfc6-177c84d1d5c4] Performing ActiveStorage::AnalyzeJob (Job ID: a1d3e92d-7a75-4ee0-bfc6-177c84d1d5c4) from Async(active_storage_analysis) enqueued at 2020-11-01T18:56:43Z with arguments: #<GlobalID:0x000055f565191260 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1d3e92d-7a75-4ee0-bfc6-177c84d1d5c4]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (30.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1d3e92d-7a75-4ee0-bfc6-177c84d1d5c4]   [1m[36mActiveStorage::Blob Update (30.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[35m (2.5ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1d3e92d-7a75-4ee0-bfc6-177c84d1d5c4]   [1m[35m (23.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1d3e92d-7a75-4ee0-bfc6-177c84d1d5c4] Performed ActiveStorage::AnalyzeJob (Job ID: a1d3e92d-7a75-4ee0-bfc6-177c84d1d5c4) from Async(active_storage_analysis) in 57.14ms
  [1m[35m (562.3ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (30.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:56:43 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.9ms | Allocations: 276)
Completed 200 OK in 398ms (Views: 389.3ms | ActiveRecord: 0.0ms | Allocations: 11366)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 15:56:44 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055f565e296d0 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-507501-1w3t18w.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:56:44.377338"], ["updated_at", "2020-11-01 18:56:44.377338"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "5l1j69uc9w5exlarnk41p8sjv0cv"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:56:44.382051"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:56:44.384277"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:56:44.386452"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (7.1ms) [0m[32mUploaded file to key: 5l1j69uc9w5exlarnk41p8sjv0cv (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ac478190-7bb7-4cfa-95de-6bde93e28f85) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055f566042868 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.2ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 18:56:44.410485','2020-11-01 18:56:44.410485'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 18:56:44.410485','2020-11-01 18:56:44.410485'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 18:56:44.410485','2020-11-01 18:56:44.410485'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 18:56:44.410485','2020-11-01 18:56:44.410485'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 18:56:44.410485','2020-11-01 18:56:44.410485'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 18:56:44.410485','2020-11-01 18:56:44.410485'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 18:56:44.410485','2020-11-01 18:56:44.410485'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 18:56:44.410485','2020-11-01 18:56:44.410485'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 18:56:44.410485','2020-11-01 18:56:44.410485'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 18:56:44.410485','2020-11-01 18:56:44.410485'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 18:56:44.410485','2020-11-01 18:56:44.410485'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 18:56:44.410485','2020-11-01 18:56:44.410485') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 46ms (ActiveRecord: 4.6ms | Allocations: 6425)
Started GET "/products" for 127.0.0.1 at 2020-11-01 15:56:44 -0300
Processing by ProductsController#index as HTML
  [1m[36mActiveStorage::Blob Load (4.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ac478190-7bb7-4cfa-95de-6bde93e28f85] Performing ActiveStorage::AnalyzeJob (Job ID: ac478190-7bb7-4cfa-95de-6bde93e28f85) from Async(active_storage_analysis) enqueued at 2020-11-01T18:56:44Z with arguments: #<GlobalID:0x000055f565c2c1e8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ac478190-7bb7-4cfa-95de-6bde93e28f85]   [1m[35m (1.5ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ac478190-7bb7-4cfa-95de-6bde93e28f85]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  Rendering products/index.html.erb within layouts/application
[ActiveJob] [ActiveStorage::AnalyzeJob] [ac478190-7bb7-4cfa-95de-6bde93e28f85]   [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ac478190-7bb7-4cfa-95de-6bde93e28f85] Performed ActiveStorage::AnalyzeJob (Job ID: ac478190-7bb7-4cfa-95de-6bde93e28f85) from Async(active_storage_analysis) in 4.92ms
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 11.9ms | Allocations: 3765)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.1ms | Allocations: 94)
Completed 200 OK in 35ms (Views: 29.3ms | ActiveRecord: 0.5ms | Allocations: 7766)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:57:00.350151"], ["updated_at", "2020-11-01 18:57:00.350151"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "6m98ykuzj8y6jth9n0pca75r0h1k"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:57:00.358554"]]
  [1m[36mActiveStorage::Attachment Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 18:57:00.360992"]]
  [1m[36mProductUpload Update (0.7ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:57:00.363597"], ["id", 2]]
  [1m[35m (71.3ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.3ms) [0m[32mUploaded file to key: 6m98ykuzj8y6jth9n0pca75r0h1k (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c735ddd7-01d4-44d5-ac8d-6c189bea2fa3) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000557a5c02c548 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.2ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Crona-Adams"], ["model", "Valentine Medhurst"], ["color", "cerulean"], ["carrier_plan_type", "pre"], ["quantity", 10], ["price", "54.59"], ["created_at", "2020-11-01 18:57:00.682225"], ["updated_at", "2020-11-01 18:57:00.682225"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c735ddd7-01d4-44d5-ac8d-6c189bea2fa3] Performing ActiveStorage::AnalyzeJob (Job ID: c735ddd7-01d4-44d5-ac8d-6c189bea2fa3) from Async(active_storage_analysis) enqueued at 2020-11-01T18:57:00Z with arguments: #<GlobalID:0x0000557a5c6bfe78 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c735ddd7-01d4-44d5-ac8d-6c189bea2fa3]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c735ddd7-01d4-44d5-ac8d-6c189bea2fa3]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[35m (43.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c735ddd7-01d4-44d5-ac8d-6c189bea2fa3]   [1m[35m (40.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c735ddd7-01d4-44d5-ac8d-6c189bea2fa3] Performed ActiveStorage::AnalyzeJob (Job ID: c735ddd7-01d4-44d5-ac8d-6c189bea2fa3) from Async(active_storage_analysis) in 44.67ms
  [1m[35m (15.4ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (23.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (706.3ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (29.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:57:01 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 11.5ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.4ms | Allocations: 276)
Completed 200 OK in 589ms (Views: 577.0ms | ActiveRecord: 0.0ms | Allocations: 11381)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 15:57:02 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x0000557a5c3ce908 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-508370-l42kec.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (2.1ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:57:02.212305"], ["updated_at", "2020-11-01 18:57:02.212305"]]
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "r0ltav22vf55b77af68qg9mdhymz"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:57:02.224238"]]
  [1m[36mActiveStorage::Attachment Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:57:02.227093"]]
  [1m[36mProductUpload Update (0.8ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:57:02.231459"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (7.8ms) [0m[32mUploaded file to key: r0ltav22vf55b77af68qg9mdhymz (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 516681b1-d412-423c-a16b-eb87e5b3b9b9) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000557a5f119e08 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (2.2ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 18:57:02.261645','2020-11-01 18:57:02.261645'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 18:57:02.261645','2020-11-01 18:57:02.261645'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 18:57:02.261645','2020-11-01 18:57:02.261645'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 18:57:02.261645','2020-11-01 18:57:02.261645'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 18:57:02.261645','2020-11-01 18:57:02.261645'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 18:57:02.261645','2020-11-01 18:57:02.261645'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 18:57:02.261645','2020-11-01 18:57:02.261645'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 18:57:02.261645','2020-11-01 18:57:02.261645'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 18:57:02.261645','2020-11-01 18:57:02.261645'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 18:57:02.261645','2020-11-01 18:57:02.261645'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 18:57:02.261645','2020-11-01 18:57:02.261645'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 18:57:02.261645','2020-11-01 18:57:02.261645') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 73ms (ActiveRecord: 8.6ms | Allocations: 6598)
Started GET "/products" for 127.0.0.1 at 2020-11-01 15:57:02 -0300
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [516681b1-d412-423c-a16b-eb87e5b3b9b9] Performing ActiveStorage::AnalyzeJob (Job ID: 516681b1-d412-423c-a16b-eb87e5b3b9b9) from Async(active_storage_analysis) enqueued at 2020-11-01T18:57:02Z with arguments: #<GlobalID:0x00007fe8f8090bd0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [516681b1-d412-423c-a16b-eb87e5b3b9b9]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [516681b1-d412-423c-a16b-eb87e5b3b9b9]   [1m[36mActiveStorage::Blob Update (0.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [516681b1-d412-423c-a16b-eb87e5b3b9b9]   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [516681b1-d412-423c-a16b-eb87e5b3b9b9] Performed ActiveStorage::AnalyzeJob (Job ID: 516681b1-d412-423c-a16b-eb87e5b3b9b9) from Async(active_storage_analysis) in 3.74ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 16.9ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.1ms | Allocations: 94)
Completed 200 OK in 41ms (Views: 38.2ms | ActiveRecord: 0.8ms | Allocations: 6984)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:57:52.834848"], ["updated_at", "2020-11-01 18:57:52.834848"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "f46ly83zb4iia534k8kaocytzmtl"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:57:52.841984"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 18:57:52.843695"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:57:52.845560"], ["id", 2]]
  [1m[35m (28.0ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.0ms) [0m[32mUploaded file to key: f46ly83zb4iia534k8kaocytzmtl (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 23ef6fc6-031c-4c0d-b70b-13593f376a07) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055f85bb227e0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Koss-Volkman"], ["model", "Deneen Powlowski"], ["color", "green"], ["carrier_plan_type", "pos"], ["quantity", 8], ["price", "34.41"], ["created_at", "2020-11-01 18:57:53.151757"], ["updated_at", "2020-11-01 18:57:53.151757"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [23ef6fc6-031c-4c0d-b70b-13593f376a07] Performing ActiveStorage::AnalyzeJob (Job ID: 23ef6fc6-031c-4c0d-b70b-13593f376a07) from Async(active_storage_analysis) enqueued at 2020-11-01T18:57:52Z with arguments: #<GlobalID:0x00007f0a80083158 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [23ef6fc6-031c-4c0d-b70b-13593f376a07]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [23ef6fc6-031c-4c0d-b70b-13593f376a07]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[35m (34.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [23ef6fc6-031c-4c0d-b70b-13593f376a07]   [1m[35m (24.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [23ef6fc6-031c-4c0d-b70b-13593f376a07] Performed ActiveStorage::AnalyzeJob (Job ID: 23ef6fc6-031c-4c0d-b70b-13593f376a07) from Async(active_storage_analysis) in 28.48ms
  [1m[35m (9.6ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (23.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.4ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (523.6ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (30.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:57:53 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.5ms | Allocations: 276)
Completed 200 OK in 400ms (Views: 391.7ms | ActiveRecord: 0.0ms | Allocations: 11406)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 15:57:54 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055f85ced10c0 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-509544-1hyb55f.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:57:54.255402"], ["updated_at", "2020-11-01 18:57:54.255402"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "ybx2mlw1umam50lwgufw35wisp9m"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:57:54.259391"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:57:54.262978"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:57:54.265808"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (8.4ms) [0m[32mUploaded file to key: ybx2mlw1umam50lwgufw35wisp9m (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 471c8707-d6c1-4403-9eaf-b8396c191e85) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055f85d248ca8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 18:57:54.290745','2020-11-01 18:57:54.290745'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 18:57:54.290745','2020-11-01 18:57:54.290745'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 18:57:54.290745','2020-11-01 18:57:54.290745'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 18:57:54.290745','2020-11-01 18:57:54.290745'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 18:57:54.290745','2020-11-01 18:57:54.290745'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 18:57:54.290745','2020-11-01 18:57:54.290745'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 18:57:54.290745','2020-11-01 18:57:54.290745'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 18:57:54.290745','2020-11-01 18:57:54.290745'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 18:57:54.290745','2020-11-01 18:57:54.290745'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 18:57:54.290745','2020-11-01 18:57:54.290745'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 18:57:54.290745','2020-11-01 18:57:54.290745'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 18:57:54.290745','2020-11-01 18:57:54.290745') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 48ms (ActiveRecord: 5.3ms | Allocations: 6563)
Started GET "/products" for 127.0.0.1 at 2020-11-01 15:57:54 -0300
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [471c8707-d6c1-4403-9eaf-b8396c191e85] Performing ActiveStorage::AnalyzeJob (Job ID: 471c8707-d6c1-4403-9eaf-b8396c191e85) from Async(active_storage_analysis) enqueued at 2020-11-01T18:57:54Z with arguments: #<GlobalID:0x00007f0a8008d0e0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [471c8707-d6c1-4403-9eaf-b8396c191e85]   [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [471c8707-d6c1-4403-9eaf-b8396c191e85]   [1m[36mActiveStorage::Blob Update (0.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [471c8707-d6c1-4403-9eaf-b8396c191e85]   [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [471c8707-d6c1-4403-9eaf-b8396c191e85] Performed ActiveStorage::AnalyzeJob (Job ID: 471c8707-d6c1-4403-9eaf-b8396c191e85) from Async(active_storage_analysis) in 7.54ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 11.2ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.7ms | Allocations: 94)
Completed 200 OK in 38ms (Views: 35.2ms | ActiveRecord: 0.4ms | Allocations: 6982)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:58:32.957228"], ["updated_at", "2020-11-01 18:58:32.957228"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "fgioa34vwr6zyfkq57cf34oq1znw"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:58:32.963726"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 18:58:32.965433"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:58:32.966857"], ["id", 2]]
  [1m[35m (25.6ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.6ms) [0m[32mUploaded file to key: fgioa34vwr6zyfkq57cf34oq1znw (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 94a11706-f444-4e9b-b505-892c60a56938) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005606578c4a20 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Dicki, Dietrich and VonRueden"], ["model", "Allena Hamill"], ["color", "gray"], ["carrier_plan_type", "pre"], ["quantity", 6], ["price", "74.73"], ["created_at", "2020-11-01 18:58:33.270261"], ["updated_at", "2020-11-01 18:58:33.270261"]]
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [94a11706-f444-4e9b-b505-892c60a56938] Performing ActiveStorage::AnalyzeJob (Job ID: 94a11706-f444-4e9b-b505-892c60a56938) from Async(active_storage_analysis) enqueued at 2020-11-01T18:58:33Z with arguments: #<GlobalID:0x00007fdfa807c4b8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [94a11706-f444-4e9b-b505-892c60a56938]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [94a11706-f444-4e9b-b505-892c60a56938]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[35m (45.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [94a11706-f444-4e9b-b505-892c60a56938]   [1m[35m (41.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [94a11706-f444-4e9b-b505-892c60a56938] Performed ActiveStorage::AnalyzeJob (Job ID: 94a11706-f444-4e9b-b505-892c60a56938) from Async(active_storage_analysis) in 46.19ms
  [1m[35m (17.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (547.7ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 15:58:33 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.2ms | Allocations: 276)
Completed 200 OK in 437ms (Views: 428.3ms | ActiveRecord: 0.0ms | Allocations: 11421)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 15:58:34 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000056065a4945d8 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-510934-1ka1s1q.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 18:58:34.479235"], ["updated_at", "2020-11-01 18:58:34.479235"]]
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "6aynm8i842hi6ai1miv9iy9gez7g"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 18:58:34.489614"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 18:58:34.491706"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 18:58:34.493755"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (8.1ms) [0m[32mUploaded file to key: 6aynm8i842hi6ai1miv9iy9gez7g (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d814a934-3dd0-4aad-8641-d9d53e091c83) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000056065a6c5488 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 18:58:34.521890','2020-11-01 18:58:34.521890'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 18:58:34.521890','2020-11-01 18:58:34.521890'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 18:58:34.521890','2020-11-01 18:58:34.521890'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 18:58:34.521890','2020-11-01 18:58:34.521890'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 18:58:34.521890','2020-11-01 18:58:34.521890'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 18:58:34.521890','2020-11-01 18:58:34.521890'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 18:58:34.521890','2020-11-01 18:58:34.521890'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 18:58:34.521890','2020-11-01 18:58:34.521890'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 18:58:34.521890','2020-11-01 18:58:34.521890'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 18:58:34.521890','2020-11-01 18:58:34.521890'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 18:58:34.521890','2020-11-01 18:58:34.521890'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 18:58:34.521890','2020-11-01 18:58:34.521890') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 57ms (ActiveRecord: 5.3ms | Allocations: 6593)
Started GET "/products" for 127.0.0.1 at 2020-11-01 15:58:34 -0300
  [1m[36mActiveStorage::Blob Load (2.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d814a934-3dd0-4aad-8641-d9d53e091c83] Performing ActiveStorage::AnalyzeJob (Job ID: d814a934-3dd0-4aad-8641-d9d53e091c83) from Async(active_storage_analysis) enqueued at 2020-11-01T18:58:34Z with arguments: #<GlobalID:0x00007fdfa8097330 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d814a934-3dd0-4aad-8641-d9d53e091c83]   [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d814a934-3dd0-4aad-8641-d9d53e091c83]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d814a934-3dd0-4aad-8641-d9d53e091c83]   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d814a934-3dd0-4aad-8641-d9d53e091c83] Performed ActiveStorage::AnalyzeJob (Job ID: d814a934-3dd0-4aad-8641-d9d53e091c83) from Async(active_storage_analysis) in 4.43ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 16.6ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 94)
Completed 200 OK in 49ms (Views: 45.3ms | ActiveRecord: 0.4ms | Allocations: 6988)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:00:26.771912"], ["updated_at", "2020-11-01 19:00:26.771912"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "sl0k4kl90en81t4k7mya7bu0pffs"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:00:26.782614"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 19:00:26.784977"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:00:26.789194"], ["id", 2]]
  [1m[35m (25.7ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.1ms) [0m[32mUploaded file to key: sl0k4kl90en81t4k7mya7bu0pffs (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f3393132-a965-4d26-9208-16a72ce40883) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055eb119a0e28 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Shields-Weimann"], ["model", "Coy Miller"], ["color", "lemon"], ["carrier_plan_type", "pos"], ["quantity", 6], ["price", "20.59"], ["created_at", "2020-11-01 19:00:27.088577"], ["updated_at", "2020-11-01 19:00:27.088577"]]
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f3393132-a965-4d26-9208-16a72ce40883] Performing ActiveStorage::AnalyzeJob (Job ID: f3393132-a965-4d26-9208-16a72ce40883) from Async(active_storage_analysis) enqueued at 2020-11-01T19:00:26Z with arguments: #<GlobalID:0x000055eb106f3690 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (25.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f3393132-a965-4d26-9208-16a72ce40883]   [1m[35m (11.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f3393132-a965-4d26-9208-16a72ce40883]   [1m[36mActiveStorage::Blob Update (0.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f3393132-a965-4d26-9208-16a72ce40883]   [1m[35m (30.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f3393132-a965-4d26-9208-16a72ce40883] Performed ActiveStorage::AnalyzeJob (Job ID: f3393132-a965-4d26-9208-16a72ce40883) from Async(active_storage_analysis) in 45.96ms
  [1m[35m (31.0ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (700.4ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (32.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:00:27 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.5ms | Allocations: 276)
Completed 200 OK in 437ms (Views: 430.0ms | ActiveRecord: 0.0ms | Allocations: 11441)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:00:28 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055eb12da2cc8 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-517041-fxfkdi.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.4ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:00:28.440982"], ["updated_at", "2020-11-01 19:00:28.440982"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "p9slv59vmnynxb0b2d9ziondz3zt"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:00:28.444468"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:00:28.445975"]]
  [1m[36mProductUpload Update (0.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:00:28.447372"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (1.7ms) [0m[32mUploaded file to key: p9slv59vmnynxb0b2d9ziondz3zt (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8fe320cc-8e29-4bd7-b68f-3c7821b27a13) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055eb13114168 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.4ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 19:00:28.460171','2020-11-01 19:00:28.460171'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 19:00:28.460171','2020-11-01 19:00:28.460171'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 19:00:28.460171','2020-11-01 19:00:28.460171'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 19:00:28.460171','2020-11-01 19:00:28.460171'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 19:00:28.460171','2020-11-01 19:00:28.460171'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 19:00:28.460171','2020-11-01 19:00:28.460171'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 19:00:28.460171','2020-11-01 19:00:28.460171'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 19:00:28.460171','2020-11-01 19:00:28.460171'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 19:00:28.460171','2020-11-01 19:00:28.460171'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 19:00:28.460171','2020-11-01 19:00:28.460171'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 19:00:28.460171','2020-11-01 19:00:28.460171'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 19:00:28.460171','2020-11-01 19:00:28.460171') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 33ms (ActiveRecord: 3.7ms | Allocations: 6302)
Started GET "/products" for 127.0.0.1 at 2020-11-01 16:00:28 -0300
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8fe320cc-8e29-4bd7-b68f-3c7821b27a13] Performing ActiveStorage::AnalyzeJob (Job ID: 8fe320cc-8e29-4bd7-b68f-3c7821b27a13) from Async(active_storage_analysis) enqueued at 2020-11-01T19:00:28Z with arguments: #<GlobalID:0x00007f9cac0a1220 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8fe320cc-8e29-4bd7-b68f-3c7821b27a13]   [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8fe320cc-8e29-4bd7-b68f-3c7821b27a13]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8fe320cc-8e29-4bd7-b68f-3c7821b27a13]   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8fe320cc-8e29-4bd7-b68f-3c7821b27a13] Performed ActiveStorage::AnalyzeJob (Job ID: 8fe320cc-8e29-4bd7-b68f-3c7821b27a13) from Async(active_storage_analysis) in 5.53ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 10.5ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.7ms | Allocations: 94)
Completed 200 OK in 32ms (Views: 29.2ms | ActiveRecord: 0.4ms | Allocations: 6982)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:01:11.938611"], ["updated_at", "2020-11-01 19:01:11.938611"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "mkuq28cqnloe5u5hcdevi6bdba7e"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:01:11.951795"]]
  [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 19:01:11.955500"]]
  [1m[36mProductUpload Update (0.8ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:01:11.959822"], ["id", 2]]
  [1m[35m (39.6ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.5ms) [0m[32mUploaded file to key: mkuq28cqnloe5u5hcdevi6bdba7e (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5ae7c810-47e0-4649-9c31-e12aa1f65133) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055f30ea8be78 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Maggio Inc"], ["model", "Martine Crona"], ["color", "lime"], ["carrier_plan_type", "pre"], ["quantity", 3], ["price", "57.94"], ["created_at", "2020-11-01 19:01:12.282950"], ["updated_at", "2020-11-01 19:01:12.282950"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [5ae7c810-47e0-4649-9c31-e12aa1f65133] Performing ActiveStorage::AnalyzeJob (Job ID: 5ae7c810-47e0-4649-9c31-e12aa1f65133) from Async(active_storage_analysis) enqueued at 2020-11-01T19:01:12Z with arguments: #<GlobalID:0x00007f44180828d0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [5ae7c810-47e0-4649-9c31-e12aa1f65133]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5ae7c810-47e0-4649-9c31-e12aa1f65133]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[35m (43.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5ae7c810-47e0-4649-9c31-e12aa1f65133]   [1m[35m (38.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [5ae7c810-47e0-4649-9c31-e12aa1f65133] Performed ActiveStorage::AnalyzeJob (Job ID: 5ae7c810-47e0-4649-9c31-e12aa1f65133) from Async(active_storage_analysis) in 41.41ms
  [1m[35m (13.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.5ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (548.7ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (30.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:01:12 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.4ms | Allocations: 276)
Completed 200 OK in 450ms (Views: 442.1ms | ActiveRecord: 0.0ms | Allocations: 11461)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:01:13 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055f30fe923b8 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-518300-j0wca0.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:01:13.478980"], ["updated_at", "2020-11-01 19:01:13.478980"]]
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "ecok63ppkuun26escftuj2dgte99"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:01:13.484873"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:01:13.487527"]]
  [1m[36mProductUpload Update (0.9ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:01:13.489676"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (7.2ms) [0m[32mUploaded file to key: ecok63ppkuun26escftuj2dgte99 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6f2c450b-660d-4a03-8328-2dc2b666462b) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055f31020f770 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (2.4ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 19:01:13.518172','2020-11-01 19:01:13.518172'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 19:01:13.518172','2020-11-01 19:01:13.518172'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 19:01:13.518172','2020-11-01 19:01:13.518172'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 19:01:13.518172','2020-11-01 19:01:13.518172'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 19:01:13.518172','2020-11-01 19:01:13.518172'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 19:01:13.518172','2020-11-01 19:01:13.518172'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 19:01:13.518172','2020-11-01 19:01:13.518172'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 19:01:13.518172','2020-11-01 19:01:13.518172'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 19:01:13.518172','2020-11-01 19:01:13.518172'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 19:01:13.518172','2020-11-01 19:01:13.518172'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 19:01:13.518172','2020-11-01 19:01:13.518172'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 19:01:13.518172','2020-11-01 19:01:13.518172') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 57ms (ActiveRecord: 7.0ms | Allocations: 6465)
Started GET "/products" for 127.0.0.1 at 2020-11-01 16:01:13 -0300
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f2c450b-660d-4a03-8328-2dc2b666462b] Performing ActiveStorage::AnalyzeJob (Job ID: 6f2c450b-660d-4a03-8328-2dc2b666462b) from Async(active_storage_analysis) enqueued at 2020-11-01T19:01:13Z with arguments: #<GlobalID:0x00007f4418090ed0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f2c450b-660d-4a03-8328-2dc2b666462b]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f2c450b-660d-4a03-8328-2dc2b666462b]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f2c450b-660d-4a03-8328-2dc2b666462b]   [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6f2c450b-660d-4a03-8328-2dc2b666462b] Performed ActiveStorage::AnalyzeJob (Job ID: 6f2c450b-660d-4a03-8328-2dc2b666462b) from Async(active_storage_analysis) in 4.84ms
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 19.0ms | Allocations: 4475)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 94)
Completed 200 OK in 42ms (Views: 39.0ms | ActiveRecord: 0.4ms | Allocations: 8086)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:01:13 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 270)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 86)
Completed 200 OK in 19ms (Views: 17.3ms | ActiveRecord: 0.0ms | Allocations: 2890)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:01:13 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055f31006fd20 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-518300-si4ey.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:01:13.712223"], ["updated_at", "2020-11-01 19:01:13.712223"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "j8ny3kj0p913mptg6xbwxt02x6iv"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:01:13.718557"]]
  [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 19:01:13.720685"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:01:13.723764"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (5.9ms) [0m[32mUploaded file to key: j8ny3kj0p913mptg6xbwxt02x6iv (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e0464d91-9163-485d-8d79-adc242cbf4e1) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055f310085918 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[36mProduct Create Many (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 19:01:13.738977','2020-11-01 19:01:13.738977'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 19:01:13.738977','2020-11-01 19:01:13.738977'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 19:01:13.738977','2020-11-01 19:01:13.738977'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 19:01:13.738977','2020-11-01 19:01:13.738977'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 19:01:13.738977','2020-11-01 19:01:13.738977'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 19:01:13.738977','2020-11-01 19:01:13.738977'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 19:01:13.738977','2020-11-01 19:01:13.738977'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 19:01:13.738977','2020-11-01 19:01:13.738977'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 19:01:13.738977','2020-11-01 19:01:13.738977'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 19:01:13.738977','2020-11-01 19:01:13.738977'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 19:01:13.738977','2020-11-01 19:01:13.738977'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 19:01:13.738977','2020-11-01 19:01:13.738977') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 39ms (ActiveRecord: 4.3ms | Allocations: 6040)
Started GET "/products" for 127.0.0.1 at 2020-11-01 16:01:13 -0300
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e0464d91-9163-485d-8d79-adc242cbf4e1] Performing ActiveStorage::AnalyzeJob (Job ID: e0464d91-9163-485d-8d79-adc242cbf4e1) from Async(active_storage_analysis) enqueued at 2020-11-01T19:01:13Z with arguments: #<GlobalID:0x00007f44180a2248 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [e0464d91-9163-485d-8d79-adc242cbf4e1]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e0464d91-9163-485d-8d79-adc242cbf4e1]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e0464d91-9163-485d-8d79-adc242cbf4e1]   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e0464d91-9163-485d-8d79-adc242cbf4e1] Performed ActiveStorage::AnalyzeJob (Job ID: e0464d91-9163-485d-8d79-adc242cbf4e1) from Async(active_storage_analysis) in 2.84ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 2544)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 87)
Completed 200 OK in 27ms (Views: 25.9ms | ActiveRecord: 0.3ms | Allocations: 5264)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:02:01.141593"], ["updated_at", "2020-11-01 19:02:01.141593"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "wxf2dlt7tqpfuw1ry0xkaldl5ao4"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:02:01.149687"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 19:02:01.151683"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:02:01.154246"], ["id", 3]]
  [1m[35m (39.4ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.3ms) [0m[32mUploaded file to key: wxf2dlt7tqpfuw1ry0xkaldl5ao4 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e1f08394-a19d-43e9-a20d-67c8c1d3e931) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000560add8284d8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Spencer Inc"], ["model", "Roberto Ortiz"], ["color", "azure"], ["carrier_plan_type", "pos"], ["quantity", 4], ["price", "16.36"], ["created_at", "2020-11-01 19:02:01.444642"], ["updated_at", "2020-11-01 19:02:01.444642"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e1f08394-a19d-43e9-a20d-67c8c1d3e931] Performing ActiveStorage::AnalyzeJob (Job ID: e1f08394-a19d-43e9-a20d-67c8c1d3e931) from Async(active_storage_analysis) enqueued at 2020-11-01T19:02:01Z with arguments: #<GlobalID:0x00007fd94c08b7e0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [e1f08394-a19d-43e9-a20d-67c8c1d3e931]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e1f08394-a19d-43e9-a20d-67c8c1d3e931]   [1m[36mActiveStorage::Blob Update (1.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (73.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (9.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e1f08394-a19d-43e9-a20d-67c8c1d3e931]   [1m[35m (66.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e1f08394-a19d-43e9-a20d-67c8c1d3e931] Performed ActiveStorage::AnalyzeJob (Job ID: e1f08394-a19d-43e9-a20d-67c8c1d3e931) from Async(active_storage_analysis) in 74.9ms
  [1m[35m (48.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.9ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (645.6ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (30.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:02:02 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.2ms | Allocations: 276)
Completed 200 OK in 420ms (Views: 412.9ms | ActiveRecord: 0.0ms | Allocations: 11481)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:02:02 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x0000560adee26ca8 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-519526-85ljfk.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:02:02.770101"], ["updated_at", "2020-11-01 19:02:02.770101"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "smqk9soj212pr7dmnr9490mu67zz"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:02:02.776024"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:02:02.779933"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:02:02.782975"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.4ms) [0m[32mUploaded file to key: smqk9soj212pr7dmnr9490mu67zz (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 88062017-8baf-48c1-b064-259b09572ad0) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000560adc1eb210 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 19:02:02.803248','2020-11-01 19:02:02.803248'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 19:02:02.803248','2020-11-01 19:02:02.803248'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 19:02:02.803248','2020-11-01 19:02:02.803248'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 19:02:02.803248','2020-11-01 19:02:02.803248'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 19:02:02.803248','2020-11-01 19:02:02.803248'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 19:02:02.803248','2020-11-01 19:02:02.803248'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 19:02:02.803248','2020-11-01 19:02:02.803248'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 19:02:02.803248','2020-11-01 19:02:02.803248'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 19:02:02.803248','2020-11-01 19:02:02.803248'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 19:02:02.803248','2020-11-01 19:02:02.803248'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 19:02:02.803248','2020-11-01 19:02:02.803248'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 19:02:02.803248','2020-11-01 19:02:02.803248') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 53ms (ActiveRecord: 6.7ms | Allocations: 6380)
Started GET "/products" for 127.0.0.1 at 2020-11-01 16:02:02 -0300
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [88062017-8baf-48c1-b064-259b09572ad0] Performing ActiveStorage::AnalyzeJob (Job ID: 88062017-8baf-48c1-b064-259b09572ad0) from Async(active_storage_analysis) enqueued at 2020-11-01T19:02:02Z with arguments: #<GlobalID:0x00007fd94c0a0398 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [88062017-8baf-48c1-b064-259b09572ad0]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [88062017-8baf-48c1-b064-259b09572ad0]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [88062017-8baf-48c1-b064-259b09572ad0]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [88062017-8baf-48c1-b064-259b09572ad0] Performed ActiveStorage::AnalyzeJob (Job ID: 88062017-8baf-48c1-b064-259b09572ad0) from Async(active_storage_analysis) in 2.91ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 11.2ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.8ms | Allocations: 94)
Completed 200 OK in 41ms (Views: 37.3ms | ActiveRecord: 0.4ms | Allocations: 6990)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:02:02 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 270)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 86)
Completed 200 OK in 28ms (Views: 26.6ms | ActiveRecord: 0.0ms | Allocations: 2890)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:02:02 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x0000560adefaad40 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-519526-138m7eu.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.3ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:02:02.977428"], ["updated_at", "2020-11-01 19:02:02.977428"]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "vcr9owgsdlkq0f3h2dv8hek8q55b"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:02:02.981593"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 19:02:02.983552"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:02:02.985473"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (6.6ms) [0m[32mUploaded file to key: vcr9owgsdlkq0f3h2dv8hek8q55b (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b06d84b0-db3f-4476-9c29-f47808db4419) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000560adee675c8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[36mProduct Create Many (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 19:02:03.002672','2020-11-01 19:02:03.002672'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 19:02:03.002672','2020-11-01 19:02:03.002672'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 19:02:03.002672','2020-11-01 19:02:03.002672'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 19:02:03.002672','2020-11-01 19:02:03.002672'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 19:02:03.002672','2020-11-01 19:02:03.002672'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 19:02:03.002672','2020-11-01 19:02:03.002672'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 19:02:03.002672','2020-11-01 19:02:03.002672'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 19:02:03.002672','2020-11-01 19:02:03.002672'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 19:02:03.002672','2020-11-01 19:02:03.002672'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 19:02:03.002672','2020-11-01 19:02:03.002672'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 19:02:03.002672','2020-11-01 19:02:03.002672'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 19:02:03.002672','2020-11-01 19:02:03.002672') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 40ms (ActiveRecord: 3.0ms | Allocations: 6151)
Started GET "/products" for 127.0.0.1 at 2020-11-01 16:02:03 -0300
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b06d84b0-db3f-4476-9c29-f47808db4419] Performing ActiveStorage::AnalyzeJob (Job ID: b06d84b0-db3f-4476-9c29-f47808db4419) from Async(active_storage_analysis) enqueued at 2020-11-01T19:02:02Z with arguments: #<GlobalID:0x00007fd94c0d4670 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b06d84b0-db3f-4476-9c29-f47808db4419]   [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b06d84b0-db3f-4476-9c29-f47808db4419]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
[ActiveJob] [ActiveStorage::AnalyzeJob] [b06d84b0-db3f-4476-9c29-f47808db4419]   [1m[35m (4.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b06d84b0-db3f-4476-9c29-f47808db4419] Performed ActiveStorage::AnalyzeJob (Job ID: b06d84b0-db3f-4476-9c29-f47808db4419) from Async(active_storage_analysis) in 9.92ms
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 2622)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.5ms | Allocations: 87)
Completed 200 OK in 24ms (Views: 22.0ms | ActiveRecord: 0.6ms | Allocations: 5338)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (2.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:03:39.116961"], ["updated_at", "2020-11-01 19:03:39.116961"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "czv6eldi4xmk4q7q02on8oytbfy4"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:03:39.125454"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 19:03:39.128411"]]
  [1m[36mProductUpload Update (0.8ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:03:39.131134"], ["id", 3]]
  [1m[35m (30.9ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (6.6ms) [0m[32mUploaded file to key: czv6eldi4xmk4q7q02on8oytbfy4 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: fdba4452-ab92-4ef0-89cb-931b4f352e3d) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000564214d96c80 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Hodkiewicz, Hartmann and Nicolas"], ["model", "Dinah Hettinger MD"], ["color", "lilac"], ["carrier_plan_type", "pre"], ["quantity", 10], ["price", "37.05"], ["created_at", "2020-11-01 19:03:39.495614"], ["updated_at", "2020-11-01 19:03:39.495614"]]
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [fdba4452-ab92-4ef0-89cb-931b4f352e3d] Performing ActiveStorage::AnalyzeJob (Job ID: fdba4452-ab92-4ef0-89cb-931b4f352e3d) from Async(active_storage_analysis) enqueued at 2020-11-01T19:03:39Z with arguments: #<GlobalID:0x00007f137407d0f8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [fdba4452-ab92-4ef0-89cb-931b4f352e3d]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fdba4452-ab92-4ef0-89cb-931b4f352e3d]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (45.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fdba4452-ab92-4ef0-89cb-931b4f352e3d]   [1m[35m (34.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fdba4452-ab92-4ef0-89cb-931b4f352e3d] Performed ActiveStorage::AnalyzeJob (Job ID: fdba4452-ab92-4ef0-89cb-931b4f352e3d) from Async(active_storage_analysis) in 40.1ms
  [1m[35m (10.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.2ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (519.5ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (30.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:03:40 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.3ms | Allocations: 276)
Completed 200 OK in 548ms (Views: 539.3ms | ActiveRecord: 0.0ms | Allocations: 11501)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:03:40 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x00005642162e60b8 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-522782-yzq67x.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (1.4ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:03:40.807007"], ["updated_at", "2020-11-01 19:03:40.807007"]]
  [1m[36mActiveStorage::Attachment Load (1.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "qxhm7iznojk6lzznp3uuvq17fwj4"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:03:40.819736"]]
  [1m[36mActiveStorage::Attachment Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:03:40.822800"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:03:40.825028"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (9.6ms) [0m[32mUploaded file to key: qxhm7iznojk6lzznp3uuvq17fwj4 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 008075e5-a0a4-4b51-9823-da564e84bace) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000564214b967a0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.4ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 19:03:40.850359','2020-11-01 19:03:40.850359'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 19:03:40.850359','2020-11-01 19:03:40.850359'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 19:03:40.850359','2020-11-01 19:03:40.850359'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 19:03:40.850359','2020-11-01 19:03:40.850359'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 19:03:40.850359','2020-11-01 19:03:40.850359'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 19:03:40.850359','2020-11-01 19:03:40.850359'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 19:03:40.850359','2020-11-01 19:03:40.850359'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 19:03:40.850359','2020-11-01 19:03:40.850359'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 19:03:40.850359','2020-11-01 19:03:40.850359'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 19:03:40.850359','2020-11-01 19:03:40.850359'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 19:03:40.850359','2020-11-01 19:03:40.850359'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 19:03:40.850359','2020-11-01 19:03:40.850359') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 64ms (ActiveRecord: 7.5ms | Allocations: 6343)
Started GET "/products" for 127.0.0.1 at 2020-11-01 16:03:40 -0300
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [008075e5-a0a4-4b51-9823-da564e84bace] Performing ActiveStorage::AnalyzeJob (Job ID: 008075e5-a0a4-4b51-9823-da564e84bace) from Async(active_storage_analysis) enqueued at 2020-11-01T19:03:40Z with arguments: #<GlobalID:0x00005642136476b0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [008075e5-a0a4-4b51-9823-da564e84bace]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [008075e5-a0a4-4b51-9823-da564e84bace]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [008075e5-a0a4-4b51-9823-da564e84bace]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [008075e5-a0a4-4b51-9823-da564e84bace] Performed ActiveStorage::AnalyzeJob (Job ID: 008075e5-a0a4-4b51-9823-da564e84bace) from Async(active_storage_analysis) in 2.25ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 11.6ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 94)
Completed 200 OK in 41ms (Views: 38.0ms | ActiveRecord: 0.3ms | Allocations: 6990)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:03:40 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 269)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 86)
Completed 200 OK in 27ms (Views: 26.3ms | ActiveRecord: 0.0ms | Allocations: 2889)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:03:41 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x0000564216151ba8 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-522782-9ty8m7.csv>, @original_filename="input_invalid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_invalid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 505\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.5ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:03:41.073594"], ["updated_at", "2020-11-01 19:03:41.073594"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "87wwgmfclc7cu313ymkoqom4ftm8"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 19:03:41.083012"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 19:03:41.086010"]]
  [1m[36mProductUpload Update (0.9ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:03:41.088105"], ["id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (5.0ms) [0m[32mUploaded file to key: 87wwgmfclc7cu313ymkoqom4ftm8 (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9312122a-c5df-4bd8-a112-549e6bef529d) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000564216342c00 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
Redirected to http://www.example.com/product_uploads/new
Completed 302 Found in 47ms (ActiveRecord: 3.4ms | Allocations: 3546)
Started GET "/product_uploads/new" for 127.0.0.1 at 2020-11-01 16:03:41 -0300
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9312122a-c5df-4bd8-a112-549e6bef529d] Performing ActiveStorage::AnalyzeJob (Job ID: 9312122a-c5df-4bd8-a112-549e6bef529d) from Async(active_storage_analysis) enqueued at 2020-11-01T19:03:41Z with arguments: #<GlobalID:0x00007f13740ae298 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [9312122a-c5df-4bd8-a112-549e6bef529d]   [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9312122a-c5df-4bd8-a112-549e6bef529d]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9312122a-c5df-4bd8-a112-549e6bef529d]   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9312122a-c5df-4bd8-a112-549e6bef529d] Performed ActiveStorage::AnalyzeJob (Job ID: 9312122a-c5df-4bd8-a112-549e6bef529d) from Async(active_storage_analysis) in 4.76ms
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 268)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 83)
Completed 200 OK in 39ms (Views: 36.6ms | ActiveRecord: 0.0ms | Allocations: 2985)
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:04:18.809705"], ["updated_at", "2020-11-01 19:04:18.809705"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "8gbdxzhi7620b1m0iqbeo6borpd7"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:04:18.819458"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 19:04:18.823262"]]
  [1m[36mProductUpload Update (0.9ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:04:18.825253"], ["id", 3]]
  [1m[35m (22.0ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.4ms) [0m[32mUploaded file to key: 8gbdxzhi7620b1m0iqbeo6borpd7 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: de034853-faf6-4fb4-b562-d0996f7a18f8) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055ca90805240 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Greenholt, Waters and Kutch"], ["model", "Samuel Dach"], ["color", "magenta"], ["carrier_plan_type", "pos"], ["quantity", 3], ["price", "10.44"], ["created_at", "2020-11-01 19:04:19.175531"], ["updated_at", "2020-11-01 19:04:19.175531"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [de034853-faf6-4fb4-b562-d0996f7a18f8] Performing ActiveStorage::AnalyzeJob (Job ID: de034853-faf6-4fb4-b562-d0996f7a18f8) from Async(active_storage_analysis) enqueued at 2020-11-01T19:04:18Z with arguments: #<GlobalID:0x00007f5d0c083cf0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [de034853-faf6-4fb4-b562-d0996f7a18f8]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [de034853-faf6-4fb4-b562-d0996f7a18f8]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (41.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [de034853-faf6-4fb4-b562-d0996f7a18f8]   [1m[35m (31.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [de034853-faf6-4fb4-b562-d0996f7a18f8] Performed ActiveStorage::AnalyzeJob (Job ID: de034853-faf6-4fb4-b562-d0996f7a18f8) from Async(active_storage_analysis) in 35.73ms
  [1m[35m (8.5ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.8ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (563.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (44.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:04:19 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 7.7ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.3ms | Allocations: 276)
Completed 200 OK in 497ms (Views: 489.9ms | ActiveRecord: 0.0ms | Allocations: 11522)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:04:20 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055ca91d55898 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-524676-d6hxnt.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:04:20.456266"], ["updated_at", "2020-11-01 19:04:20.456266"]]
  [1m[36mActiveStorage::Attachment Load (1.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "bzimmv28f8rnwpcq5ovg1ildqd3a"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:04:20.463791"]]
  [1m[36mActiveStorage::Attachment Create (1.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:04:20.467146"]]
  [1m[36mProductUpload Update (1.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:04:20.470879"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (5.2ms) [0m[32mUploaded file to key: bzimmv28f8rnwpcq5ovg1ildqd3a (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1843fe3c-c280-4515-9217-291337983222) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055ca91f74e58 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.5ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 19:04:20.497575','2020-11-01 19:04:20.497575'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 19:04:20.497575','2020-11-01 19:04:20.497575'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 19:04:20.497575','2020-11-01 19:04:20.497575'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 19:04:20.497575','2020-11-01 19:04:20.497575'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 19:04:20.497575','2020-11-01 19:04:20.497575'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 19:04:20.497575','2020-11-01 19:04:20.497575'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 19:04:20.497575','2020-11-01 19:04:20.497575'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 19:04:20.497575','2020-11-01 19:04:20.497575'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 19:04:20.497575','2020-11-01 19:04:20.497575'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 19:04:20.497575','2020-11-01 19:04:20.497575'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 19:04:20.497575','2020-11-01 19:04:20.497575'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 19:04:20.497575','2020-11-01 19:04:20.497575') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 59ms (ActiveRecord: 8.1ms | Allocations: 6579)
Started GET "/products" for 127.0.0.1 at 2020-11-01 16:04:20 -0300
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1843fe3c-c280-4515-9217-291337983222] Performing ActiveStorage::AnalyzeJob (Job ID: 1843fe3c-c280-4515-9217-291337983222) from Async(active_storage_analysis) enqueued at 2020-11-01T19:04:20Z with arguments: #<GlobalID:0x00007f5d0c0927f0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [1843fe3c-c280-4515-9217-291337983222]   [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
Processing by ProductsController#index as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [1843fe3c-c280-4515-9217-291337983222]   [1m[36mActiveStorage::Blob Update (11.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1843fe3c-c280-4515-9217-291337983222]   [1m[35m (6.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1843fe3c-c280-4515-9217-291337983222] Performed ActiveStorage::AnalyzeJob (Job ID: 1843fe3c-c280-4515-9217-291337983222) from Async(active_storage_analysis) in 29.21ms
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 24.4ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 94)
Completed 200 OK in 65ms (Views: 56.1ms | ActiveRecord: 0.5ms | Allocations: 7201)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:04:20 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 269)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 86)
Completed 200 OK in 56ms (Views: 53.8ms | ActiveRecord: 0.0ms | Allocations: 2889)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:04:20 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055ca91d11350 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-524676-a7a2qj.csv>, @original_filename="input_invalid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_invalid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 505\r\n">}}
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (3.1ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:04:20.801452"], ["updated_at", "2020-11-01 19:04:20.801452"]]
  [1m[36mActiveStorage::Attachment Load (5.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "yc1l0yzbm83qxq16w0s5v63iyypw"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 19:04:20.822676"]]
  [1m[36mActiveStorage::Attachment Create (1.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 19:04:20.829426"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:04:20.834025"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (22.4ms) [0m[32mUploaded file to key: yc1l0yzbm83qxq16w0s5v63iyypw (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2f09e19d-9919-4efc-9cec-7ccc09990505) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055ca91db8178 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
Redirected to http://www.example.com/product_uploads/new
Completed 302 Found in 88ms (ActiveRecord: 12.0ms | Allocations: 3531)
Started GET "/product_uploads/new" for 127.0.0.1 at 2020-11-01 16:04:20 -0300
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2f09e19d-9919-4efc-9cec-7ccc09990505] Performing ActiveStorage::AnalyzeJob (Job ID: 2f09e19d-9919-4efc-9cec-7ccc09990505) from Async(active_storage_analysis) enqueued at 2020-11-01T19:04:20Z with arguments: #<GlobalID:0x00007f5d0c0b6420 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [2f09e19d-9919-4efc-9cec-7ccc09990505]   [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2f09e19d-9919-4efc-9cec-7ccc09990505]   [1m[36mActiveStorage::Blob Update (1.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2f09e19d-9919-4efc-9cec-7ccc09990505]   [1m[35m (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2f09e19d-9919-4efc-9cec-7ccc09990505] Performed ActiveStorage::AnalyzeJob (Job ID: 2f09e19d-9919-4efc-9cec-7ccc09990505) from Async(active_storage_analysis) in 15.01ms
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 268)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.8ms | Allocations: 83)
Completed 200 OK in 30ms (Views: 29.2ms | ActiveRecord: 0.0ms | Allocations: 2987)
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (2.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:04:25.545654"], ["updated_at", "2020-11-01 19:04:25.545654"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "37xpokpl5n8tzuvgaog3u06axgac"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:04:25.555300"]]
  [1m[36mActiveStorage::Attachment Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 19:04:25.557843"]]
  [1m[36mProductUpload Update (0.7ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:04:25.560551"], ["id", 3]]
  [1m[35m (27.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (6.0ms) [0m[32mUploaded file to key: 37xpokpl5n8tzuvgaog3u06axgac (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6955a2f9-0dfe-4dda-b65c-2fe9f88cd7a1) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055a104941100 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Harber, Prohaska and Pacocha"], ["model", "Fr. Miquel Zemlak"], ["color", "grey"], ["carrier_plan_type", "pos"], ["quantity", 2], ["price", "12.84"], ["created_at", "2020-11-01 19:04:25.875891"], ["updated_at", "2020-11-01 19:04:25.875891"]]
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6955a2f9-0dfe-4dda-b65c-2fe9f88cd7a1] Performing ActiveStorage::AnalyzeJob (Job ID: 6955a2f9-0dfe-4dda-b65c-2fe9f88cd7a1) from Async(active_storage_analysis) enqueued at 2020-11-01T19:04:25Z with arguments: #<GlobalID:0x00007f87b007ed58 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [6955a2f9-0dfe-4dda-b65c-2fe9f88cd7a1]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6955a2f9-0dfe-4dda-b65c-2fe9f88cd7a1]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (26.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6955a2f9-0dfe-4dda-b65c-2fe9f88cd7a1]   [1m[35m (29.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6955a2f9-0dfe-4dda-b65c-2fe9f88cd7a1] Performed ActiveStorage::AnalyzeJob (Job ID: 6955a2f9-0dfe-4dda-b65c-2fe9f88cd7a1) from Async(active_storage_analysis) in 32.84ms
  [1m[35m (12.1ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (537.2ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (21.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:04:26 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.2ms | Allocations: 276)
Completed 200 OK in 450ms (Views: 438.7ms | ActiveRecord: 0.0ms | Allocations: 11541)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:04:27 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055a1078b2650 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-525870-1ur22hv.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:04:27.043123"], ["updated_at", "2020-11-01 19:04:27.043123"]]
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "56xh1wof1tqo06vwpgemj4ithm8g"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:04:27.049107"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:04:27.051393"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:04:27.053576"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.8ms) [0m[32mUploaded file to key: 56xh1wof1tqo06vwpgemj4ithm8g (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 96676057-d108-4f74-b861-18771fac3c73) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055a107ac7760 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.1ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 19:04:27.083568','2020-11-01 19:04:27.083568'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 19:04:27.083568','2020-11-01 19:04:27.083568'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 19:04:27.083568','2020-11-01 19:04:27.083568'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 19:04:27.083568','2020-11-01 19:04:27.083568'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 19:04:27.083568','2020-11-01 19:04:27.083568'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 19:04:27.083568','2020-11-01 19:04:27.083568'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 19:04:27.083568','2020-11-01 19:04:27.083568'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 19:04:27.083568','2020-11-01 19:04:27.083568'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 19:04:27.083568','2020-11-01 19:04:27.083568'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 19:04:27.083568','2020-11-01 19:04:27.083568'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 19:04:27.083568','2020-11-01 19:04:27.083568'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 19:04:27.083568','2020-11-01 19:04:27.083568') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 60ms (ActiveRecord: 5.1ms | Allocations: 6598)
Started GET "/products" for 127.0.0.1 at 2020-11-01 16:04:27 -0300
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [96676057-d108-4f74-b861-18771fac3c73] Performing ActiveStorage::AnalyzeJob (Job ID: 96676057-d108-4f74-b861-18771fac3c73) from Async(active_storage_analysis) enqueued at 2020-11-01T19:04:27Z with arguments: #<GlobalID:0x00007f87b0097a10 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [96676057-d108-4f74-b861-18771fac3c73]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [96676057-d108-4f74-b861-18771fac3c73]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [96676057-d108-4f74-b861-18771fac3c73]   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [96676057-d108-4f74-b861-18771fac3c73] Performed ActiveStorage::AnalyzeJob (Job ID: 96676057-d108-4f74-b861-18771fac3c73) from Async(active_storage_analysis) in 4.06ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.7ms | Allocations: 94)
Completed 200 OK in 38ms (Views: 33.8ms | ActiveRecord: 0.3ms | Allocations: 6986)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:04:27 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 269)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 86)
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.0ms | Allocations: 2889)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:04:27 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055a1079122f8 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-525870-137673q.csv>, @original_filename="input_invalid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_invalid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 505\r\n">}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.5ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:04:27.266875"], ["updated_at", "2020-11-01 19:04:27.266875"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "08zqrj9gx7qg5m7g3c6rygs40aou"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 19:04:27.272638"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 19:04:27.274414"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:04:27.275721"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (4.4ms) [0m[32mUploaded file to key: 08zqrj9gx7qg5m7g3c6rygs40aou (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: dbbb3cf5-86bc-4a0b-bee9-38fce129da72) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055a10787b538 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
Redirected to http://www.example.com/product_uploads/new
Completed 302 Found in 30ms (ActiveRecord: 2.5ms | Allocations: 3535)
Started GET "/product_uploads/new" for 127.0.0.1 at 2020-11-01 16:04:27 -0300
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [dbbb3cf5-86bc-4a0b-bee9-38fce129da72] Performing ActiveStorage::AnalyzeJob (Job ID: dbbb3cf5-86bc-4a0b-bee9-38fce129da72) from Async(active_storage_analysis) enqueued at 2020-11-01T19:04:27Z with arguments: #<GlobalID:0x00007f87b00a2e38 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [dbbb3cf5-86bc-4a0b-bee9-38fce129da72]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dbbb3cf5-86bc-4a0b-bee9-38fce129da72]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [dbbb3cf5-86bc-4a0b-bee9-38fce129da72]   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [dbbb3cf5-86bc-4a0b-bee9-38fce129da72] Performed ActiveStorage::AnalyzeJob (Job ID: dbbb3cf5-86bc-4a0b-bee9-38fce129da72) from Async(active_storage_analysis) in 3.54ms
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 268)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 83)
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.0ms | Allocations: 2985)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:04:38.731026"], ["updated_at", "2020-11-01 19:04:38.731026"]]
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "gw2kdyaby7i0xwdst7phom1jiya3"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:04:38.748039"]]
  [1m[36mActiveStorage::Attachment Create (2.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 19:04:38.753610"]]
  [1m[36mProductUpload Update (0.9ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:04:38.758776"], ["id", 3]]
  [1m[35m (27.3ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (9.0ms) [0m[32mUploaded file to key: gw2kdyaby7i0xwdst7phom1jiya3 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1cadc964-811f-4b22-80c7-ebddffa51bc8) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055aac31cf2f0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Kerluke Inc"], ["model", "The Hon. Hipolito Harvey"], ["color", "plum"], ["carrier_plan_type", "pos"], ["quantity", 1], ["price", "21.12"], ["created_at", "2020-11-01 19:04:39.248264"], ["updated_at", "2020-11-01 19:04:39.248264"]]
  [1m[35m (38.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mActiveStorage::Blob Load (2.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1cadc964-811f-4b22-80c7-ebddffa51bc8] Performing ActiveStorage::AnalyzeJob (Job ID: 1cadc964-811f-4b22-80c7-ebddffa51bc8) from Async(active_storage_analysis) enqueued at 2020-11-01T19:04:38Z with arguments: #<GlobalID:0x000055aac1e8d390 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [1cadc964-811f-4b22-80c7-ebddffa51bc8]   [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1cadc964-811f-4b22-80c7-ebddffa51bc8]   [1m[36mActiveStorage::Blob Update (5.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (21.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (4.6ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.9ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1cadc964-811f-4b22-80c7-ebddffa51bc8]   [1m[35m (20.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1cadc964-811f-4b22-80c7-ebddffa51bc8] Performed ActiveStorage::AnalyzeJob (Job ID: 1cadc964-811f-4b22-80c7-ebddffa51bc8) from Async(active_storage_analysis) in 36.18ms
  [1m[35m (614.6ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (29.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:04:40 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.0ms | Allocations: 276)
Completed 200 OK in 465ms (Views: 453.2ms | ActiveRecord: 0.0ms | Allocations: 11561)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:04:40 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055aac4718af8 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-526082-1jupcr5.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:04:40.560685"], ["updated_at", "2020-11-01 19:04:40.560685"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "f1fr068kbar402b13i9e8gq6k4tj"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:04:40.566623"]]
  [1m[36mActiveStorage::Attachment Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:04:40.569282"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:04:40.572141"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (5.2ms) [0m[32mUploaded file to key: f1fr068kbar402b13i9e8gq6k4tj (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 0b933cda-bbc7-4bcc-bf61-fc7f5809eab5) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055aac49418e8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.5ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 19:04:40.597108','2020-11-01 19:04:40.597108'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 19:04:40.597108','2020-11-01 19:04:40.597108'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 19:04:40.597108','2020-11-01 19:04:40.597108'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 19:04:40.597108','2020-11-01 19:04:40.597108'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 19:04:40.597108','2020-11-01 19:04:40.597108'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 19:04:40.597108','2020-11-01 19:04:40.597108'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 19:04:40.597108','2020-11-01 19:04:40.597108'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 19:04:40.597108','2020-11-01 19:04:40.597108'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 19:04:40.597108','2020-11-01 19:04:40.597108'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 19:04:40.597108','2020-11-01 19:04:40.597108'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 19:04:40.597108','2020-11-01 19:04:40.597108'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 19:04:40.597108','2020-11-01 19:04:40.597108') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 51ms (ActiveRecord: 5.8ms | Allocations: 6585)
Started GET "/products" for 127.0.0.1 at 2020-11-01 16:04:40 -0300
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b933cda-bbc7-4bcc-bf61-fc7f5809eab5] Performing ActiveStorage::AnalyzeJob (Job ID: 0b933cda-bbc7-4bcc-bf61-fc7f5809eab5) from Async(active_storage_analysis) enqueued at 2020-11-01T19:04:40Z with arguments: #<GlobalID:0x000055aac4298078 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b933cda-bbc7-4bcc-bf61-fc7f5809eab5]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b933cda-bbc7-4bcc-bf61-fc7f5809eab5]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b933cda-bbc7-4bcc-bf61-fc7f5809eab5]   [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [0b933cda-bbc7-4bcc-bf61-fc7f5809eab5] Performed ActiveStorage::AnalyzeJob (Job ID: 0b933cda-bbc7-4bcc-bf61-fc7f5809eab5) from Async(active_storage_analysis) in 5.38ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 9.5ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 2.4ms | Allocations: 94)
Completed 200 OK in 35ms (Views: 29.3ms | ActiveRecord: 0.3ms | Allocations: 6990)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:04:40 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 269)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.5ms | Allocations: 86)
Completed 200 OK in 21ms (Views: 20.4ms | ActiveRecord: 0.0ms | Allocations: 2889)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:04:40 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055aac46f64f8 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-526082-1gj5nty.csv>, @original_filename="input_invalid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_invalid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 505\r\n">}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (2.5ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:04:40.780315"], ["updated_at", "2020-11-01 19:04:40.780315"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "5a7l1dfdf5x830fxg1lsb50wyw41"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 19:04:40.792418"]]
  [1m[36mActiveStorage::Attachment Create (2.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 19:04:40.795270"]]
  [1m[36mProductUpload Update (0.9ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:04:40.799402"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (2.6ms) [0m[32mUploaded file to key: 5a7l1dfdf5x830fxg1lsb50wyw41 (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d6d72a9a-a47e-4fa9-a660-77d020fe77bb) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055aac47946a8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
Redirected to http://www.example.com/product_uploads/new
Completed 302 Found in 38ms (ActiveRecord: 7.5ms | Allocations: 3446)
Started GET "/product_uploads/new" for 127.0.0.1 at 2020-11-01 16:04:40 -0300
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d6d72a9a-a47e-4fa9-a660-77d020fe77bb] Performing ActiveStorage::AnalyzeJob (Job ID: d6d72a9a-a47e-4fa9-a660-77d020fe77bb) from Async(active_storage_analysis) enqueued at 2020-11-01T19:04:40Z with arguments: #<GlobalID:0x000055aac12cabc0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d6d72a9a-a47e-4fa9-a660-77d020fe77bb]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 268)
[ActiveJob] [ActiveStorage::AnalyzeJob] [d6d72a9a-a47e-4fa9-a660-77d020fe77bb]   [1m[36mActiveStorage::Blob Update (1.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d6d72a9a-a47e-4fa9-a660-77d020fe77bb]   [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d6d72a9a-a47e-4fa9-a660-77d020fe77bb] Performed ActiveStorage::AnalyzeJob (Job ID: d6d72a9a-a47e-4fa9-a660-77d020fe77bb) from Async(active_storage_analysis) in 9.9ms
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.5ms | Allocations: 83)
Completed 200 OK in 32ms (Views: 31.1ms | ActiveRecord: 0.0ms | Allocations: 3194)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.2ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:07:01.835306"], ["updated_at", "2020-11-01 19:07:01.835306"]]
  [1m[36mActiveStorage::Attachment Load (1.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "rqcosowngafiuw9tyzvjldabgkyu"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:07:01.847640"]]
  [1m[36mActiveStorage::Attachment Create (1.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 19:07:01.851440"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:07:01.856475"], ["id", 3]]
  [1m[35m (27.9ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.8ms) [0m[32mUploaded file to key: rqcosowngafiuw9tyzvjldabgkyu (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 21ee8b45-2530-48c0-a17a-01dfad51b9d3) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055bebf72d818 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Pfeffer LLC"], ["model", "Marry McCullough"], ["color", "red"], ["carrier_plan_type", "pre"], ["quantity", 8], ["price", "60.98"], ["created_at", "2020-11-01 19:07:02.130823"], ["updated_at", "2020-11-01 19:07:02.130823"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [21ee8b45-2530-48c0-a17a-01dfad51b9d3] Performing ActiveStorage::AnalyzeJob (Job ID: 21ee8b45-2530-48c0-a17a-01dfad51b9d3) from Async(active_storage_analysis) enqueued at 2020-11-01T19:07:01Z with arguments: #<GlobalID:0x00007fa9bc082ec0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [21ee8b45-2530-48c0-a17a-01dfad51b9d3]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [21ee8b45-2530-48c0-a17a-01dfad51b9d3]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (45.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [21ee8b45-2530-48c0-a17a-01dfad51b9d3]   [1m[35m (46.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [21ee8b45-2530-48c0-a17a-01dfad51b9d3] Performed ActiveStorage::AnalyzeJob (Job ID: 21ee8b45-2530-48c0-a17a-01dfad51b9d3) from Async(active_storage_analysis) in 49.56ms
  [1m[35m (13.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (32.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.9ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (548.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.3ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:07:02 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.8ms | Allocations: 276)
Completed 200 OK in 422ms (Views: 412.4ms | ActiveRecord: 0.0ms | Allocations: 11587)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:07:03 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055bebe1bd3c0 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-531698-1xur1x5.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.5ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:07:03.308162"], ["updated_at", "2020-11-01 19:07:03.308162"]]
  [1m[36mActiveStorage::Attachment Load (2.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "vb61vip8fej8o50sdpsr88gmst1n"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:07:03.314351"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:07:03.316582"]]
  [1m[36mProductUpload Update (0.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:07:03.318428"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.7ms) [0m[32mUploaded file to key: vb61vip8fej8o50sdpsr88gmst1n (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 013ef4be-36ea-4e77-9e05-32e49215df5a) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055bec0eb5080 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.1ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 19:07:03.342971','2020-11-01 19:07:03.342971'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 19:07:03.342971','2020-11-01 19:07:03.342971'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 19:07:03.342971','2020-11-01 19:07:03.342971'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 19:07:03.342971','2020-11-01 19:07:03.342971'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 19:07:03.342971','2020-11-01 19:07:03.342971'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 19:07:03.342971','2020-11-01 19:07:03.342971'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 19:07:03.342971','2020-11-01 19:07:03.342971'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 19:07:03.342971','2020-11-01 19:07:03.342971'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 19:07:03.342971','2020-11-01 19:07:03.342971'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 19:07:03.342971','2020-11-01 19:07:03.342971'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 19:07:03.342971','2020-11-01 19:07:03.342971'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 19:07:03.342971','2020-11-01 19:07:03.342971') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 48ms (ActiveRecord: 5.5ms | Allocations: 6389)
Started GET "/products" for 127.0.0.1 at 2020-11-01 16:07:03 -0300
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [013ef4be-36ea-4e77-9e05-32e49215df5a] Performing ActiveStorage::AnalyzeJob (Job ID: 013ef4be-36ea-4e77-9e05-32e49215df5a) from Async(active_storage_analysis) enqueued at 2020-11-01T19:07:03Z with arguments: #<GlobalID:0x000055bebe04e9d0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [013ef4be-36ea-4e77-9e05-32e49215df5a]   [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [013ef4be-36ea-4e77-9e05-32e49215df5a]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [013ef4be-36ea-4e77-9e05-32e49215df5a]   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [013ef4be-36ea-4e77-9e05-32e49215df5a] Performed ActiveStorage::AnalyzeJob (Job ID: 013ef4be-36ea-4e77-9e05-32e49215df5a) from Async(active_storage_analysis) in 4.25ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 11.5ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 94)
Completed 200 OK in 32ms (Views: 28.8ms | ActiveRecord: 0.5ms | Allocations: 6994)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:08:15.054636"], ["updated_at", "2020-11-01 19:08:15.054636"]]
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "y06auhb8m18xkg5eqoi4ezn4cw34"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:08:15.068238"]]
  [1m[36mActiveStorage::Attachment Create (2.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 19:08:15.073745"]]
  [1m[36mProductUpload Update (1.2ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:08:15.081886"], ["id", 2]]
  [1m[35m (24.2ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.7ms) [0m[32mUploaded file to key: y06auhb8m18xkg5eqoi4ezn4cw34 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8fa21740-7b22-443f-93d6-fe0593b450e8) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055bb838f31c8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Krajcik Inc"], ["model", "Alesia Borer"], ["color", "byzantium"], ["carrier_plan_type", "pos"], ["quantity", 1], ["price", "16.63"], ["created_at", "2020-11-01 19:08:15.469868"], ["updated_at", "2020-11-01 19:08:15.469868"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8fa21740-7b22-443f-93d6-fe0593b450e8] Performing ActiveStorage::AnalyzeJob (Job ID: 8fa21740-7b22-443f-93d6-fe0593b450e8) from Async(active_storage_analysis) enqueued at 2020-11-01T19:08:15Z with arguments: #<GlobalID:0x00007fb0c407cfc0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8fa21740-7b22-443f-93d6-fe0593b450e8]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8fa21740-7b22-443f-93d6-fe0593b450e8]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
  [1m[35m (43.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8fa21740-7b22-443f-93d6-fe0593b450e8]   [1m[35m (38.9ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8fa21740-7b22-443f-93d6-fe0593b450e8] Performed ActiveStorage::AnalyzeJob (Job ID: 8fa21740-7b22-443f-93d6-fe0593b450e8) from Async(active_storage_analysis) in 44.83ms
  [1m[35m (13.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.9ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (524.8ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:08:16 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.9ms | Allocations: 276)
Completed 200 OK in 449ms (Views: 440.5ms | ActiveRecord: 0.0ms | Allocations: 11602)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:08:16 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055bb84ce9790 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-532923-7y32hb.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:08:16.634463"], ["updated_at", "2020-11-01 19:08:16.634463"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "gh33dneer70kterzzq1kqt5xex8u"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:08:16.638537"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:08:16.640012"]]
  [1m[36mProductUpload Update (0.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:08:16.641364"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (7.9ms) [0m[32mUploaded file to key: gh33dneer70kterzzq1kqt5xex8u (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d6bea347-0d4f-42af-8ae0-607d511c9bcc) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055bb8506efc8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 19:08:16.663091','2020-11-01 19:08:16.663091'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 19:08:16.663091','2020-11-01 19:08:16.663091'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 19:08:16.663091','2020-11-01 19:08:16.663091'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 19:08:16.663091','2020-11-01 19:08:16.663091'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 19:08:16.663091','2020-11-01 19:08:16.663091'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 19:08:16.663091','2020-11-01 19:08:16.663091'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 19:08:16.663091','2020-11-01 19:08:16.663091'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 19:08:16.663091','2020-11-01 19:08:16.663091'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 19:08:16.663091','2020-11-01 19:08:16.663091'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 19:08:16.663091','2020-11-01 19:08:16.663091'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 19:08:16.663091','2020-11-01 19:08:16.663091'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 19:08:16.663091','2020-11-01 19:08:16.663091') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 42ms (ActiveRecord: 4.7ms | Allocations: 6592)
Started GET "/products" for 127.0.0.1 at 2020-11-01 16:08:16 -0300
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d6bea347-0d4f-42af-8ae0-607d511c9bcc] Performing ActiveStorage::AnalyzeJob (Job ID: d6bea347-0d4f-42af-8ae0-607d511c9bcc) from Async(active_storage_analysis) enqueued at 2020-11-01T19:08:16Z with arguments: #<GlobalID:0x00007fb0c4092938 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d6bea347-0d4f-42af-8ae0-607d511c9bcc]   [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d6bea347-0d4f-42af-8ae0-607d511c9bcc]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d6bea347-0d4f-42af-8ae0-607d511c9bcc]   [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d6bea347-0d4f-42af-8ae0-607d511c9bcc] Performed ActiveStorage::AnalyzeJob (Job ID: d6bea347-0d4f-42af-8ae0-607d511c9bcc) from Async(active_storage_analysis) in 4.58ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 12.2ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 94)
Completed 200 OK in 32ms (Views: 29.7ms | ActiveRecord: 0.5ms | Allocations: 6994)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:08:16 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 269)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 86)
Completed 200 OK in 22ms (Views: 20.9ms | ActiveRecord: 0.0ms | Allocations: 2889)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:08:16 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055bb84e0cac8 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-532923-1mrcmlp.csv>, @original_filename="input_invalid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_invalid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 505\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.4ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:08:16.858262"], ["updated_at", "2020-11-01 19:08:16.858262"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "n8o06n6c62wbrwclh5fvwsndtdr2"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 19:08:16.863672"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 19:08:16.866500"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:08:16.870714"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.8ms) [0m[32mUploaded file to key: n8o06n6c62wbrwclh5fvwsndtdr2 (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4dc66635-bbd8-4d20-b0bc-0760ed40c4fa) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055bb84e2bb80 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
Redirected to http://www.example.com/product_uploads/new
Completed 302 Found in 34ms (ActiveRecord: 3.2ms | Allocations: 3534)
Started GET "/product_uploads/new" for 127.0.0.1 at 2020-11-01 16:08:16 -0300
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4dc66635-bbd8-4d20-b0bc-0760ed40c4fa] Performing ActiveStorage::AnalyzeJob (Job ID: 4dc66635-bbd8-4d20-b0bc-0760ed40c4fa) from Async(active_storage_analysis) enqueued at 2020-11-01T19:08:16Z with arguments: #<GlobalID:0x00007fb0c40b1e50 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [4dc66635-bbd8-4d20-b0bc-0760ed40c4fa]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4dc66635-bbd8-4d20-b0bc-0760ed40c4fa]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4dc66635-bbd8-4d20-b0bc-0760ed40c4fa]   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4dc66635-bbd8-4d20-b0bc-0760ed40c4fa] Performed ActiveStorage::AnalyzeJob (Job ID: 4dc66635-bbd8-4d20-b0bc-0760ed40c4fa) from Async(active_storage_analysis) in 4.64ms
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 268)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 83)
Completed 200 OK in 18ms (Views: 15.8ms | ActiveRecord: 0.0ms | Allocations: 2985)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:08:40.842781"], ["updated_at", "2020-11-01 19:08:40.842781"]]
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "kimct3fcrc3xoatfeysggr7zu26w"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:08:40.852650"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 19:08:40.854546"]]
  [1m[36mProductUpload Update (0.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:08:40.856329"], ["id", 3]]
  [1m[35m (21.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.8ms) [0m[32mUploaded file to key: kimct3fcrc3xoatfeysggr7zu26w (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 496ff7ef-7c6a-4b97-8cd3-0a957c126ceb) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000559fb278db40 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (2.2ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "McCullough-Rutherford"], ["model", "Frankie Carter"], ["color", "champagne"], ["carrier_plan_type", "pre"], ["quantity", 6], ["price", "55.17"], ["created_at", "2020-11-01 19:08:41.141927"], ["updated_at", "2020-11-01 19:08:41.141927"]]
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [496ff7ef-7c6a-4b97-8cd3-0a957c126ceb] Performing ActiveStorage::AnalyzeJob (Job ID: 496ff7ef-7c6a-4b97-8cd3-0a957c126ceb) from Async(active_storage_analysis) enqueued at 2020-11-01T19:08:40Z with arguments: #<GlobalID:0x00007f17400826f0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [496ff7ef-7c6a-4b97-8cd3-0a957c126ceb]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [496ff7ef-7c6a-4b97-8cd3-0a957c126ceb]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (45.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [496ff7ef-7c6a-4b97-8cd3-0a957c126ceb]   [1m[35m (33.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [496ff7ef-7c6a-4b97-8cd3-0a957c126ceb] Performed ActiveStorage::AnalyzeJob (Job ID: 496ff7ef-7c6a-4b97-8cd3-0a957c126ceb) from Async(active_storage_analysis) in 38.65ms
  [1m[35m (11.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.3ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (551.1ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (29.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:08:41 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 6.8ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.3ms | Allocations: 276)
Completed 200 OK in 450ms (Views: 441.5ms | ActiveRecord: 0.0ms | Allocations: 11626)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:08:42 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x0000559fb3cde990 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-534192-14szc3y.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:08:42.339891"], ["updated_at", "2020-11-01 19:08:42.339891"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "1737qfnyemq7s6bfpo29yocvn98y"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:08:42.344799"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:08:42.347786"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:08:42.350188"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.6ms) [0m[32mUploaded file to key: 1737qfnyemq7s6bfpo29yocvn98y (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a83f7643-3659-4a84-9b8e-af6e4d69a025) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000559fb3ae3ed8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (2.5ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 19:08:42.370241','2020-11-01 19:08:42.370241'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 19:08:42.370241','2020-11-01 19:08:42.370241'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 19:08:42.370241','2020-11-01 19:08:42.370241'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 19:08:42.370241','2020-11-01 19:08:42.370241'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 19:08:42.370241','2020-11-01 19:08:42.370241'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 19:08:42.370241','2020-11-01 19:08:42.370241'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 19:08:42.370241','2020-11-01 19:08:42.370241'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 19:08:42.370241','2020-11-01 19:08:42.370241'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 19:08:42.370241','2020-11-01 19:08:42.370241'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 19:08:42.370241','2020-11-01 19:08:42.370241'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 19:08:42.370241','2020-11-01 19:08:42.370241'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 19:08:42.370241','2020-11-01 19:08:42.370241') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 46ms (ActiveRecord: 6.8ms | Allocations: 6581)
Started GET "/products" for 127.0.0.1 at 2020-11-01 16:08:42 -0300
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a83f7643-3659-4a84-9b8e-af6e4d69a025] Performing ActiveStorage::AnalyzeJob (Job ID: a83f7643-3659-4a84-9b8e-af6e4d69a025) from Async(active_storage_analysis) enqueued at 2020-11-01T19:08:42Z with arguments: #<GlobalID:0x00007f17400935b8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [a83f7643-3659-4a84-9b8e-af6e4d69a025]   [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a83f7643-3659-4a84-9b8e-af6e4d69a025]   [1m[36mActiveStorage::Blob Update (0.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
Processing by ProductsController#index as HTML
[ActiveJob] [ActiveStorage::AnalyzeJob] [a83f7643-3659-4a84-9b8e-af6e4d69a025]   [1m[35m (3.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a83f7643-3659-4a84-9b8e-af6e4d69a025] Performed ActiveStorage::AnalyzeJob (Job ID: a83f7643-3659-4a84-9b8e-af6e4d69a025) from Async(active_storage_analysis) in 13.48ms
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 11.6ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.0ms | Allocations: 94)
Completed 200 OK in 38ms (Views: 33.6ms | ActiveRecord: 0.3ms | Allocations: 7090)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:08:42 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 269)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.5ms | Allocations: 86)
Completed 200 OK in 23ms (Views: 22.1ms | ActiveRecord: 0.0ms | Allocations: 2889)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:08:42 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x0000559fb3c903a8 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-534192-b0olm0.csv>, @original_filename="input_invalid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_invalid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 505\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.4ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:08:42.559270"], ["updated_at", "2020-11-01 19:08:42.559270"]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "rsa6qt4xkqounqddd752gcydna9n"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 19:08:42.563967"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 19:08:42.565458"]]
  [1m[36mProductUpload Update (0.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:08:42.566799"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (5.2ms) [0m[32mUploaded file to key: rsa6qt4xkqounqddd752gcydna9n (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b58b1fd9-6a62-4bcb-9d59-7d937cdbd5d0) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000559fb3cae790 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
Redirected to http://www.example.com/product_uploads/new
Completed 302 Found in 27ms (ActiveRecord: 1.9ms | Allocations: 3534)
Started GET "/product_uploads/new" for 127.0.0.1 at 2020-11-01 16:08:42 -0300
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b58b1fd9-6a62-4bcb-9d59-7d937cdbd5d0] Performing ActiveStorage::AnalyzeJob (Job ID: b58b1fd9-6a62-4bcb-9d59-7d937cdbd5d0) from Async(active_storage_analysis) enqueued at 2020-11-01T19:08:42Z with arguments: #<GlobalID:0x00007f17400b0a00 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b58b1fd9-6a62-4bcb-9d59-7d937cdbd5d0]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 268)
[ActiveJob] [ActiveStorage::AnalyzeJob] [b58b1fd9-6a62-4bcb-9d59-7d937cdbd5d0]   [1m[36mActiveStorage::Blob Update (1.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b58b1fd9-6a62-4bcb-9d59-7d937cdbd5d0]   [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b58b1fd9-6a62-4bcb-9d59-7d937cdbd5d0] Performed ActiveStorage::AnalyzeJob (Job ID: b58b1fd9-6a62-4bcb-9d59-7d937cdbd5d0) from Async(active_storage_analysis) in 14.73ms
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 83)
Completed 200 OK in 25ms (Views: 22.6ms | ActiveRecord: 0.0ms | Allocations: 3188)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:29:18.302062"], ["updated_at", "2020-11-01 19:29:18.302062"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "dvw9de8fuj5p3st9mp0boau6dbw2"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:29:18.311297"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 19:29:18.313057"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:29:18.314498"], ["id", 3]]
  [1m[35m (29.2ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.2ms) [0m[32mUploaded file to key: dvw9de8fuj5p3st9mp0boau6dbw2 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e36d6b55-3132-4c2f-bb14-af3264dc51ec) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000562abca866b8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Bradtke Inc"], ["model", "Sol Bauch"], ["color", "apricot"], ["carrier_plan_type", "pos"], ["quantity", 1], ["price", "56.72"], ["created_at", "2020-11-01 19:29:18.574159"], ["updated_at", "2020-11-01 19:29:18.574159"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e36d6b55-3132-4c2f-bb14-af3264dc51ec] Performing ActiveStorage::AnalyzeJob (Job ID: e36d6b55-3132-4c2f-bb14-af3264dc51ec) from Async(active_storage_analysis) enqueued at 2020-11-01T19:29:18Z with arguments: #<GlobalID:0x0000562abb799168 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [e36d6b55-3132-4c2f-bb14-af3264dc51ec]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e36d6b55-3132-4c2f-bb14-af3264dc51ec]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (71.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e36d6b55-3132-4c2f-bb14-af3264dc51ec]   [1m[35m (71.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e36d6b55-3132-4c2f-bb14-af3264dc51ec] Performed ActiveStorage::AnalyzeJob (Job ID: e36d6b55-3132-4c2f-bb14-af3264dc51ec) from Async(active_storage_analysis) in 75.74ms
  [1m[35m (13.0ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.3ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (547.5ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (21.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:29:19 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 3.1ms | Allocations: 276)
Completed 200 OK in 425ms (Views: 416.3ms | ActiveRecord: 0.0ms | Allocations: 11641)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:29:19 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x0000562abdeec238 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-541714-40jbd5.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.5ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:29:19.792320"], ["updated_at", "2020-11-01 19:29:19.792320"]]
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "km7krt1ohattv7aerhzm8upkflcd"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:29:19.798181"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:29:19.800943"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:29:19.803523"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (8.3ms) [0m[32mUploaded file to key: km7krt1ohattv7aerhzm8upkflcd (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b2aa83e5-394b-4697-ab1a-330afbcefe1e) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000562abe27c3d0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.1ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 19:29:19.835097','2020-11-01 19:29:19.835097'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 19:29:19.835097','2020-11-01 19:29:19.835097'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 19:29:19.835097','2020-11-01 19:29:19.835097'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 19:29:19.835097','2020-11-01 19:29:19.835097'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 19:29:19.835097','2020-11-01 19:29:19.835097'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 19:29:19.835097','2020-11-01 19:29:19.835097'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 19:29:19.835097','2020-11-01 19:29:19.835097'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 19:29:19.835097','2020-11-01 19:29:19.835097'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 19:29:19.835097','2020-11-01 19:29:19.835097'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 19:29:19.835097','2020-11-01 19:29:19.835097'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 19:29:19.835097','2020-11-01 19:29:19.835097'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 19:29:19.835097','2020-11-01 19:29:19.835097') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 60ms (ActiveRecord: 5.0ms | Allocations: 6598)
Started GET "/products" for 127.0.0.1 at 2020-11-01 16:29:19 -0300
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2aa83e5-394b-4697-ab1a-330afbcefe1e] Performing ActiveStorage::AnalyzeJob (Job ID: b2aa83e5-394b-4697-ab1a-330afbcefe1e) from Async(active_storage_analysis) enqueued at 2020-11-01T19:29:19Z with arguments: #<GlobalID:0x00007fe0c4093100 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2aa83e5-394b-4697-ab1a-330afbcefe1e]   [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2aa83e5-394b-4697-ab1a-330afbcefe1e]   [1m[36mActiveStorage::Blob Update (0.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2aa83e5-394b-4697-ab1a-330afbcefe1e]   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2aa83e5-394b-4697-ab1a-330afbcefe1e] Performed ActiveStorage::AnalyzeJob (Job ID: b2aa83e5-394b-4697-ab1a-330afbcefe1e) from Async(active_storage_analysis) in 3.88ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  Rendered products/index.html.erb within layouts/application (Duration: 13.3ms | Allocations: 3691)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.6ms | Allocations: 94)
Completed 200 OK in 37ms (Views: 32.6ms | ActiveRecord: 0.5ms | Allocations: 6994)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 16:29:19 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 269)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 86)
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.0ms | Allocations: 2889)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 16:29:20 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x0000562abe011460 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-541714-m5kt2s.csv>, @original_filename="input_invalid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_invalid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 505\r\n">}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.5ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:29:20.040626"], ["updated_at", "2020-11-01 19:29:20.040626"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "hqixewrom2500dvfuqhcabk2monn"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 19:29:20.047130"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 19:29:20.049363"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:29:20.051303"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.9ms) [0m[32mUploaded file to key: hqixewrom2500dvfuqhcabk2monn (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d1c588bd-e54c-47a5-b9b7-7fcdf0e2039c) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000562abe029308 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
Redirected to http://www.example.com/product_uploads/new
Completed 302 Found in 36ms (ActiveRecord: 2.9ms | Allocations: 3537)
Started GET "/product_uploads/new" for 127.0.0.1 at 2020-11-01 16:29:20 -0300
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d1c588bd-e54c-47a5-b9b7-7fcdf0e2039c] Performing ActiveStorage::AnalyzeJob (Job ID: d1c588bd-e54c-47a5-b9b7-7fcdf0e2039c) from Async(active_storage_analysis) enqueued at 2020-11-01T19:29:20Z with arguments: #<GlobalID:0x00007fe0c40a78d0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d1c588bd-e54c-47a5-b9b7-7fcdf0e2039c]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d1c588bd-e54c-47a5-b9b7-7fcdf0e2039c]   [1m[36mActiveStorage::Blob Update (0.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d1c588bd-e54c-47a5-b9b7-7fcdf0e2039c]   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d1c588bd-e54c-47a5-b9b7-7fcdf0e2039c] Performed ActiveStorage::AnalyzeJob (Job ID: d1c588bd-e54c-47a5-b9b7-7fcdf0e2039c) from Async(active_storage_analysis) in 4.67ms
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 268)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 83)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.0ms | Allocations: 2999)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (612.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "technical_alive_test_ruby_test"[0m
  [1m[35m (1044.1ms)[0m  [1m[35mCREATE DATABASE "technical_alive_test_ruby_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_attachments" CASCADE[0m
  [1m[35m (146.9ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" bigserial primary key, "name" character varying NOT NULL, "record_type" character varying NOT NULL, "record_id" bigint NOT NULL, "blob_id" bigint NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (80.4ms)[0m  [1m[35mCREATE  INDEX  "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments"  ("blob_id")[0m
  [1m[35m (82.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_attachments_uniqueness" ON "active_storage_attachments"  ("record_type", "record_id", "name", "blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "active_storage_blobs" CASCADE[0m
  [1m[35m (156.5ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" bigserial primary key, "key" character varying NOT NULL, "filename" character varying NOT NULL, "content_type" character varying, "metadata" text, "byte_size" bigint NOT NULL, "checksum" character varying NOT NULL, "created_at" timestamp NOT NULL)[0m
  [1m[35m (82.0ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_active_storage_blobs_on_key" ON "active_storage_blobs"  ("key")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "product_uploads" CASCADE[0m
  [1m[35m (83.0ms)[0m  [1m[35mCREATE TABLE "product_uploads" ("id" bigserial primary key, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (132.6ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "manufacturer" character varying, "model" character varying, "color" character varying, "carrier_plan_type" character varying, "quantity" integer, "price" decimal(10,2), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (34.5ms)[0m  [1m[35mALTER TABLE "active_storage_attachments" ADD CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
[0m
  [1m[35m (153.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (24.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20201101165226)[0m
  [1m[35m (23.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20201101152911),
(20201101164435);

[0m
  [1m[35m (155.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-11-01 19:50:41.455177"], ["updated_at", "2020-11-01 19:50:41.455177"]]
  [1m[35m (22.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "46ebee2a427b64f67737555494a568ef9cb3fe34"], ["created_at", "2020-11-01 19:50:41.491079"], ["updated_at", "2020-11-01 19:50:41.491079"]]
  [1m[35m (24.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:50:41.734008"], ["updated_at", "2020-11-01 19:50:41.734008"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (5.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "cfu6vdzp4fmx7odtesd24ikmgely"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:50:41.742666"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:50:41.750342"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:50:41.752800"], ["id", 1]]
  [1m[35m (31.1ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.9ms) [0m[32mUploaded file to key: cfu6vdzp4fmx7odtesd24ikmgely (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 30c2deac-7723-4b6b-9d9c-b69cb190455c) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055a3ca399a90 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Waelchi, DuBuque and Schumm"], ["model", "Cedric Breitenberg"], ["color", "ultramarine"], ["carrier_plan_type", "pre"], ["quantity", 2], ["price", "95.06"], ["created_at", "2020-11-01 19:50:42.026939"], ["updated_at", "2020-11-01 19:50:42.026939"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [30c2deac-7723-4b6b-9d9c-b69cb190455c] Performing ActiveStorage::AnalyzeJob (Job ID: 30c2deac-7723-4b6b-9d9c-b69cb190455c) from Async(active_storage_analysis) enqueued at 2020-11-01T19:50:41Z with arguments: #<GlobalID:0x00007f96f0081ec8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [30c2deac-7723-4b6b-9d9c-b69cb190455c]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [30c2deac-7723-4b6b-9d9c-b69cb190455c]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (46.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [30c2deac-7723-4b6b-9d9c-b69cb190455c]   [1m[35m (41.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [30c2deac-7723-4b6b-9d9c-b69cb190455c] Performed ActiveStorage::AnalyzeJob (Job ID: 30c2deac-7723-4b6b-9d9c-b69cb190455c) from Async(active_storage_analysis) in 45.32ms
  [1m[35m (13.8ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.7ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (524.1ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (30.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:50:51.309653"], ["updated_at", "2020-11-01 19:50:51.309653"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "bw3gmde5akvjbe56mnfqeqeqetb9"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:50:51.318879"]]
  [1m[36mActiveStorage::Attachment Create (1.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:50:51.322287"]]
  [1m[36mProductUpload Update (1.2ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:50:51.326031"], ["id", 1]]
  [1m[35m (49.2ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.0ms) [0m[32mUploaded file to key: bw3gmde5akvjbe56mnfqeqeqetb9 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 079d9b21-fbc1-473f-bb2f-cefcc358b95d) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000562874584600 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Klein-Rippin"], ["model", "Msgr. Hipolito Grimes"], ["color", "coffee"], ["carrier_plan_type", "pos"], ["quantity", 7], ["price", "16.27"], ["created_at", "2020-11-01 19:50:51.749928"], ["updated_at", "2020-11-01 19:50:51.749928"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [079d9b21-fbc1-473f-bb2f-cefcc358b95d] Performing ActiveStorage::AnalyzeJob (Job ID: 079d9b21-fbc1-473f-bb2f-cefcc358b95d) from Async(active_storage_analysis) enqueued at 2020-11-01T19:50:51Z with arguments: #<GlobalID:0x00007fd80c084300 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [079d9b21-fbc1-473f-bb2f-cefcc358b95d]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [079d9b21-fbc1-473f-bb2f-cefcc358b95d]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (48.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [079d9b21-fbc1-473f-bb2f-cefcc358b95d]   [1m[35m (27.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [079d9b21-fbc1-473f-bb2f-cefcc358b95d] Performed ActiveStorage::AnalyzeJob (Job ID: 079d9b21-fbc1-473f-bb2f-cefcc358b95d) from Async(active_storage_analysis) in 35.4ms
  [1m[35m (9.0ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (32.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.7ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.7ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (551.8ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (30.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:50:58.383361"], ["updated_at", "2020-11-01 19:50:58.383361"]]
  [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "bn544tbfmmfu9yhe0c7exw4sap0y"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:50:58.395981"]]
  [1m[36mActiveStorage::Attachment Create (1.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:50:58.400556"]]
  [1m[36mProductUpload Update (0.7ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:50:58.404916"], ["id", 1]]
  [1m[35m (29.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.8ms) [0m[32mUploaded file to key: bn544tbfmmfu9yhe0c7exw4sap0y (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: fdeac49c-ae1f-45ad-855c-ba1109a10dfd) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055eff121a5c0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Treutel, Legros and Heidenreich"], ["model", "Quinn Stracke"], ["color", "rose"], ["carrier_plan_type", "pos"], ["quantity", 5], ["price", "61.13"], ["created_at", "2020-11-01 19:50:58.711554"], ["updated_at", "2020-11-01 19:50:58.711554"]]
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [fdeac49c-ae1f-45ad-855c-ba1109a10dfd] Performing ActiveStorage::AnalyzeJob (Job ID: fdeac49c-ae1f-45ad-855c-ba1109a10dfd) from Async(active_storage_analysis) enqueued at 2020-11-01T19:50:58Z with arguments: #<GlobalID:0x000055eff1838560 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [fdeac49c-ae1f-45ad-855c-ba1109a10dfd]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fdeac49c-ae1f-45ad-855c-ba1109a10dfd]   [1m[36mActiveStorage::Blob Update (1.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (58.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fdeac49c-ae1f-45ad-855c-ba1109a10dfd]   [1m[35m (35.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [fdeac49c-ae1f-45ad-855c-ba1109a10dfd] Performed ActiveStorage::AnalyzeJob (Job ID: fdeac49c-ae1f-45ad-855c-ba1109a10dfd) from Async(active_storage_analysis) in 46.66ms
  [1m[35m (8.9ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (41.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.7ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (521.4ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (29.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:52:02.041223"], ["updated_at", "2020-11-01 19:52:02.041223"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "6gemmz026d5ay5y8jrlc2mihm3wj"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:52:02.048880"]]
  [1m[36mActiveStorage::Attachment Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:52:02.051702"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:52:02.054466"], ["id", 1]]
  [1m[35m (30.3ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.6ms) [0m[32mUploaded file to key: 6gemmz026d5ay5y8jrlc2mihm3wj (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c5377c9c-cdfb-4fff-b367-71d12c09ec7a) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000562858a05088 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Hilpert LLC"], ["model", "Laura Blanda Ret."], ["color", "lavender"], ["carrier_plan_type", "pos"], ["quantity", 5], ["price", "72.37"], ["created_at", "2020-11-01 19:52:02.376688"], ["updated_at", "2020-11-01 19:52:02.376688"]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c5377c9c-cdfb-4fff-b367-71d12c09ec7a] Performing ActiveStorage::AnalyzeJob (Job ID: c5377c9c-cdfb-4fff-b367-71d12c09ec7a) from Async(active_storage_analysis) enqueued at 2020-11-01T19:52:02Z with arguments: #<GlobalID:0x00007fc1f00820c8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (24.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c5377c9c-cdfb-4fff-b367-71d12c09ec7a]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c5377c9c-cdfb-4fff-b367-71d12c09ec7a]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c5377c9c-cdfb-4fff-b367-71d12c09ec7a]   [1m[35m (32.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c5377c9c-cdfb-4fff-b367-71d12c09ec7a] Performed ActiveStorage::AnalyzeJob (Job ID: c5377c9c-cdfb-4fff-b367-71d12c09ec7a) from Async(active_storage_analysis) in 47.89ms
  [1m[35m (32.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.0ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (649.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:52:12.404836"], ["updated_at", "2020-11-01 19:52:12.404836"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "pl7zf10bavhy6x6ajo3v7ilbimep"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:52:12.413238"]]
  [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:52:12.416420"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:52:12.419495"], ["id", 1]]
  [1m[35m (31.1ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.1ms) [0m[32mUploaded file to key: pl7zf10bavhy6x6ajo3v7ilbimep (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 7d23a2ec-9d85-4c3d-84f4-e74fd90f7f4e) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055cb88b5d0c0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Little, Keeling and O'Kon"], ["model", "Francesco Hane"], ["color", "scarlet"], ["carrier_plan_type", "pre"], ["quantity", 9], ["price", "86.24"], ["created_at", "2020-11-01 19:52:12.703690"], ["updated_at", "2020-11-01 19:52:12.703690"]]
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [7d23a2ec-9d85-4c3d-84f4-e74fd90f7f4e] Performing ActiveStorage::AnalyzeJob (Job ID: 7d23a2ec-9d85-4c3d-84f4-e74fd90f7f4e) from Async(active_storage_analysis) enqueued at 2020-11-01T19:52:12Z with arguments: #<GlobalID:0x00007f7d740813f0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [7d23a2ec-9d85-4c3d-84f4-e74fd90f7f4e]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7d23a2ec-9d85-4c3d-84f4-e74fd90f7f4e]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (39.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7d23a2ec-9d85-4c3d-84f4-e74fd90f7f4e]   [1m[35m (28.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [7d23a2ec-9d85-4c3d-84f4-e74fd90f7f4e] Performed ActiveStorage::AnalyzeJob (Job ID: 7d23a2ec-9d85-4c3d-84f4-e74fd90f7f4e) from Async(active_storage_analysis) in 31.7ms
  [1m[35m (11.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.9ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (522.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:52:25.850050"], ["updated_at", "2020-11-01 19:52:25.850050"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "fnc31z3nzdktptjkt14ebtczr5m5"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:52:25.856470"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:52:25.858267"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:52:25.859860"], ["id", 1]]
  [1m[35m (22.0ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.6ms) [0m[32mUploaded file to key: fnc31z3nzdktptjkt14ebtczr5m5 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b2b484b7-3439-409f-b42a-c33efa6817b7) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005584f7989aa0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Grimes LLC"], ["model", "Fr. Leticia Balistreri"], ["color", "lemon"], ["carrier_plan_type", "pre"], ["quantity", 6], ["price", "78.86"], ["created_at", "2020-11-01 19:52:26.133639"], ["updated_at", "2020-11-01 19:52:26.133639"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2b484b7-3439-409f-b42a-c33efa6817b7] Performing ActiveStorage::AnalyzeJob (Job ID: b2b484b7-3439-409f-b42a-c33efa6817b7) from Async(active_storage_analysis) enqueued at 2020-11-01T19:52:25Z with arguments: #<GlobalID:0x00007f877007ecd0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2b484b7-3439-409f-b42a-c33efa6817b7]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2b484b7-3439-409f-b42a-c33efa6817b7]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (38.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2b484b7-3439-409f-b42a-c33efa6817b7]   [1m[35m (32.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b2b484b7-3439-409f-b42a-c33efa6817b7] Performed ActiveStorage::AnalyzeJob (Job ID: b2b484b7-3439-409f-b42a-c33efa6817b7) from Async(active_storage_analysis) in 37.49ms
  [1m[35m (11.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (31.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.9ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.5ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (548.3ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (27.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.5ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:53:16.270324"], ["updated_at", "2020-11-01 19:53:16.270324"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "xxccy3xowli4z71xn8digrh4jr3g"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:53:16.279728"]]
  [1m[36mActiveStorage::Attachment Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:53:16.283517"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:53:16.286218"], ["id", 1]]
  [1m[35m (30.3ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.2ms) [0m[32mUploaded file to key: xxccy3xowli4z71xn8digrh4jr3g (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: eb6649b2-bf5b-44c6-a9dc-4ba65969ff6f) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000557338454ab0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Kreiger and Sons"], ["model", "Maribel Klein"], ["color", "amethyst"], ["carrier_plan_type", "pos"], ["quantity", 5], ["price", "63.16"], ["created_at", "2020-11-01 19:53:16.565613"], ["updated_at", "2020-11-01 19:53:16.565613"]]
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [eb6649b2-bf5b-44c6-a9dc-4ba65969ff6f] Performing ActiveStorage::AnalyzeJob (Job ID: eb6649b2-bf5b-44c6-a9dc-4ba65969ff6f) from Async(active_storage_analysis) enqueued at 2020-11-01T19:53:16Z with arguments: #<GlobalID:0x00007fcab008b6f0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [eb6649b2-bf5b-44c6-a9dc-4ba65969ff6f]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [eb6649b2-bf5b-44c6-a9dc-4ba65969ff6f]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (65.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [eb6649b2-bf5b-44c6-a9dc-4ba65969ff6f]   [1m[35m (60.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [eb6649b2-bf5b-44c6-a9dc-4ba65969ff6f] Performed ActiveStorage::AnalyzeJob (Job ID: eb6649b2-bf5b-44c6-a9dc-4ba65969ff6f) from Async(active_storage_analysis) in 64.44ms
  [1m[35m (12.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.5ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (524.4ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (30.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:54:42.561615"], ["updated_at", "2020-11-01 19:54:42.561615"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "s4yqvuqn2k8xgatvy0fejfptqll1"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:54:42.570593"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:54:42.572861"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:54:42.575311"], ["id", 1]]
  [1m[35m (33.4ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.4ms) [0m[32mUploaded file to key: s4yqvuqn2k8xgatvy0fejfptqll1 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c7046bc4-867c-4501-85f5-fcb953043bd0) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000556974899990 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Osinski, Hayes and Block"], ["model", "Marvel Hodkiewicz"], ["color", "carmine"], ["carrier_plan_type", "pos"], ["quantity", 3], ["price", "91.92"], ["created_at", "2020-11-01 19:54:42.878549"], ["updated_at", "2020-11-01 19:54:42.878549"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c7046bc4-867c-4501-85f5-fcb953043bd0] Performing ActiveStorage::AnalyzeJob (Job ID: c7046bc4-867c-4501-85f5-fcb953043bd0) from Async(active_storage_analysis) enqueued at 2020-11-01T19:54:42Z with arguments: #<GlobalID:0x00007fecd807d330 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c7046bc4-867c-4501-85f5-fcb953043bd0]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c7046bc4-867c-4501-85f5-fcb953043bd0]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (43.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c7046bc4-867c-4501-85f5-fcb953043bd0]   [1m[35m (38.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c7046bc4-867c-4501-85f5-fcb953043bd0] Performed ActiveStorage::AnalyzeJob (Job ID: c7046bc4-867c-4501-85f5-fcb953043bd0) from Async(active_storage_analysis) in 43.11ms
  [1m[35m (14.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (21.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.6ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (624.4ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (30.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:54:56.104378"], ["updated_at", "2020-11-01 19:54:56.104378"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "w6q22rucvvvbrs7wo5czbbe3jjo0"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:54:56.111296"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:54:56.113977"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:54:56.116711"], ["id", 1]]
  [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.4ms) [0m[32mUploaded file to key: w6q22rucvvvbrs7wo5czbbe3jjo0 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6a590138-078c-41aa-b55b-38c73ae22b9d) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000563b436d1990 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.4ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Schuster, Hodkiewicz and Lueilwitz"], ["model", "Fr. Jamal Macejkovic"], ["color", "apricot"], ["carrier_plan_type", "pos"], ["quantity", 4], ["price", "87.57"], ["created_at", "2020-11-01 19:54:56.410667"], ["updated_at", "2020-11-01 19:54:56.410667"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6a590138-078c-41aa-b55b-38c73ae22b9d] Performing ActiveStorage::AnalyzeJob (Job ID: 6a590138-078c-41aa-b55b-38c73ae22b9d) from Async(active_storage_analysis) enqueued at 2020-11-01T19:54:56Z with arguments: #<GlobalID:0x00007ff8a407a9f0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [6a590138-078c-41aa-b55b-38c73ae22b9d]   [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6a590138-078c-41aa-b55b-38c73ae22b9d]   [1m[36mActiveStorage::Blob Update (0.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (49.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6a590138-078c-41aa-b55b-38c73ae22b9d]   [1m[35m (40.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6a590138-078c-41aa-b55b-38c73ae22b9d] Performed ActiveStorage::AnalyzeJob (Job ID: 6a590138-078c-41aa-b55b-38c73ae22b9d) from Async(active_storage_analysis) in 46.52ms
  [1m[35m (15.9ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (525.8ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (28.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.2ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:55:12.207945"], ["updated_at", "2020-11-01 19:55:12.207945"]]
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "lt7izry5nzdf1hcmop1lndkoln97"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:55:12.218220"]]
  [1m[36mActiveStorage::Attachment Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:55:12.220611"]]
  [1m[36mProductUpload Update (1.1ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:55:12.224737"], ["id", 1]]
  [1m[35m (30.9ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.2ms) [0m[32mUploaded file to key: lt7izry5nzdf1hcmop1lndkoln97 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 898ac568-8b64-4ef7-bc15-a69eb24864ec) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055f5789b61d0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Schiller LLC"], ["model", "Elidia Gorczany"], ["color", "green"], ["carrier_plan_type", "pre"], ["quantity", 1], ["price", "88.53"], ["created_at", "2020-11-01 19:55:12.538856"], ["updated_at", "2020-11-01 19:55:12.538856"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [898ac568-8b64-4ef7-bc15-a69eb24864ec] Performing ActiveStorage::AnalyzeJob (Job ID: 898ac568-8b64-4ef7-bc15-a69eb24864ec) from Async(active_storage_analysis) enqueued at 2020-11-01T19:55:12Z with arguments: #<GlobalID:0x00007f0cb8086710 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [898ac568-8b64-4ef7-bc15-a69eb24864ec]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [898ac568-8b64-4ef7-bc15-a69eb24864ec]   [1m[36mActiveStorage::Blob Update (0.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (41.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [898ac568-8b64-4ef7-bc15-a69eb24864ec]   [1m[35m (67.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [898ac568-8b64-4ef7-bc15-a69eb24864ec] Performed ActiveStorage::AnalyzeJob (Job ID: 898ac568-8b64-4ef7-bc15-a69eb24864ec) from Async(active_storage_analysis) in 71.94ms
  [1m[35m (41.3ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (23.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.6ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (547.5ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.1ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:56:59.016284"], ["updated_at", "2020-11-01 19:56:59.016284"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "a6trpe449drsqnq7jgehn9y72z20"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:56:59.024971"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:56:59.026958"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:56:59.029401"], ["id", 1]]
  [1m[35m (30.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.7ms) [0m[32mUploaded file to key: a6trpe449drsqnq7jgehn9y72z20 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 52c126b2-0779-41f7-807b-40cfe4dc4d3e) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055a3a991e748 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.2ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Walter-Raynor"], ["model", "Donte Welch"], ["color", "yellow"], ["carrier_plan_type", "pos"], ["quantity", 1], ["price", "52.61"], ["created_at", "2020-11-01 19:56:59.307724"], ["updated_at", "2020-11-01 19:56:59.307724"]]
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [52c126b2-0779-41f7-807b-40cfe4dc4d3e] Performing ActiveStorage::AnalyzeJob (Job ID: 52c126b2-0779-41f7-807b-40cfe4dc4d3e) from Async(active_storage_analysis) enqueued at 2020-11-01T19:56:59Z with arguments: #<GlobalID:0x00007f876c081dd0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [52c126b2-0779-41f7-807b-40cfe4dc4d3e]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [52c126b2-0779-41f7-807b-40cfe4dc4d3e]   [1m[36mActiveStorage::Blob Update (0.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (86.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [52c126b2-0779-41f7-807b-40cfe4dc4d3e]   [1m[35m (77.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [52c126b2-0779-41f7-807b-40cfe4dc4d3e] Performed ActiveStorage::AnalyzeJob (Job ID: 52c126b2-0779-41f7-807b-40cfe4dc4d3e) from Async(active_storage_analysis) in 83.31ms
  [1m[35m (14.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (26.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (6.3ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (519.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (55.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:58:14.914636"], ["updated_at", "2020-11-01 19:58:14.914636"]]
  [1m[36mActiveStorage::Attachment Load (1.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "0tdbi8844mgn21tjyf2wom2v8eio"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:58:14.927307"]]
  [1m[36mActiveStorage::Attachment Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:58:14.930922"]]
  [1m[36mProductUpload Update (0.7ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:58:14.934009"], ["id", 1]]
  [1m[35m (44.0ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (6.0ms) [0m[32mUploaded file to key: 0tdbi8844mgn21tjyf2wom2v8eio (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 34599fcf-a1c3-4130-a7ad-e2d978122d92) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005641dfa9d9c8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Skiles LLC"], ["model", "Wendell Jacobi"], ["color", "coral"], ["carrier_plan_type", "pre"], ["quantity", 1], ["price", "76.48"], ["created_at", "2020-11-01 19:58:15.256820"], ["updated_at", "2020-11-01 19:58:15.256820"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [34599fcf-a1c3-4130-a7ad-e2d978122d92] Performing ActiveStorage::AnalyzeJob (Job ID: 34599fcf-a1c3-4130-a7ad-e2d978122d92) from Async(active_storage_analysis) enqueued at 2020-11-01T19:58:14Z with arguments: #<GlobalID:0x00007fba34082640 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [34599fcf-a1c3-4130-a7ad-e2d978122d92]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [34599fcf-a1c3-4130-a7ad-e2d978122d92]   [1m[36mActiveStorage::Blob Update (0.3ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (57.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [34599fcf-a1c3-4130-a7ad-e2d978122d92]   [1m[35m (47.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [34599fcf-a1c3-4130-a7ad-e2d978122d92] Performed ActiveStorage::AnalyzeJob (Job ID: 34599fcf-a1c3-4130-a7ad-e2d978122d92) from Async(active_storage_analysis) in 51.53ms
  [1m[35m (12.2ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.2ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (757.8ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:58:30.779403"], ["updated_at", "2020-11-01 19:58:30.779403"]]
  [1m[36mActiveStorage::Attachment Load (1.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "f83it39wu4yi7c3299o1vzp7c159"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:58:30.795907"]]
  [1m[36mActiveStorage::Attachment Create (1.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:58:30.798987"]]
  [1m[36mProductUpload Update (1.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:58:30.802701"], ["id", 1]]
  [1m[35m (34.3ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (6.7ms) [0m[32mUploaded file to key: f83it39wu4yi7c3299o1vzp7c159 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c1f04c33-c14f-4fbc-b299-47743bff39a9) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000564a7791abc8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Langosh and Sons"], ["model", "Nisha Hermann DO"], ["color", "viridian"], ["carrier_plan_type", "pos"], ["quantity", 10], ["price", "62.61"], ["created_at", "2020-11-01 19:58:31.244839"], ["updated_at", "2020-11-01 19:58:31.244839"]]
  [1m[35m (31.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveStorage::Blob Load (15.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1f04c33-c14f-4fbc-b299-47743bff39a9] Performing ActiveStorage::AnalyzeJob (Job ID: c1f04c33-c14f-4fbc-b299-47743bff39a9) from Async(active_storage_analysis) enqueued at 2020-11-01T19:58:30Z with arguments: #<GlobalID:0x0000564a7666a1b8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1f04c33-c14f-4fbc-b299-47743bff39a9]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1f04c33-c14f-4fbc-b299-47743bff39a9]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1f04c33-c14f-4fbc-b299-47743bff39a9]   [1m[35m (24.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c1f04c33-c14f-4fbc-b299-47743bff39a9] Performed ActiveStorage::AnalyzeJob (Job ID: c1f04c33-c14f-4fbc-b299-47743bff39a9) from Async(active_storage_analysis) in 29.36ms
  [1m[35m (25.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (21.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (4.9ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (3.8ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (542.4ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (44.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:58:47.593820"], ["updated_at", "2020-11-01 19:58:47.593820"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "hvg22dadxjw1zao3gmyskeootght"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:58:47.600684"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:58:47.603744"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:58:47.606968"], ["id", 1]]
  [1m[35m (23.8ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.0ms) [0m[32mUploaded file to key: hvg22dadxjw1zao3gmyskeootght (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 23ec8772-89c4-4429-9ea2-0ad9ddd3fc1f) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005582285f0ff0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Rowe Group"], ["model", "Goldie Williamson"], ["color", "sapphire"], ["carrier_plan_type", "pre"], ["quantity", 7], ["price", "19.07"], ["created_at", "2020-11-01 19:58:47.929545"], ["updated_at", "2020-11-01 19:58:47.929545"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [23ec8772-89c4-4429-9ea2-0ad9ddd3fc1f] Performing ActiveStorage::AnalyzeJob (Job ID: 23ec8772-89c4-4429-9ea2-0ad9ddd3fc1f) from Async(active_storage_analysis) enqueued at 2020-11-01T19:58:47Z with arguments: #<GlobalID:0x00007f46fc086980 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [23ec8772-89c4-4429-9ea2-0ad9ddd3fc1f]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [23ec8772-89c4-4429-9ea2-0ad9ddd3fc1f]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (52.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [23ec8772-89c4-4429-9ea2-0ad9ddd3fc1f]   [1m[35m (70.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [23ec8772-89c4-4429-9ea2-0ad9ddd3fc1f] Performed ActiveStorage::AnalyzeJob (Job ID: 23ec8772-89c4-4429-9ea2-0ad9ddd3fc1f) from Async(active_storage_analysis) in 74.64ms
  [1m[35m (37.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.7ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (0.8ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (550.7ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (27.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 19:59:10.541428"], ["updated_at", "2020-11-01 19:59:10.541428"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "unzek9f0gkfii3xnbup5p6656n5b"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 19:59:10.553501"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 19:59:10.556573"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 19:59:10.559296"], ["id", 1]]
  [1m[35m (59.4ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.5ms) [0m[32mUploaded file to key: unzek9f0gkfii3xnbup5p6656n5b (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f983f333-1678-4cae-a80a-b520e3196d02) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000562a166055b8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Renner-Koepp"], ["model", "Kevin Torphy"], ["color", "viridian"], ["carrier_plan_type", "pre"], ["quantity", 5], ["price", "65.95"], ["created_at", "2020-11-01 19:59:10.867104"], ["updated_at", "2020-11-01 19:59:10.867104"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f983f333-1678-4cae-a80a-b520e3196d02] Performing ActiveStorage::AnalyzeJob (Job ID: f983f333-1678-4cae-a80a-b520e3196d02) from Async(active_storage_analysis) enqueued at 2020-11-01T19:59:10Z with arguments: #<GlobalID:0x0000562a15357830 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f983f333-1678-4cae-a80a-b520e3196d02]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f983f333-1678-4cae-a80a-b520e3196d02]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (41.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f983f333-1678-4cae-a80a-b520e3196d02]   [1m[35m (36.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f983f333-1678-4cae-a80a-b520e3196d02] Performed ActiveStorage::AnalyzeJob (Job ID: f983f333-1678-4cae-a80a-b520e3196d02) from Async(active_storage_analysis) in 40.98ms
  [1m[35m (11.9ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.8ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (0.9ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (549.6ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (21.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:00:12.156492"], ["updated_at", "2020-11-01 20:00:12.156492"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "3r38me9hz1eyt5egu88x7yimlp5f"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:00:12.164631"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:00:12.167361"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:00:12.169912"], ["id", 1]]
  [1m[35m (26.9ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.7ms) [0m[32mUploaded file to key: 3r38me9hz1eyt5egu88x7yimlp5f (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 89f8a8b2-7ec2-4485-bb53-71a60c7768b8) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000559ca29a91a8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Wilkinson-Rath"], ["model", "Rodger Block"], ["color", "orchid"], ["carrier_plan_type", "pos"], ["quantity", 4], ["price", "14.41"], ["created_at", "2020-11-01 20:00:12.464475"], ["updated_at", "2020-11-01 20:00:12.464475"]]
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [89f8a8b2-7ec2-4485-bb53-71a60c7768b8] Performing ActiveStorage::AnalyzeJob (Job ID: 89f8a8b2-7ec2-4485-bb53-71a60c7768b8) from Async(active_storage_analysis) enqueued at 2020-11-01T20:00:12Z with arguments: #<GlobalID:0x00007f5ef0086dc0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [89f8a8b2-7ec2-4485-bb53-71a60c7768b8]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [89f8a8b2-7ec2-4485-bb53-71a60c7768b8]   [1m[36mActiveStorage::Blob Update (1.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (45.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [89f8a8b2-7ec2-4485-bb53-71a60c7768b8]   [1m[35m (31.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [89f8a8b2-7ec2-4485-bb53-71a60c7768b8] Performed ActiveStorage::AnalyzeJob (Job ID: 89f8a8b2-7ec2-4485-bb53-71a60c7768b8) from Async(active_storage_analysis) in 38.37ms
  [1m[35m (8.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.0ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.3ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (598.6ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (31.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:00:17.198436"], ["updated_at", "2020-11-01 20:00:17.198436"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "sdsy75pgqkyb2p1kfokfcv46vu3g"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:00:17.205639"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:00:17.207591"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:00:17.209676"], ["id", 1]]
  [1m[35m (34.7ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.9ms) [0m[32mUploaded file to key: sdsy75pgqkyb2p1kfokfcv46vu3g (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2630e796-7d95-40b3-9087-f645e45f3d6d) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005608b47081a0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Fisher, O'Connell and Flatley"], ["model", "Derick Hirthe"], ["color", "pear"], ["carrier_plan_type", "pre"], ["quantity", 3], ["price", "63.67"], ["created_at", "2020-11-01 20:00:17.482085"], ["updated_at", "2020-11-01 20:00:17.482085"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [2630e796-7d95-40b3-9087-f645e45f3d6d] Performing ActiveStorage::AnalyzeJob (Job ID: 2630e796-7d95-40b3-9087-f645e45f3d6d) from Async(active_storage_analysis) enqueued at 2020-11-01T20:00:17Z with arguments: #<GlobalID:0x00005608b3421938 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [2630e796-7d95-40b3-9087-f645e45f3d6d]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2630e796-7d95-40b3-9087-f645e45f3d6d]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (75.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2630e796-7d95-40b3-9087-f645e45f3d6d]   [1m[35m (71.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [2630e796-7d95-40b3-9087-f645e45f3d6d] Performed ActiveStorage::AnalyzeJob (Job ID: 2630e796-7d95-40b3-9087-f645e45f3d6d) from Async(active_storage_analysis) in 74.03ms
  [1m[35m (7.6ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (23.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.9ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (546.3ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (32.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.1ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:03:30.442657"], ["updated_at", "2020-11-01 20:03:30.442657"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "z2ugncow1qaopjpbe36h4mmxyt8s"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:03:30.451062"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:03:30.454423"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:03:30.457183"], ["id", 1]]
  [1m[35m (32.6ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (2.4ms) [0m[32mUploaded file to key: z2ugncow1qaopjpbe36h4mmxyt8s (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f3212cfe-f666-4c0b-94a8-f646b1a08f8a) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000056236eeb6530 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Hodkiewicz, Schmeler and Williamson"], ["model", "Paula Hansen"], ["color", "copper"], ["carrier_plan_type", "pos"], ["quantity", 4], ["price", "22.87"], ["created_at", "2020-11-01 20:03:30.737201"], ["updated_at", "2020-11-01 20:03:30.737201"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f3212cfe-f666-4c0b-94a8-f646b1a08f8a] Performing ActiveStorage::AnalyzeJob (Job ID: f3212cfe-f666-4c0b-94a8-f646b1a08f8a) from Async(active_storage_analysis) enqueued at 2020-11-01T20:03:30Z with arguments: #<GlobalID:0x00007ff318082c18 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f3212cfe-f666-4c0b-94a8-f646b1a08f8a]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f3212cfe-f666-4c0b-94a8-f646b1a08f8a]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (43.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f3212cfe-f666-4c0b-94a8-f646b1a08f8a]   [1m[35m (38.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f3212cfe-f666-4c0b-94a8-f646b1a08f8a] Performed ActiveStorage::AnalyzeJob (Job ID: f3212cfe-f666-4c0b-94a8-f646b1a08f8a) from Async(active_storage_analysis) in 42.36ms
  [1m[35m (14.4ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (22.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.8ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (3.3ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (523.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:03:51.247125"], ["updated_at", "2020-11-01 20:03:51.247125"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "4h4fy65lnpa0kfqupaywndljahyg"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:03:51.255570"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:03:51.257267"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:03:51.258817"], ["id", 1]]
  [1m[35m (38.4ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.1ms) [0m[32mUploaded file to key: 4h4fy65lnpa0kfqupaywndljahyg (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6c00a1ad-914a-4521-b1c4-4427d8c0f923) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000562a2b54b270 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Brown Group"], ["model", "Loretta MacGyver"], ["color", "fuchsia"], ["carrier_plan_type", "pre"], ["quantity", 4], ["price", "40.68"], ["created_at", "2020-11-01 20:03:51.554495"], ["updated_at", "2020-11-01 20:03:51.554495"]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6c00a1ad-914a-4521-b1c4-4427d8c0f923] Performing ActiveStorage::AnalyzeJob (Job ID: 6c00a1ad-914a-4521-b1c4-4427d8c0f923) from Async(active_storage_analysis) enqueued at 2020-11-01T20:03:51Z with arguments: #<GlobalID:0x00007f85e007d8a8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [6c00a1ad-914a-4521-b1c4-4427d8c0f923]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6c00a1ad-914a-4521-b1c4-4427d8c0f923]   [1m[36mActiveStorage::Blob Update (0.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (78.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6c00a1ad-914a-4521-b1c4-4427d8c0f923]   [1m[35m (76.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [6c00a1ad-914a-4521-b1c4-4427d8c0f923] Performed ActiveStorage::AnalyzeJob (Job ID: 6c00a1ad-914a-4521-b1c4-4427d8c0f923) from Async(active_storage_analysis) in 80.56ms
  [1m[35m (12.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.7ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (550.7ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (30.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:04:22.673570"], ["updated_at", "2020-11-01 20:04:22.673570"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "bjxthkbb40078jna9p9p1g2v38c5"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:04:22.685473"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:04:22.688073"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:04:22.690280"], ["id", 1]]
  [1m[35m (30.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.4ms) [0m[32mUploaded file to key: bjxthkbb40078jna9p9p1g2v38c5 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8177a68c-69df-423f-bb59-fd2fce421a9a) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055788a325b88 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (2.5ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Conroy, Waelchi and Pfeffer"], ["model", "Carl Hintz LLD"], ["color", "mauve"], ["carrier_plan_type", "pre"], ["quantity", 5], ["price", "26.79"], ["created_at", "2020-11-01 20:04:22.963717"], ["updated_at", "2020-11-01 20:04:22.963717"]]
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8177a68c-69df-423f-bb59-fd2fce421a9a] Performing ActiveStorage::AnalyzeJob (Job ID: 8177a68c-69df-423f-bb59-fd2fce421a9a) from Async(active_storage_analysis) enqueued at 2020-11-01T20:04:22Z with arguments: #<GlobalID:0x00007fde98082ce8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8177a68c-69df-423f-bb59-fd2fce421a9a]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8177a68c-69df-423f-bb59-fd2fce421a9a]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (103.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8177a68c-69df-423f-bb59-fd2fce421a9a]   [1m[35m (101.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8177a68c-69df-423f-bb59-fd2fce421a9a] Performed ActiveStorage::AnalyzeJob (Job ID: 8177a68c-69df-423f-bb59-fd2fce421a9a) from Async(active_storage_analysis) in 105.44ms
  [1m[35m (7.9ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.5ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (523.6ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (32.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:04:49.895728"], ["updated_at", "2020-11-01 20:04:49.895728"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "41084rzwhx1rlbgs4u9p96cfwdkb"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:04:49.901884"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:04:49.903463"]]
  [1m[36mProductUpload Update (0.2ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:04:49.905030"], ["id", 1]]
  [1m[35m (23.7ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.3ms) [0m[32mUploaded file to key: 41084rzwhx1rlbgs4u9p96cfwdkb (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 53ee3307-51e7-4228-aa68-8c512348a9f7) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055a31c0fb710 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "VonRueden-Rippin"], ["model", "Mr. Abram Bailey"], ["color", "sangria"], ["carrier_plan_type", "pos"], ["quantity", 6], ["price", "95.11"], ["created_at", "2020-11-01 20:04:50.189002"], ["updated_at", "2020-11-01 20:04:50.189002"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [53ee3307-51e7-4228-aa68-8c512348a9f7] Performing ActiveStorage::AnalyzeJob (Job ID: 53ee3307-51e7-4228-aa68-8c512348a9f7) from Async(active_storage_analysis) enqueued at 2020-11-01T20:04:49Z with arguments: #<GlobalID:0x00007f4d5407d6b0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [53ee3307-51e7-4228-aa68-8c512348a9f7]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [53ee3307-51e7-4228-aa68-8c512348a9f7]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (41.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [53ee3307-51e7-4228-aa68-8c512348a9f7]   [1m[35m (33.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [53ee3307-51e7-4228-aa68-8c512348a9f7] Performed ActiveStorage::AnalyzeJob (Job ID: 53ee3307-51e7-4228-aa68-8c512348a9f7) from Async(active_storage_analysis) in 37.16ms
  [1m[35m (11.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.2ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (524.8ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (31.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:05:22.718982"], ["updated_at", "2020-11-01 20:05:22.718982"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "xxv9cvi7n9kp63gu0vbemep8ys26"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:05:22.727363"]]
  [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:05:22.731312"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:05:22.734206"], ["id", 1]]
  [1m[35m (28.1ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (2.1ms) [0m[32mUploaded file to key: xxv9cvi7n9kp63gu0vbemep8ys26 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8c9272cd-f622-474e-bc27-621cc6f3f96d) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055d79d610678 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Blanda-Kutch"], ["model", "Houston Leannon"], ["color", "aquamarine"], ["carrier_plan_type", "pre"], ["quantity", 8], ["price", "99.99"], ["created_at", "2020-11-01 20:05:22.994308"], ["updated_at", "2020-11-01 20:05:22.994308"]]
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c9272cd-f622-474e-bc27-621cc6f3f96d] Performing ActiveStorage::AnalyzeJob (Job ID: 8c9272cd-f622-474e-bc27-621cc6f3f96d) from Async(active_storage_analysis) enqueued at 2020-11-01T20:05:22Z with arguments: #<GlobalID:0x00007f5184078f28 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c9272cd-f622-474e-bc27-621cc6f3f96d]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c9272cd-f622-474e-bc27-621cc6f3f96d]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (38.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c9272cd-f622-474e-bc27-621cc6f3f96d]   [1m[35m (39.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8c9272cd-f622-474e-bc27-621cc6f3f96d] Performed ActiveStorage::AnalyzeJob (Job ID: 8c9272cd-f622-474e-bc27-621cc6f3f96d) from Async(active_storage_analysis) in 42.41ms
  [1m[35m (14.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.8ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (536.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (30.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:05:43.252496"], ["updated_at", "2020-11-01 20:05:43.252496"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "wifma7tbyhvwknyfbi5s43clsp0h"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:05:43.262858"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:05:43.264543"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:05:43.266025"], ["id", 1]]
  [1m[35m (33.2ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.0ms) [0m[32mUploaded file to key: wifma7tbyhvwknyfbi5s43clsp0h (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e8783a5f-e98b-495c-8c8c-572183505f9a) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055728f97a7f0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Schiller Group"], ["model", "Kellye Kihn"], ["color", "taupe"], ["carrier_plan_type", "pre"], ["quantity", 4], ["price", "98.94"], ["created_at", "2020-11-01 20:05:43.529107"], ["updated_at", "2020-11-01 20:05:43.529107"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e8783a5f-e98b-495c-8c8c-572183505f9a] Performing ActiveStorage::AnalyzeJob (Job ID: e8783a5f-e98b-495c-8c8c-572183505f9a) from Async(active_storage_analysis) enqueued at 2020-11-01T20:05:43Z with arguments: #<GlobalID:0x00007f9048087638 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (28.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e8783a5f-e98b-495c-8c8c-572183505f9a]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e8783a5f-e98b-495c-8c8c-572183505f9a]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e8783a5f-e98b-495c-8c8c-572183505f9a]   [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e8783a5f-e98b-495c-8c8c-572183505f9a] Performed ActiveStorage::AnalyzeJob (Job ID: e8783a5f-e98b-495c-8c8c-572183505f9a) from Async(active_storage_analysis) in 35.56ms
  [1m[35m (23.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (55.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.2ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (579.1ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (31.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:06:10.223983"], ["updated_at", "2020-11-01 20:06:10.223983"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "em09pd0ag1e6ge3e3js409catqzp"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:06:10.231987"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:06:10.234554"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:06:10.236587"], ["id", 1]]
  [1m[35m (49.9ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.4ms) [0m[32mUploaded file to key: em09pd0ag1e6ge3e3js409catqzp (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 81106089-5db9-4ee3-b3e4-e9a5fbeff8fa) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000558229ab2d30 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Jast-Bradtke"], ["model", "Clemente Breitenberg"], ["color", "gold"], ["carrier_plan_type", "pre"], ["quantity", 10], ["price", "98.97"], ["created_at", "2020-11-01 20:06:10.525447"], ["updated_at", "2020-11-01 20:06:10.525447"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [81106089-5db9-4ee3-b3e4-e9a5fbeff8fa] Performing ActiveStorage::AnalyzeJob (Job ID: 81106089-5db9-4ee3-b3e4-e9a5fbeff8fa) from Async(active_storage_analysis) enqueued at 2020-11-01T20:06:10Z with arguments: #<GlobalID:0x00005582287b77d0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [81106089-5db9-4ee3-b3e4-e9a5fbeff8fa]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [81106089-5db9-4ee3-b3e4-e9a5fbeff8fa]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (64.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [81106089-5db9-4ee3-b3e4-e9a5fbeff8fa]   [1m[35m (59.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [81106089-5db9-4ee3-b3e4-e9a5fbeff8fa] Performed ActiveStorage::AnalyzeJob (Job ID: 81106089-5db9-4ee3-b3e4-e9a5fbeff8fa) from Async(active_storage_analysis) in 62.98ms
  [1m[35m (9.9ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (23.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.8ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (524.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (32.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:06:19.000550"], ["updated_at", "2020-11-01 20:06:19.000550"]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "1kem6tca35zh5c6rgr16fx93cacn"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:06:19.008017"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:06:19.012219"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:06:19.014546"], ["id", 1]]
  [1m[35m (32.4ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (1.4ms) [0m[32mUploaded file to key: 1kem6tca35zh5c6rgr16fx93cacn (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: b1c7a9e5-8201-4a5a-867d-0ec2d661a556) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005555c218a3b8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Rosenbaum, Blanda and Schmeler"], ["model", "Sherron Steuber DO"], ["color", "amaranth"], ["carrier_plan_type", "pre"], ["quantity", 5], ["price", "34.86"], ["created_at", "2020-11-01 20:06:19.267903"], ["updated_at", "2020-11-01 20:06:19.267903"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1c7a9e5-8201-4a5a-867d-0ec2d661a556] Performing ActiveStorage::AnalyzeJob (Job ID: b1c7a9e5-8201-4a5a-867d-0ec2d661a556) from Async(active_storage_analysis) enqueued at 2020-11-01T20:06:19Z with arguments: #<GlobalID:0x00007f15bc07c1b8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1c7a9e5-8201-4a5a-867d-0ec2d661a556]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1c7a9e5-8201-4a5a-867d-0ec2d661a556]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (31.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1c7a9e5-8201-4a5a-867d-0ec2d661a556]   [1m[35m (25.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [b1c7a9e5-8201-4a5a-867d-0ec2d661a556] Performed ActiveStorage::AnalyzeJob (Job ID: b1c7a9e5-8201-4a5a-867d-0ec2d661a556) from Async(active_storage_analysis) in 28.94ms
  [1m[35m (11.5ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (23.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.7ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.5ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (523.3ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (32.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:06:33.833248"], ["updated_at", "2020-11-01 20:06:33.833248"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "bqguqbzvtl0ogamlq9n1g10bye71"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:06:33.842669"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:06:33.845564"]]
  [1m[36mProductUpload Update (1.0ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:06:33.847666"], ["id", 1]]
  [1m[35m (28.9ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.1ms) [0m[32mUploaded file to key: bqguqbzvtl0ogamlq9n1g10bye71 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 102a918b-b7c9-49cd-aed7-c247a969d445) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055c6e2b4f178 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (2.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Waters, Murazik and Sawayn"], ["model", "Duncan McDermott"], ["color", "silver"], ["carrier_plan_type", "pos"], ["quantity", 1], ["price", "41.75"], ["created_at", "2020-11-01 20:06:34.140616"], ["updated_at", "2020-11-01 20:06:34.140616"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [102a918b-b7c9-49cd-aed7-c247a969d445] Performing ActiveStorage::AnalyzeJob (Job ID: 102a918b-b7c9-49cd-aed7-c247a969d445) from Async(active_storage_analysis) enqueued at 2020-11-01T20:06:33Z with arguments: #<GlobalID:0x00007f75740782d0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [102a918b-b7c9-49cd-aed7-c247a969d445]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [102a918b-b7c9-49cd-aed7-c247a969d445]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (37.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [102a918b-b7c9-49cd-aed7-c247a969d445]   [1m[35m (34.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [102a918b-b7c9-49cd-aed7-c247a969d445] Performed ActiveStorage::AnalyzeJob (Job ID: 102a918b-b7c9-49cd-aed7-c247a969d445) from Async(active_storage_analysis) in 37.66ms
  [1m[35m (14.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (0.8ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (525.2ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (21.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (2.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.1ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:06:47.711009"], ["updated_at", "2020-11-01 20:06:47.711009"]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "92ihqwm98pjhkv0pdyrebd3atyfg"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:06:47.718498"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:06:47.719997"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:06:47.721446"], ["id", 1]]
  [1m[35m (34.9ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.2ms) [0m[32mUploaded file to key: 92ihqwm98pjhkv0pdyrebd3atyfg (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4b25adc0-21ba-4e78-aa14-c3dc8186cf45) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000557eecb31c38 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Dach, Heller and Mante"], ["model", "Terra Johnson"], ["color", "taupe"], ["carrier_plan_type", "pos"], ["quantity", 9], ["price", "26.27"], ["created_at", "2020-11-01 20:06:47.977393"], ["updated_at", "2020-11-01 20:06:47.977393"]]
  [1m[36mActiveStorage::Blob Load (0.9ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b25adc0-21ba-4e78-aa14-c3dc8186cf45] Performing ActiveStorage::AnalyzeJob (Job ID: 4b25adc0-21ba-4e78-aa14-c3dc8186cf45) from Async(active_storage_analysis) enqueued at 2020-11-01T20:06:47Z with arguments: #<GlobalID:0x00007fc3dc081ea0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b25adc0-21ba-4e78-aa14-c3dc8186cf45]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b25adc0-21ba-4e78-aa14-c3dc8186cf45]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (36.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b25adc0-21ba-4e78-aa14-c3dc8186cf45]   [1m[35m (30.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [4b25adc0-21ba-4e78-aa14-c3dc8186cf45] Performed ActiveStorage::AnalyzeJob (Job ID: 4b25adc0-21ba-4e78-aa14-c3dc8186cf45) from Async(active_storage_analysis) in 35.09ms
  [1m[35m (15.0ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.5ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.1ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (524.8ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (32.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:07:25.667512"], ["updated_at", "2020-11-01 20:07:25.667512"]]
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "0nbdadoe05fm7b4mo03e0u8m9u00"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:07:25.680234"]]
  [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:07:25.685246"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:07:25.688241"], ["id", 1]]
  [1m[35m (25.0ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (32.0ms) [0m[32mUploaded file to key: 0nbdadoe05fm7b4mo03e0u8m9u00 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9374515d-6241-4c19-871c-ed066358d7b0) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055692e19fd38 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Rempel, Schumm and Lebsack"], ["model", "Sol Kirlin MD"], ["color", "silver"], ["carrier_plan_type", "pos"], ["quantity", 5], ["price", "69.04"], ["created_at", "2020-11-01 20:07:26.377310"], ["updated_at", "2020-11-01 20:07:26.377310"]]
  [1m[36mActiveStorage::Blob Load (1.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9374515d-6241-4c19-871c-ed066358d7b0] Performing ActiveStorage::AnalyzeJob (Job ID: 9374515d-6241-4c19-871c-ed066358d7b0) from Async(active_storage_analysis) enqueued at 2020-11-01T20:07:25Z with arguments: #<GlobalID:0x00007f5eb4083828 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (38.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9374515d-6241-4c19-871c-ed066358d7b0]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9374515d-6241-4c19-871c-ed066358d7b0]   [1m[36mActiveStorage::Blob Update (1.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9374515d-6241-4c19-871c-ed066358d7b0]   [1m[35m (24.3ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9374515d-6241-4c19-871c-ed066358d7b0] Performed ActiveStorage::AnalyzeJob (Job ID: 9374515d-6241-4c19-871c-ed066358d7b0) from Async(active_storage_analysis) in 42.51ms
  [1m[35m (23.0ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (4.6ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.3ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (545.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (27.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:07:31.335182"], ["updated_at", "2020-11-01 20:07:31.335182"]]
  [1m[36mActiveStorage::Attachment Load (2.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (2.0ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "1g059104insl24bhn2vzdfj3jyhw"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:07:31.348943"]]
  [1m[36mActiveStorage::Attachment Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:07:31.353673"]]
  [1m[36mProductUpload Update (0.8ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:07:31.357153"], ["id", 1]]
  [1m[35m (21.9ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (7.4ms) [0m[32mUploaded file to key: 1g059104insl24bhn2vzdfj3jyhw (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 89af7100-5e20-4b9c-aa8e-95c0cc45dac5) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055ba68ef8fa8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Muller-Olson"], ["model", "Alishia Bruen"], ["color", "teal"], ["carrier_plan_type", "pre"], ["quantity", 10], ["price", "65.63"], ["created_at", "2020-11-01 20:07:31.657013"], ["updated_at", "2020-11-01 20:07:31.657013"]]
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [89af7100-5e20-4b9c-aa8e-95c0cc45dac5] Performing ActiveStorage::AnalyzeJob (Job ID: 89af7100-5e20-4b9c-aa8e-95c0cc45dac5) from Async(active_storage_analysis) enqueued at 2020-11-01T20:07:31Z with arguments: #<GlobalID:0x00007f52f8085aa0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (27.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [89af7100-5e20-4b9c-aa8e-95c0cc45dac5]   [1m[35m (13.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [89af7100-5e20-4b9c-aa8e-95c0cc45dac5]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [89af7100-5e20-4b9c-aa8e-95c0cc45dac5]   [1m[35m (26.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [89af7100-5e20-4b9c-aa8e-95c0cc45dac5] Performed ActiveStorage::AnalyzeJob (Job ID: 89af7100-5e20-4b9c-aa8e-95c0cc45dac5) from Async(active_storage_analysis) in 45.47ms
  [1m[35m (27.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.6ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (522.9ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (25.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:08:27.266632"], ["updated_at", "2020-11-01 20:08:27.266632"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "bb6n56ii09dk9cvb7hal6bod1s1r"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:08:27.274403"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:08:27.276356"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:08:27.278099"], ["id", 1]]
  [1m[35m (79.3ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (7.0ms) [0m[32mUploaded file to key: bb6n56ii09dk9cvb7hal6bod1s1r (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8b4d2594-a505-41ca-ab8a-7440bdbf9bb9) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005633ff10aa98 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Lind-Hudson"], ["model", "Connie Hansen"], ["color", "maroon"], ["carrier_plan_type", "pos"], ["quantity", 1], ["price", "29.31"], ["created_at", "2020-11-01 20:08:27.649267"], ["updated_at", "2020-11-01 20:08:27.649267"]]
  [1m[35m (20.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b4d2594-a505-41ca-ab8a-7440bdbf9bb9] Performing ActiveStorage::AnalyzeJob (Job ID: 8b4d2594-a505-41ca-ab8a-7440bdbf9bb9) from Async(active_storage_analysis) enqueued at 2020-11-01T20:08:27Z with arguments: #<GlobalID:0x00007f9088080938 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b4d2594-a505-41ca-ab8a-7440bdbf9bb9]   [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (17.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b4d2594-a505-41ca-ab8a-7440bdbf9bb9]   [1m[36mActiveStorage::Blob Update (6.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (2.3ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b4d2594-a505-41ca-ab8a-7440bdbf9bb9]   [1m[35m (22.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b4d2594-a505-41ca-ab8a-7440bdbf9bb9] Performed ActiveStorage::AnalyzeJob (Job ID: 8b4d2594-a505-41ca-ab8a-7440bdbf9bb9) from Async(active_storage_analysis) in 39.83ms
  [1m[35m (599.3ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (26.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.1ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:08:33.556548"], ["updated_at", "2020-11-01 20:08:33.556548"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "ses8b0jx7zzehgfkb4hjhpca2g7t"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:08:33.567445"]]
  [1m[36mActiveStorage::Attachment Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:08:33.569643"]]
  [1m[36mProductUpload Update (0.7ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:08:33.572592"], ["id", 1]]
  [1m[35m (18.9ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.9ms) [0m[32mUploaded file to key: ses8b0jx7zzehgfkb4hjhpca2g7t (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3e53203c-5766-495d-885c-2bea02312438) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055f886331358 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.4ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Halvorson and Sons"], ["model", "Dexter Kuhic"], ["color", "silver"], ["carrier_plan_type", "pre"], ["quantity", 1], ["price", "67.86"], ["created_at", "2020-11-01 20:08:33.866627"], ["updated_at", "2020-11-01 20:08:33.866627"]]
  [1m[35m (25.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mActiveStorage::Blob Load (1.0ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [3e53203c-5766-495d-885c-2bea02312438] Performing ActiveStorage::AnalyzeJob (Job ID: 3e53203c-5766-495d-885c-2bea02312438) from Async(active_storage_analysis) enqueued at 2020-11-01T20:08:33Z with arguments: #<GlobalID:0x000055f886bd8768 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [3e53203c-5766-495d-885c-2bea02312438]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3e53203c-5766-495d-885c-2bea02312438]   [1m[36mActiveStorage::Blob Update (23.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (32.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (3.9ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.9ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3e53203c-5766-495d-885c-2bea02312438]   [1m[35m (18.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [3e53203c-5766-495d-885c-2bea02312438] Performed ActiveStorage::AnalyzeJob (Job ID: 3e53203c-5766-495d-885c-2bea02312438) from Async(active_storage_analysis) in 49.94ms
  [1m[35m (552.7ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (19.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:08:38.817249"], ["updated_at", "2020-11-01 20:08:38.817249"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "zue02ul3aatfcnc38k72xvgw2g87"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:08:38.823404"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:08:38.825497"]]
  [1m[36mProductUpload Update (0.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:08:38.827468"], ["id", 1]]
  [1m[35m (21.8ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.1ms) [0m[32mUploaded file to key: zue02ul3aatfcnc38k72xvgw2g87 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 22b313a5-4f01-47a4-a6c7-6c5d2320bc88) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055df5dd5d8f0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Kautzer Group"], ["model", "Cole Labadie"], ["color", "sky"], ["carrier_plan_type", "pre"], ["quantity", 9], ["price", "14.35"], ["created_at", "2020-11-01 20:08:39.086728"], ["updated_at", "2020-11-01 20:08:39.086728"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [22b313a5-4f01-47a4-a6c7-6c5d2320bc88] Performing ActiveStorage::AnalyzeJob (Job ID: 22b313a5-4f01-47a4-a6c7-6c5d2320bc88) from Async(active_storage_analysis) enqueued at 2020-11-01T20:08:38Z with arguments: #<GlobalID:0x00007fc4fc07d690 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [22b313a5-4f01-47a4-a6c7-6c5d2320bc88]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (32.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [22b313a5-4f01-47a4-a6c7-6c5d2320bc88]   [1m[36mActiveStorage::Blob Update (17.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [22b313a5-4f01-47a4-a6c7-6c5d2320bc88]   [1m[35m (18.2ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [22b313a5-4f01-47a4-a6c7-6c5d2320bc88] Performed ActiveStorage::AnalyzeJob (Job ID: 22b313a5-4f01-47a4-a6c7-6c5d2320bc88) from Async(active_storage_analysis) in 41.85ms
  [1m[35m (17.5ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (22.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (4.7ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.7ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (641.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (30.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:09:03.314383"], ["updated_at", "2020-11-01 20:09:03.314383"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "apqr7yciax25lugllclp68ercchl"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:09:03.321734"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:09:03.323840"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:09:03.326054"], ["id", 1]]
  [1m[35m (27.5ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.4ms) [0m[32mUploaded file to key: apqr7yciax25lugllclp68ercchl (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1342b910-d3e3-43ff-aaac-856870e4bfa3) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055a69f67ff70 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.3ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "VonRueden-Koss"], ["model", "Mrs. Emiko Reilly"], ["color", "amethyst"], ["carrier_plan_type", "pos"], ["quantity", 6], ["price", "11.18"], ["created_at", "2020-11-01 20:09:03.657315"], ["updated_at", "2020-11-01 20:09:03.657315"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [1342b910-d3e3-43ff-aaac-856870e4bfa3] Performing ActiveStorage::AnalyzeJob (Job ID: 1342b910-d3e3-43ff-aaac-856870e4bfa3) from Async(active_storage_analysis) enqueued at 2020-11-01T20:09:03Z with arguments: #<GlobalID:0x00007f037808bb28 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [1342b910-d3e3-43ff-aaac-856870e4bfa3]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1342b910-d3e3-43ff-aaac-856870e4bfa3]   [1m[36mActiveStorage::Blob Update (1.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (49.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1342b910-d3e3-43ff-aaac-856870e4bfa3]   [1m[35m (39.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [1342b910-d3e3-43ff-aaac-856870e4bfa3] Performed ActiveStorage::AnalyzeJob (Job ID: 1342b910-d3e3-43ff-aaac-856870e4bfa3) from Async(active_storage_analysis) in 47.23ms
  [1m[35m (10.0ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (4.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.4ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (571.4ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (39.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:09:15.976484"], ["updated_at", "2020-11-01 20:09:15.976484"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "khe7ti3th1ai6fis5ce63xpol78t"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:09:15.985328"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:09:15.988274"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:09:15.990437"], ["id", 1]]
  [1m[35m (23.7ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (5.6ms) [0m[32mUploaded file to key: khe7ti3th1ai6fis5ce63xpol78t (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8b7df681-1b7f-4f30-8227-e0eea95010f9) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055cd75848e68 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Roberts, Romaguera and Prohaska"], ["model", "Lincoln Weimann"], ["color", "crimson"], ["carrier_plan_type", "pre"], ["quantity", 7], ["price", "97.83"], ["created_at", "2020-11-01 20:09:16.278199"], ["updated_at", "2020-11-01 20:09:16.278199"]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b7df681-1b7f-4f30-8227-e0eea95010f9] Performing ActiveStorage::AnalyzeJob (Job ID: 8b7df681-1b7f-4f30-8227-e0eea95010f9) from Async(active_storage_analysis) enqueued at 2020-11-01T20:09:16Z with arguments: #<GlobalID:0x00007f5d380833f0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b7df681-1b7f-4f30-8227-e0eea95010f9]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b7df681-1b7f-4f30-8227-e0eea95010f9]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
  [1m[35m (48.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b7df681-1b7f-4f30-8227-e0eea95010f9]   [1m[35m (50.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8b7df681-1b7f-4f30-8227-e0eea95010f9] Performed ActiveStorage::AnalyzeJob (Job ID: 8b7df681-1b7f-4f30-8227-e0eea95010f9) from Async(active_storage_analysis) in 53.9ms
  [1m[35m (14.9ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.3ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.6ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (548.1ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (32.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 17:09:16 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 967)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /media/oswaldolinhares/46CA6689CA6674D93/dev/jobtest/aliveApp/hiring/ruby/technical_alive_test_ruby/public/packs-test
[Webpacker] Hash: 985579749ceb6046818e
Version: webpack 4.44.2
Time: 4013ms
Built at: 2020-11-01 17:09:24
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d4a558d9e2088064a1f4.js    221 KiB  application  [emitted] [immutable]  application
js/application-d4a558d9e2088064a1f4.js.map    218 KiB  application  [emitted] [dev]        application
                             manifest.json  384 bytes               [emitted]              
Entrypoint application = js/application-d4a558d9e2088064a1f4.js js/application-d4a558d9e2088064a1f4.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/controllers sync recursive _controller\.js$] ./app/javascript/controllers sync _controller\.js$ 223 bytes {application} [built]
[./app/javascript/controllers/index.js] 396 bytes {application} [built]
[./app/javascript/controllers/product_controller.js] 4.42 KiB {application} [optional] [built]
[./app/javascript/controllers/product_upload_controller.js] 3.37 KiB {application} [optional] [built]
[./app/javascript/packs/application.js] 773 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 35 hidden modules

  Rendered layouts/_navbar.html.erb (Duration: 2.1ms | Allocations: 276)
Completed 200 OK in 7696ms (Views: 7685.7ms | ActiveRecord: 0.0ms | Allocations: 12630)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 17:09:24 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055cd76c6ce30 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-617701-1mzp77x.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (1.5ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:09:24.764393"], ["updated_at", "2020-11-01 20:09:24.764393"]]
  [1m[36mActiveStorage::Attachment Load (2.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (2.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "c4dblz243jtuak9dwfovdf83noi7"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:09:24.779979"]]
  [1m[36mActiveStorage::Attachment Create (1.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:09:24.787386"]]
  [1m[36mProductUpload Update (2.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:09:24.790493"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (9.8ms) [0m[32mUploaded file to key: c4dblz243jtuak9dwfovdf83noi7 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: a1d7ab24-88bc-48e2-ac57-cb242c39de77) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055cd76be2de8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (2.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 20:09:24.845718','2020-11-01 20:09:24.845718'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 20:09:24.845718','2020-11-01 20:09:24.845718'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 20:09:24.845718','2020-11-01 20:09:24.845718'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 20:09:24.845718','2020-11-01 20:09:24.845718'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 20:09:24.845718','2020-11-01 20:09:24.845718'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 20:09:24.845718','2020-11-01 20:09:24.845718'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 20:09:24.845718','2020-11-01 20:09:24.845718'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 20:09:24.845718','2020-11-01 20:09:24.845718'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 20:09:24.845718','2020-11-01 20:09:24.845718'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 20:09:24.845718','2020-11-01 20:09:24.845718'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 20:09:24.845718','2020-11-01 20:09:24.845718'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 20:09:24.845718','2020-11-01 20:09:24.845718') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 112ms (ActiveRecord: 14.5ms | Allocations: 6585)
Started GET "/products" for 127.0.0.1 at 2020-11-01 17:09:24 -0300
  [1m[36mActiveStorage::Blob Load (1.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1d7ab24-88bc-48e2-ac57-cb242c39de77] Performing ActiveStorage::AnalyzeJob (Job ID: a1d7ab24-88bc-48e2-ac57-cb242c39de77) from Async(active_storage_analysis) enqueued at 2020-11-01T20:09:24Z with arguments: #<GlobalID:0x00007f5d38093db8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1d7ab24-88bc-48e2-ac57-cb242c39de77]   [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1d7ab24-88bc-48e2-ac57-cb242c39de77]   [1m[36mActiveStorage::Blob Update (1.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1d7ab24-88bc-48e2-ac57-cb242c39de77]   [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [a1d7ab24-88bc-48e2-ac57-cb242c39de77] Performed ActiveStorage::AnalyzeJob (Job ID: a1d7ab24-88bc-48e2-ac57-cb242c39de77) from Async(active_storage_analysis) in 8.36ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.8ms)[0m  [1m[34mSELECT DISTINCT "products"."manufacturer" FROM "products"[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT DISTINCT "products"."model" FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DISTINCT "products"."carrier_plan_type" FROM "products"[0m
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" DESC[0m
  Rendered products/index.html.erb within layouts/application (Duration: 87.0ms | Allocations: 4852)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 84)
Completed 200 OK in 134ms (Views: 126.6ms | ActiveRecord: 3.0ms | Allocations: 8230)
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 17:09:25 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 269)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.7ms | Allocations: 86)
Completed 200 OK in 53ms (Views: 51.2ms | ActiveRecord: 0.0ms | Allocations: 2901)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 17:09:25 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055cd76e50238 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-617701-1pwwjb7.csv>, @original_filename="input_invalid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_invalid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 505\r\n">}}
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:09:25.353868"], ["updated_at", "2020-11-01 20:09:25.353868"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "bks56em982vbvq4nkz87q6r7wt8n"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 20:09:25.364861"]]
  [1m[36mActiveStorage::Attachment Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 20:09:25.368920"]]
  [1m[36mProductUpload Update (1.9ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:09:25.375050"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (7.4ms) [0m[32mUploaded file to key: bks56em982vbvq4nkz87q6r7wt8n (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: ba64e077-4cf9-4df3-b389-a4e8c9e37d3b) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055cd7573efe0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
Redirected to http://www.example.com/product_uploads/new
Completed 302 Found in 85ms (ActiveRecord: 5.9ms | Allocations: 3703)
Started GET "/product_uploads/new" for 127.0.0.1 at 2020-11-01 17:09:25 -0300
  [1m[36mActiveStorage::Blob Load (9.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba64e077-4cf9-4df3-b389-a4e8c9e37d3b] Performing ActiveStorage::AnalyzeJob (Job ID: ba64e077-4cf9-4df3-b389-a4e8c9e37d3b) from Async(active_storage_analysis) enqueued at 2020-11-01T20:09:25Z with arguments: #<GlobalID:0x00007f5d380b5c88 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba64e077-4cf9-4df3-b389-a4e8c9e37d3b]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba64e077-4cf9-4df3-b389-a4e8c9e37d3b]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba64e077-4cf9-4df3-b389-a4e8c9e37d3b]   [1m[35m (1.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [ba64e077-4cf9-4df3-b389-a4e8c9e37d3b] Performed ActiveStorage::AnalyzeJob (Job ID: ba64e077-4cf9-4df3-b389-a4e8c9e37d3b) from Async(active_storage_analysis) in 11.85ms
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 268)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 83)
Completed 200 OK in 66ms (Views: 64.0ms | ActiveRecord: 0.0ms | Allocations: 2989)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:09:29.350770"], ["updated_at", "2020-11-01 20:09:29.350770"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "oic2zpi3tklshe3oovxb4c3shv71"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:09:29.357335"]]
  [1m[36mActiveStorage::Attachment Create (1.0ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 20:09:29.359510"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:09:29.362134"], ["id", 3]]
  [1m[35m (29.0ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (4.3ms) [0m[32mUploaded file to key: oic2zpi3tklshe3oovxb4c3shv71 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 47af3a97-ca08-42be-96b3-4627dcedcdaf) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055abfd973908 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Trantow and Sons"], ["model", "Katina Metz"], ["color", "silver"], ["carrier_plan_type", "pre"], ["quantity", 9], ["price", "86.02"], ["created_at", "2020-11-01 20:09:29.680093"], ["updated_at", "2020-11-01 20:09:29.680093"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [47af3a97-ca08-42be-96b3-4627dcedcdaf] Performing ActiveStorage::AnalyzeJob (Job ID: 47af3a97-ca08-42be-96b3-4627dcedcdaf) from Async(active_storage_analysis) enqueued at 2020-11-01T20:09:29Z with arguments: #<GlobalID:0x00007f09f00829f0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [47af3a97-ca08-42be-96b3-4627dcedcdaf]   [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [47af3a97-ca08-42be-96b3-4627dcedcdaf]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (92.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [47af3a97-ca08-42be-96b3-4627dcedcdaf]   [1m[35m (89.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [47af3a97-ca08-42be-96b3-4627dcedcdaf] Performed ActiveStorage::AnalyzeJob (Job ID: 47af3a97-ca08-42be-96b3-4627dcedcdaf) from Async(active_storage_analysis) in 92.35ms
  [1m[35m (14.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (22.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.5ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (2.7ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (544.2ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (32.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 17:09:30 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.9ms | Allocations: 276)
Completed 200 OK in 396ms (Views: 388.1ms | ActiveRecord: 0.0ms | Allocations: 11693)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 17:09:30 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055abfed70758 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-618846-1v9z1x4.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.4ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:09:30.880574"], ["updated_at", "2020-11-01 20:09:30.880574"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "2air2otq4b9b745bap86af5q1941"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:09:30.885352"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:09:30.887795"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:09:30.889973"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (6.8ms) [0m[32mUploaded file to key: 2air2otq4b9b745bap86af5q1941 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 563cf6aa-3c89-4d78-a90a-fb1bf620ea7c) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055abff0edc78 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (2.2ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 20:09:30.919964','2020-11-01 20:09:30.919964'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 20:09:30.919964','2020-11-01 20:09:30.919964'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 20:09:30.919964','2020-11-01 20:09:30.919964'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 20:09:30.919964','2020-11-01 20:09:30.919964'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 20:09:30.919964','2020-11-01 20:09:30.919964'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 20:09:30.919964','2020-11-01 20:09:30.919964'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 20:09:30.919964','2020-11-01 20:09:30.919964'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 20:09:30.919964','2020-11-01 20:09:30.919964'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 20:09:30.919964','2020-11-01 20:09:30.919964'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 20:09:30.919964','2020-11-01 20:09:30.919964'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 20:09:30.919964','2020-11-01 20:09:30.919964'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 20:09:30.919964','2020-11-01 20:09:30.919964') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 57ms (ActiveRecord: 5.8ms | Allocations: 6586)
Started GET "/products" for 127.0.0.1 at 2020-11-01 17:09:30 -0300
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [563cf6aa-3c89-4d78-a90a-fb1bf620ea7c] Performing ActiveStorage::AnalyzeJob (Job ID: 563cf6aa-3c89-4d78-a90a-fb1bf620ea7c) from Async(active_storage_analysis) enqueued at 2020-11-01T20:09:30Z with arguments: #<GlobalID:0x00007f09f0095280 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [563cf6aa-3c89-4d78-a90a-fb1bf620ea7c]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [563cf6aa-3c89-4d78-a90a-fb1bf620ea7c]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [563cf6aa-3c89-4d78-a90a-fb1bf620ea7c]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [563cf6aa-3c89-4d78-a90a-fb1bf620ea7c] Performed ActiveStorage::AnalyzeJob (Job ID: 563cf6aa-3c89-4d78-a90a-fb1bf620ea7c) from Async(active_storage_analysis) in 3.4ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DISTINCT "products"."manufacturer" FROM "products"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DISTINCT "products"."model" FROM "products"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DISTINCT "products"."carrier_plan_type" FROM "products"[0m
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" DESC[0m
  Rendered products/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 4852)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 84)
Completed 200 OK in 33ms (Views: 28.0ms | ActiveRecord: 1.2ms | Allocations: 8218)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 17:09:31 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 269)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 86)
Completed 200 OK in 15ms (Views: 14.7ms | ActiveRecord: 0.0ms | Allocations: 2901)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 17:09:31 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055abfee84c98 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-618846-wcslon.csv>, @original_filename="input_invalid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_invalid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 505\r\n">}}
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.5ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:09:31.087314"], ["updated_at", "2020-11-01 20:09:31.087314"]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "o16jtsy7h7ehrv9e4dpkdau10vt0"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 20:09:31.093148"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 20:09:31.095367"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:09:31.097117"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.6ms) [0m[32mUploaded file to key: o16jtsy7h7ehrv9e4dpkdau10vt0 (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 8e73a206-837c-40c6-b541-56be5d862642) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055abfeeb3480 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
Redirected to http://www.example.com/product_uploads/new
Completed 302 Found in 28ms (ActiveRecord: 2.7ms | Allocations: 3534)
Started GET "/product_uploads/new" for 127.0.0.1 at 2020-11-01 17:09:31 -0300
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8e73a206-837c-40c6-b541-56be5d862642] Performing ActiveStorage::AnalyzeJob (Job ID: 8e73a206-837c-40c6-b541-56be5d862642) from Async(active_storage_analysis) enqueued at 2020-11-01T20:09:31Z with arguments: #<GlobalID:0x00007f09f00b6098 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [8e73a206-837c-40c6-b541-56be5d862642]   [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8e73a206-837c-40c6-b541-56be5d862642]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [8e73a206-837c-40c6-b541-56be5d862642]   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [8e73a206-837c-40c6-b541-56be5d862642] Performed ActiveStorage::AnalyzeJob (Job ID: 8e73a206-837c-40c6-b541-56be5d862642) from Async(active_storage_analysis) in 4.26ms
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 268)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 83)
Completed 200 OK in 17ms (Views: 16.5ms | ActiveRecord: 0.0ms | Allocations: 2997)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:09:39.978936"], ["updated_at", "2020-11-01 20:09:39.978936"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "jkcj4n1ux5zsr8tdenokd4bu2z6y"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:09:39.987010"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 20:09:39.989182"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:09:39.991168"], ["id", 3]]
  [1m[35m (42.8ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.5ms) [0m[32mUploaded file to key: jkcj4n1ux5zsr8tdenokd4bu2z6y (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c28dfef4-cab5-4fb3-919b-9bcb9c92f358) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055e708fcede8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Gutmann-Pagac"], ["model", "Ms. Dianna Macejkovic"], ["color", "blue"], ["carrier_plan_type", "pos"], ["quantity", 5], ["price", "18.76"], ["created_at", "2020-11-01 20:09:40.255617"], ["updated_at", "2020-11-01 20:09:40.255617"]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c28dfef4-cab5-4fb3-919b-9bcb9c92f358] Performing ActiveStorage::AnalyzeJob (Job ID: c28dfef4-cab5-4fb3-919b-9bcb9c92f358) from Async(active_storage_analysis) enqueued at 2020-11-01T20:09:40Z with arguments: #<GlobalID:0x00007f7a78085698 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [c28dfef4-cab5-4fb3-919b-9bcb9c92f358]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (27.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c28dfef4-cab5-4fb3-919b-9bcb9c92f358]   [1m[36mActiveStorage::Blob Update (9.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c28dfef4-cab5-4fb3-919b-9bcb9c92f358]   [1m[35m (25.1ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c28dfef4-cab5-4fb3-919b-9bcb9c92f358] Performed ActiveStorage::AnalyzeJob (Job ID: c28dfef4-cab5-4fb3-919b-9bcb9c92f358) from Async(active_storage_analysis) in 38.84ms
  [1m[35m (24.1ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.7ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.2ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (559.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (32.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 17:09:40 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 2.8ms | Allocations: 276)
Completed 200 OK in 416ms (Views: 407.8ms | ActiveRecord: 0.0ms | Allocations: 11718)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 17:09:41 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055e709619a68 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-619008-qbvr3k.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.4ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:09:41.420759"], ["updated_at", "2020-11-01 20:09:41.420759"]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "5opd20q9d6hzhwyh0oa1er7q657b"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:09:41.423801"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:09:41.425447"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:09:41.427422"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.4ms) [0m[32mUploaded file to key: 5opd20q9d6hzhwyh0oa1er7q657b (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 83ec8a8a-4849-42a2-805f-f661164e9562) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055e70c4a8578 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.1ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 20:09:41.454539','2020-11-01 20:09:41.454539'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 20:09:41.454539','2020-11-01 20:09:41.454539'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 20:09:41.454539','2020-11-01 20:09:41.454539'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 20:09:41.454539','2020-11-01 20:09:41.454539'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 20:09:41.454539','2020-11-01 20:09:41.454539'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 20:09:41.454539','2020-11-01 20:09:41.454539'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 20:09:41.454539','2020-11-01 20:09:41.454539'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 20:09:41.454539','2020-11-01 20:09:41.454539'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 20:09:41.454539','2020-11-01 20:09:41.454539'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 20:09:41.454539','2020-11-01 20:09:41.454539'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 20:09:41.454539','2020-11-01 20:09:41.454539'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 20:09:41.454539','2020-11-01 20:09:41.454539') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 49ms (ActiveRecord: 3.7ms | Allocations: 6491)
Started GET "/products" for 127.0.0.1 at 2020-11-01 17:09:41 -0300
  [1m[36mActiveStorage::Blob Load (1.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [83ec8a8a-4849-42a2-805f-f661164e9562] Performing ActiveStorage::AnalyzeJob (Job ID: 83ec8a8a-4849-42a2-805f-f661164e9562) from Async(active_storage_analysis) enqueued at 2020-11-01T20:09:41Z with arguments: #<GlobalID:0x00007f7a78099148 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [83ec8a8a-4849-42a2-805f-f661164e9562]   [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [83ec8a8a-4849-42a2-805f-f661164e9562]   [1m[36mActiveStorage::Blob Update (0.5ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [83ec8a8a-4849-42a2-805f-f661164e9562]   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [83ec8a8a-4849-42a2-805f-f661164e9562] Performed ActiveStorage::AnalyzeJob (Job ID: 83ec8a8a-4849-42a2-805f-f661164e9562) from Async(active_storage_analysis) in 3.99ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DISTINCT "products"."manufacturer" FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DISTINCT "products"."model" FROM "products"[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT DISTINCT "products"."carrier_plan_type" FROM "products"[0m
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" DESC[0m
  Rendered products/index.html.erb within layouts/application (Duration: 17.4ms | Allocations: 4852)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 84)
Completed 200 OK in 34ms (Views: 30.1ms | ActiveRecord: 1.8ms | Allocations: 8226)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 17:09:41 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 269)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 86)
Completed 200 OK in 27ms (Views: 24.1ms | ActiveRecord: 0.0ms | Allocations: 2901)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 17:09:41 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x000055e708ec6b80 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-619008-taokis.csv>, @original_filename="input_invalid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_invalid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 505\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.4ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:09:41.634509"], ["updated_at", "2020-11-01 20:09:41.634509"]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "mmli2ydv7bnok9v3n5tkpl1yw1h8"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 20:09:41.639098"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 20:09:41.641836"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:09:41.644100"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.4ms) [0m[32mUploaded file to key: mmli2ydv7bnok9v3n5tkpl1yw1h8 (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e725e389-a796-4f64-95a2-2d6744376347) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055e70c2df390 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
Redirected to http://www.example.com/product_uploads/new
Completed 302 Found in 51ms (ActiveRecord: 2.6ms | Allocations: 3540)
Started GET "/product_uploads/new" for 127.0.0.1 at 2020-11-01 17:09:41 -0300
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e725e389-a796-4f64-95a2-2d6744376347] Performing ActiveStorage::AnalyzeJob (Job ID: e725e389-a796-4f64-95a2-2d6744376347) from Async(active_storage_analysis) enqueued at 2020-11-01T20:09:41Z with arguments: #<GlobalID:0x00007f7a780b6b80 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [e725e389-a796-4f64-95a2-2d6744376347]   [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 268)
[ActiveJob] [ActiveStorage::AnalyzeJob] [e725e389-a796-4f64-95a2-2d6744376347]   [1m[36mActiveStorage::Blob Update (1.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e725e389-a796-4f64-95a2-2d6744376347]   [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e725e389-a796-4f64-95a2-2d6744376347] Performed ActiveStorage::AnalyzeJob (Job ID: e725e389-a796-4f64-95a2-2d6744376347) from Async(active_storage_analysis) in 5.05ms
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.4ms | Allocations: 83)
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.0ms | Allocations: 3221)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:09:42.134508"], ["updated_at", "2020-11-01 20:09:42.134508"]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "c0etxusn2e5apso2oa8vj6v3t9qf"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:09:42.139481"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 20:09:42.141694"]]
  [1m[36mProductUpload Update (0.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:09:42.143411"], ["id", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.9ms) [0m[32mUploaded file to key: c0etxusn2e5apso2oa8vj6v3t9qf (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 1586c3ba-3b4b-4653-9d55-770f7cc12e13) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055e70ba81950 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.4ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:09:42.176191"], ["updated_at", "2020-11-01 20:09:42.176191"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "2vh0lq0tfw2jkitenguixazidfl8"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:09:42.184140"]]
  [1m[36mActiveStorage::Attachment Create (3.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 4], ["blob_id", 4], ["created_at", "2020-11-01 20:09:42.186954"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:09:42.193062"], ["id", 4]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (4.5ms) [0m[32mUploaded file to key: 2vh0lq0tfw2jkitenguixazidfl8 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 3b503550-6821-4597-b3c6-ddc6bf3dbce4) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055e70922c8b0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/4>>
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[36mProduct Create Many (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 20:09:42.207722','2020-11-01 20:09:42.207722'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 20:09:42.207722','2020-11-01 20:09:42.207722'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 20:09:42.207722','2020-11-01 20:09:42.207722'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 20:09:42.207722','2020-11-01 20:09:42.207722'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 20:09:42.207722','2020-11-01 20:09:42.207722'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 20:09:42.207722','2020-11-01 20:09:42.207722'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 20:09:42.207722','2020-11-01 20:09:42.207722'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 20:09:42.207722','2020-11-01 20:09:42.207722'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 20:09:42.207722','2020-11-01 20:09:42.207722'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 20:09:42.207722','2020-11-01 20:09:42.207722'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 20:09:42.207722','2020-11-01 20:09:42.207722'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 20:09:42.207722','2020-11-01 20:09:42.207722') RETURNING "id"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:09:42.242201"], ["updated_at", "2020-11-01 20:09:42.242201"]]
  [1m[36mActiveStorage::Attachment Load (2.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 5], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "7cn2qy5f3ihmn29aobttwkjkticb"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 20:09:42.249705"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 5], ["blob_id", 5], ["created_at", "2020-11-01 20:09:42.252180"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:09:42.254869"], ["id", 5]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (2.8ms) [0m[32mUploaded file to key: 7cn2qy5f3ihmn29aobttwkjkticb (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4e512a9d-e9f8-4964-be7f-59281b0bb848) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055e70baddc78 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/5>>
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:15:53.085534"], ["updated_at", "2020-11-01 20:15:53.085534"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 6], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "bsolvxf55z6sx2n3yojmhayra1or"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:15:53.094058"]]
  [1m[36mActiveStorage::Attachment Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 6], ["blob_id", 6], ["created_at", "2020-11-01 20:15:53.097604"]]
  [1m[36mProductUpload Update (0.7ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:15:53.101560"], ["id", 6]]
  [1m[35m (26.1ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (9.4ms) [0m[32mUploaded file to key: bsolvxf55z6sx2n3yojmhayra1or (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9a4e2823-66ca-45aa-aef7-845fbf71975a) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000559a8eb14698 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/6>>
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.2ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Strosin and Sons"], ["model", "Michael Stark"], ["color", "azure"], ["carrier_plan_type", "pos"], ["quantity", 4], ["price", "42.16"], ["created_at", "2020-11-01 20:15:53.579181"], ["updated_at", "2020-11-01 20:15:53.579181"]]
  [1m[35m (23.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9a4e2823-66ca-45aa-aef7-845fbf71975a] Performing ActiveStorage::AnalyzeJob (Job ID: 9a4e2823-66ca-45aa-aef7-845fbf71975a) from Async(active_storage_analysis) enqueued at 2020-11-01T20:15:53Z with arguments: #<GlobalID:0x00007fe3ec07ea40 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/6>>
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9a4e2823-66ca-45aa-aef7-845fbf71975a]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (31.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9a4e2823-66ca-45aa-aef7-845fbf71975a]   [1m[36mActiveStorage::Blob Update (31.9ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 6]]
  [1m[35m (2.1ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.0ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9a4e2823-66ca-45aa-aef7-845fbf71975a]   [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9a4e2823-66ca-45aa-aef7-845fbf71975a] Performed ActiveStorage::AnalyzeJob (Job ID: 9a4e2823-66ca-45aa-aef7-845fbf71975a) from Async(active_storage_analysis) in 59.95ms
  [1m[35m (539.0ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (41.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (2.1ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:15:54.265463"], ["updated_at", "2020-11-01 20:15:54.265463"]]
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "lz8zor101p4x768bktwffd7ql9te"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:15:54.275959"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:15:54.277737"]]
  [1m[36mProductUpload Update (0.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:15:54.279378"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (4.8ms) [0m[32mUploaded file to key: lz8zor101p4x768bktwffd7ql9te (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f26d0bc7-78ce-4456-b016-479f5d798aab) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000559a90d93d18 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 20:15:54.290887','2020-11-01 20:15:54.290887'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 20:15:54.290887','2020-11-01 20:15:54.290887'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 20:15:54.290887','2020-11-01 20:15:54.290887'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 20:15:54.290887','2020-11-01 20:15:54.290887'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 20:15:54.290887','2020-11-01 20:15:54.290887'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 20:15:54.290887','2020-11-01 20:15:54.290887'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 20:15:54.290887','2020-11-01 20:15:54.290887'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 20:15:54.290887','2020-11-01 20:15:54.290887'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 20:15:54.290887','2020-11-01 20:15:54.290887'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 20:15:54.290887','2020-11-01 20:15:54.290887'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 20:15:54.290887','2020-11-01 20:15:54.290887'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 20:15:54.290887','2020-11-01 20:15:54.290887') RETURNING "id"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.8ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:15:54.334367"], ["updated_at", "2020-11-01 20:15:54.334367"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "z6djjq4b5d5prcz6q3f9119mb8av"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 20:15:54.341885"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 20:15:54.344325"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:15:54.346145"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (5.6ms) [0m[32mUploaded file to key: z6djjq4b5d5prcz6q3f9119mb8av (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 276e76e7-a8a1-488b-aef4-487d52066100) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000559a90e133b0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (1.0ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:16:20.556091"], ["updated_at", "2020-11-01 20:16:20.556091"]]
  [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "u5p9e969q0dsuc6ihs2i2q2eejoo"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:16:20.568716"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 20:16:20.571068"]]
  [1m[36mProductUpload Update (0.8ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:16:20.575280"], ["id", 3]]
  [1m[35m (27.1ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (6.4ms) [0m[32mUploaded file to key: u5p9e969q0dsuc6ihs2i2q2eejoo (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 72c94f3d-c3b2-4251-b88a-08d62ff99f08) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055c9e5d07c08 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Rath, Stokes and Schroeder"], ["model", "The Hon. Verla Carroll"], ["color", "amber"], ["carrier_plan_type", "pos"], ["quantity", 1], ["price", "57.44"], ["created_at", "2020-11-01 20:16:20.952401"], ["updated_at", "2020-11-01 20:16:20.952401"]]
  [1m[35m (32.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [72c94f3d-c3b2-4251-b88a-08d62ff99f08] Performing ActiveStorage::AnalyzeJob (Job ID: 72c94f3d-c3b2-4251-b88a-08d62ff99f08) from Async(active_storage_analysis) enqueued at 2020-11-01T20:16:20Z with arguments: #<GlobalID:0x000055c9e644aa10 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [72c94f3d-c3b2-4251-b88a-08d62ff99f08]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (31.4ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [72c94f3d-c3b2-4251-b88a-08d62ff99f08]   [1m[36mActiveStorage::Blob Update (26.0ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (3.2ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (3.1ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [72c94f3d-c3b2-4251-b88a-08d62ff99f08]   [1m[35m (22.5ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [72c94f3d-c3b2-4251-b88a-08d62ff99f08] Performed ActiveStorage::AnalyzeJob (Job ID: 72c94f3d-c3b2-4251-b88a-08d62ff99f08) from Async(active_storage_analysis) in 52.48ms
  [1m[35m (531.8ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL;ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL[0m
  [1m[35m (62.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:16:21.651762"], ["updated_at", "2020-11-01 20:16:21.651762"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "k1kr97hin736euco7xcshslthr3j"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:16:21.656042"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:16:21.657405"]]
  [1m[36mProductUpload Update (0.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:16:21.658748"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (3.6ms) [0m[32mUploaded file to key: k1kr97hin736euco7xcshslthr3j (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 4eec8d80-7bfd-4e83-9bdf-d11119ebd795) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055c9e80d25c0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.0ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 20:16:21.668988','2020-11-01 20:16:21.668988'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 20:16:21.668988','2020-11-01 20:16:21.668988'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 20:16:21.668988','2020-11-01 20:16:21.668988'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 20:16:21.668988','2020-11-01 20:16:21.668988'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 20:16:21.668988','2020-11-01 20:16:21.668988'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 20:16:21.668988','2020-11-01 20:16:21.668988'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 20:16:21.668988','2020-11-01 20:16:21.668988'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 20:16:21.668988','2020-11-01 20:16:21.668988'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 20:16:21.668988','2020-11-01 20:16:21.668988'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 20:16:21.668988','2020-11-01 20:16:21.668988'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 20:16:21.668988','2020-11-01 20:16:21.668988'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 20:16:21.668988','2020-11-01 20:16:21.668988') RETURNING "id"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.5ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:16:21.711988"], ["updated_at", "2020-11-01 20:16:21.711988"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "rjznssd7el3c73gx2bqkdsydyxnk"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 20:16:21.717567"]]
  [1m[36mActiveStorage::Attachment Create (1.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 20:16:21.720128"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:16:21.722737"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (4.1ms) [0m[32mUploaded file to key: rjznssd7el3c73gx2bqkdsydyxnk (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c5a00036-092e-44d8-93cd-0ccee15cdffb) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055c9e8144a08 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:16:57.738748"], ["updated_at", "2020-11-01 20:16:57.738748"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "soi1upz2zccdhuxugvwe9ycnn0ua"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:16:57.747524"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 20:16:57.750376"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:16:57.752285"], ["id", 3]]
  [1m[35m (24.0ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (6.3ms) [0m[32mUploaded file to key: soi1upz2zccdhuxugvwe9ycnn0ua (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 17423afa-98e4-4d41-9e0c-761d0717202f) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000556faa7b3b48 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Terry-Altenwerth"], ["model", "Amb. Jonathon Baumbach"], ["color", "ivory"], ["carrier_plan_type", "pre"], ["quantity", 7], ["price", "99.28"], ["created_at", "2020-11-01 20:16:58.015179"], ["updated_at", "2020-11-01 20:16:58.015179"]]
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [17423afa-98e4-4d41-9e0c-761d0717202f] Performing ActiveStorage::AnalyzeJob (Job ID: 17423afa-98e4-4d41-9e0c-761d0717202f) from Async(active_storage_analysis) enqueued at 2020-11-01T20:16:57Z with arguments: #<GlobalID:0x00007fe464082758 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [17423afa-98e4-4d41-9e0c-761d0717202f]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [17423afa-98e4-4d41-9e0c-761d0717202f]   [1m[36mActiveStorage::Blob Update (0.8ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (41.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [17423afa-98e4-4d41-9e0c-761d0717202f]   [1m[35m (37.7ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [17423afa-98e4-4d41-9e0c-761d0717202f] Performed ActiveStorage::AnalyzeJob (Job ID: 17423afa-98e4-4d41-9e0c-761d0717202f) from Async(active_storage_analysis) in 42.58ms
  [1m[35m (9.4ms)[0m  [1m[35mALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL;ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL[0m
  [1m[35m (23.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.5ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (0.8ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (527.4ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (30.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:16:58.681048"], ["updated_at", "2020-11-01 20:16:58.681048"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "pa1wu1gyzgv6lsfkfirbei5v9rj1"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:16:58.686127"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:16:58.688163"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:16:58.690051"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (6.3ms) [0m[32mUploaded file to key: pa1wu1gyzgv6lsfkfirbei5v9rj1 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 99c2d209-0b77-4fb6-b208-9f8a38e57a1f) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000556fab086b08 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.1ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 20:16:58.706365','2020-11-01 20:16:58.706365'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 20:16:58.706365','2020-11-01 20:16:58.706365'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 20:16:58.706365','2020-11-01 20:16:58.706365'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 20:16:58.706365','2020-11-01 20:16:58.706365'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 20:16:58.706365','2020-11-01 20:16:58.706365'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 20:16:58.706365','2020-11-01 20:16:58.706365'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 20:16:58.706365','2020-11-01 20:16:58.706365'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 20:16:58.706365','2020-11-01 20:16:58.706365'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 20:16:58.706365','2020-11-01 20:16:58.706365'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 20:16:58.706365','2020-11-01 20:16:58.706365'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 20:16:58.706365','2020-11-01 20:16:58.706365'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 20:16:58.706365','2020-11-01 20:16:58.706365') RETURNING "id"[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.4ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:16:58.749624"], ["updated_at", "2020-11-01 20:16:58.749624"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "s82obxpe5pbh8nsmwjryooipw1f7"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 20:16:58.753886"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 20:16:58.755473"]]
  [1m[36mProductUpload Update (0.2ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:16:58.756606"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (6.7ms) [0m[32mUploaded file to key: s82obxpe5pbh8nsmwjryooipw1f7 (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 2e5e6806-d807-43f2-81c4-342e50d98506) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000556fa9271d20 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:17:21.827429"], ["updated_at", "2020-11-01 20:17:21.827429"]]
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "ccqizsm4rfwksfvyr5eblp9ftakm"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:17:21.834465"]]
  [1m[36mActiveStorage::Attachment Create (0.9ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 20:17:21.837337"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:17:21.839810"], ["id", 3]]
  [1m[35m (28.1ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (3.7ms) [0m[32mUploaded file to key: ccqizsm4rfwksfvyr5eblp9ftakm (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c69bc33b-d7d7-421a-a635-3facb155eae3) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000560705484768 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (3.1ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Klocko, Runolfsdottir and Wilkinson"], ["model", "Ezequiel King"], ["color", "gray"], ["carrier_plan_type", "pre"], ["quantity", 8], ["price", "81.54"], ["created_at", "2020-11-01 20:17:22.133423"], ["updated_at", "2020-11-01 20:17:22.133423"]]
  [1m[35m (29.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveStorage::Blob Load (19.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c69bc33b-d7d7-421a-a635-3facb155eae3] Performing ActiveStorage::AnalyzeJob (Job ID: c69bc33b-d7d7-421a-a635-3facb155eae3) from Async(active_storage_analysis) enqueued at 2020-11-01T20:17:21Z with arguments: #<GlobalID:0x00007f4bdc0871e8 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c69bc33b-d7d7-421a-a635-3facb155eae3]   [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c69bc33b-d7d7-421a-a635-3facb155eae3]   [1m[36mActiveStorage::Blob Update (0.6ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [c69bc33b-d7d7-421a-a635-3facb155eae3]   [1m[35m (28.6ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [c69bc33b-d7d7-421a-a635-3facb155eae3] Performed ActiveStorage::AnalyzeJob (Job ID: c69bc33b-d7d7-421a-a635-3facb155eae3) from Async(active_storage_analysis) in 33.74ms
  [1m[35m (29.7ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (32.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.6ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (1.6ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (522.2ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (30.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (1.4ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:17:22.843937"], ["updated_at", "2020-11-01 20:17:22.843937"]]
  [1m[36mActiveStorage::Attachment Load (1.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "lxnlmd3890eq51lq3m5yccsb43wp"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:17:22.859083"]]
  [1m[36mActiveStorage::Attachment Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:17:22.863499"]]
  [1m[36mProductUpload Update (0.8ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:17:22.868663"], ["id", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (7.3ms) [0m[32mUploaded file to key: lxnlmd3890eq51lq3m5yccsb43wp (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 5cf7c96b-f53a-419c-8ed5-2aafc353bb54) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005607049fe320 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (1.3ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 20:17:22.888321','2020-11-01 20:17:22.888321'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 20:17:22.888321','2020-11-01 20:17:22.888321'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 20:17:22.888321','2020-11-01 20:17:22.888321'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 20:17:22.888321','2020-11-01 20:17:22.888321'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 20:17:22.888321','2020-11-01 20:17:22.888321'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 20:17:22.888321','2020-11-01 20:17:22.888321'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 20:17:22.888321','2020-11-01 20:17:22.888321'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 20:17:22.888321','2020-11-01 20:17:22.888321'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 20:17:22.888321','2020-11-01 20:17:22.888321'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 20:17:22.888321','2020-11-01 20:17:22.888321'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 20:17:22.888321','2020-11-01 20:17:22.888321'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 20:17:22.888321','2020-11-01 20:17:22.888321') RETURNING "id"[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.9ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:17:22.963173"], ["updated_at", "2020-11-01 20:17:22.963173"]]
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "msxtfb6hktxyuxsmmbixt4ql5jzz"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 20:17:22.972490"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 20:17:22.975876"]]
  [1m[36mProductUpload Update (1.0ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:17:22.978413"], ["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (6.1ms) [0m[32mUploaded file to key: msxtfb6hktxyuxsmmbixt4ql5jzz (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: af5421f7-0601-4cc1-9c45-86d57fb279a7) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000056070786dbc0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
  [1m[36mActiveStorage::Blob Load (7.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "schema_sha1"]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:17:52.472996"], ["updated_at", "2020-11-01 20:17:52.472996"]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "horp3dllow4vku6zhz2t0yisrs0y"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:17:52.479092"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 20:17:52.480627"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:17:52.482457"], ["id", 3]]
  [1m[35m (77.8ms)[0m  [1m[35mCOMMIT[0m
[36m  Disk Storage (2.8ms) [0m[32mUploaded file to key: horp3dllow4vku6zhz2t0yisrs0y (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: d0b8a25f-9ff7-414c-818f-580dcbd540c9) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005604611df220 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProduct Create (1.2ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer", "model", "color", "carrier_plan_type", "quantity", "price", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["manufacturer", "Gerlach-Mitchell"], ["model", "Maryjane Cummerata"], ["color", "orchid"], ["carrier_plan_type", "pre"], ["quantity", 5], ["price", "83.28"], ["created_at", "2020-11-01 20:17:52.771723"], ["updated_at", "2020-11-01 20:17:52.771723"]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0b8a25f-9ff7-414c-818f-580dcbd540c9] Performing ActiveStorage::AnalyzeJob (Job ID: d0b8a25f-9ff7-414c-818f-580dcbd540c9) from Async(active_storage_analysis) enqueued at 2020-11-01T20:17:52Z with arguments: #<GlobalID:0x00007f8b2808fe48 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0b8a25f-9ff7-414c-818f-580dcbd540c9]   [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0b8a25f-9ff7-414c-818f-580dcbd540c9]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
  [1m[35m (59.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0b8a25f-9ff7-414c-818f-580dcbd540c9]   [1m[35m (63.8ms)[0m  [1m[35mCOMMIT[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [d0b8a25f-9ff7-414c-818f-580dcbd540c9] Performed ActiveStorage::AnalyzeJob (Job ID: d0b8a25f-9ff7-414c-818f-580dcbd540c9) from Async(active_storage_analysis) in 67.11ms
  [1m[35m (14.8ms)[0m  [1m[35mALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" DISABLE TRIGGER ALL;ALTER TABLE "product_uploads" DISABLE TRIGGER ALL;ALTER TABLE "products" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" DISABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" DISABLE TRIGGER ALL[0m
  [1m[35m (23.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (2.6ms)[0m  [1m[34m          SELECT schemaname || '.' || tablename
          FROM pg_tables
          WHERE
            tablename !~ '_prt_' AND
             tablename <> 'schema_migrations'  AND tablename <> 'ar_internal_metadata'  AND
            schemaname = ANY (current_schemas(false))
[0m
  [1m[35m (0.9ms)[0m  [1m[34mselect table_name from information_schema.views where table_schema = 'technical_alive_test_ruby_test'[0m
  [1m[35m (548.3ms)[0m  [1m[35mTRUNCATE TABLE "public"."product_uploads", "public"."products", "public"."active_storage_blobs", "public"."active_storage_attachments" RESTART IDENTITY CASCADE;[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "ar_internal_metadata" ENABLE TRIGGER ALL;ALTER TABLE "product_uploads" ENABLE TRIGGER ALL;ALTER TABLE "products" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_blobs" ENABLE TRIGGER ALL;ALTER TABLE "active_storage_attachments" ENABLE TRIGGER ALL[0m
  [1m[35m (32.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 17:17:53 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 967)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 1.7ms | Allocations: 276)
Completed 200 OK in 398ms (Views: 389.0ms | ActiveRecord: 0.0ms | Allocations: 11733)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 17:17:53 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x0000560461823b18 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-637661-rezyii.csv>, @original_filename="input_valid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_valid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 578\r\n">}}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:17:53.920078"], ["updated_at", "2020-11-01 20:17:53.920078"]]
  [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 1], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (1.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "q28pzm71a2cika07ii4rkdn2ors0"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:17:53.925571"]]
  [1m[36mActiveStorage::Attachment Create (1.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-11-01 20:17:53.930289"]]
  [1m[36mProductUpload Update (0.4ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:17:53.933476"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (6.4ms) [0m[32mUploaded file to key: q28pzm71a2cika07ii4rkdn2ors0 (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 925f0225-5e71-4d3a-be5a-a873f3fff33b) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000056046178ab48 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
  [1m[36mProduct Create Many (5.9ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 20:17:53.946392','2020-11-01 20:17:53.946392'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 20:17:53.946392','2020-11-01 20:17:53.946392'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 20:17:53.946392','2020-11-01 20:17:53.946392'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 20:17:53.946392','2020-11-01 20:17:53.946392'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 20:17:53.946392','2020-11-01 20:17:53.946392'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 20:17:53.946392','2020-11-01 20:17:53.946392'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 20:17:53.946392','2020-11-01 20:17:53.946392'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 20:17:53.946392','2020-11-01 20:17:53.946392'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 20:17:53.946392','2020-11-01 20:17:53.946392'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 20:17:53.946392','2020-11-01 20:17:53.946392'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 20:17:53.946392','2020-11-01 20:17:53.946392'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 20:17:53.946392','2020-11-01 20:17:53.946392') RETURNING "id"[0m
Redirected to http://www.example.com/products
Completed 302 Found in 46ms (ActiveRecord: 10.2ms | Allocations: 6394)
Started GET "/products" for 127.0.0.1 at 2020-11-01 17:17:53 -0300
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [925f0225-5e71-4d3a-be5a-a873f3fff33b] Performing ActiveStorage::AnalyzeJob (Job ID: 925f0225-5e71-4d3a-be5a-a873f3fff33b) from Async(active_storage_analysis) enqueued at 2020-11-01T20:17:53Z with arguments: #<GlobalID:0x00007f8b280991f0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [925f0225-5e71-4d3a-be5a-a873f3fff33b]   [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [925f0225-5e71-4d3a-be5a-a873f3fff33b]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [925f0225-5e71-4d3a-be5a-a873f3fff33b]   [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [925f0225-5e71-4d3a-be5a-a873f3fff33b] Performed ActiveStorage::AnalyzeJob (Job ID: 925f0225-5e71-4d3a-be5a-a873f3fff33b) from Async(active_storage_analysis) in 5.41ms
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[35m (1.2ms)[0m  [1m[34mSELECT DISTINCT "products"."manufacturer" FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DISTINCT "products"."model" FROM "products"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT DISTINCT "products"."carrier_plan_type" FROM "products"[0m
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."created_at" DESC[0m
  Rendered products/index.html.erb within layouts/application (Duration: 23.4ms | Allocations: 4852)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.2ms | Allocations: 84)
Completed 200 OK in 48ms (Views: 39.6ms | ActiveRecord: 3.0ms | Allocations: 8225)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
Started GET "/" for 127.0.0.1 at 2020-11-01 17:17:54 -0300
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 269)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 86)
Completed 200 OK in 22ms (Views: 20.9ms | ActiveRecord: 0.0ms | Allocations: 2901)
Started POST "/product_uploads" for 127.0.0.1 at 2020-11-01 17:17:54 -0300
Processing by ProductUploadsController#create as HTML
  Parameters: {"product_upload"=>{"file"=>#<ActionDispatch::Http::UploadedFile:0x00005604611045f8 @tempfile=#<Tempfile:/tmp/oswaldolinhares/RackMultipart20201101-637661-jo3qxn.csv>, @original_filename="input_invalid.csv", @content_type="text/csv", @headers="Content-Disposition: form-data; name=\"product_upload[file]\"; filename=\"input_invalid.csv\"\r\nContent-Type: text/csv\r\nContent-Length: 505\r\n">}}
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.6ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:17:54.136880"], ["updated_at", "2020-11-01 20:17:54.136880"]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 2], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "5nvrz4qznmn1z231zpazjceojykv"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 20:17:54.144619"]]
  [1m[36mActiveStorage::Attachment Create (0.7ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-11-01 20:17:54.146916"]]
  [1m[36mProductUpload Update (0.5ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:17:54.167612"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (4.0ms) [0m[32mUploaded file to key: 5nvrz4qznmn1z231zpazjceojykv (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: e4f441c5-f330-4db1-a9ee-2cba6b70f239) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005604644ac798 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
Redirected to http://www.example.com/product_uploads/new
Completed 302 Found in 54ms (ActiveRecord: 3.1ms | Allocations: 3541)
Started GET "/product_uploads/new" for 127.0.0.1 at 2020-11-01 17:17:54 -0300
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e4f441c5-f330-4db1-a9ee-2cba6b70f239] Performing ActiveStorage::AnalyzeJob (Job ID: e4f441c5-f330-4db1-a9ee-2cba6b70f239) from Async(active_storage_analysis) enqueued at 2020-11-01T20:17:54Z with arguments: #<GlobalID:0x00005604645a9c68 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [e4f441c5-f330-4db1-a9ee-2cba6b70f239]   [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e4f441c5-f330-4db1-a9ee-2cba6b70f239]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = $1 WHERE "active_storage_blobs"."id" = $2[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [e4f441c5-f330-4db1-a9ee-2cba6b70f239]   [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [e4f441c5-f330-4db1-a9ee-2cba6b70f239] Performed ActiveStorage::AnalyzeJob (Job ID: e4f441c5-f330-4db1-a9ee-2cba6b70f239) from Async(active_storage_analysis) in 3.73ms
Processing by ProductUploadsController#new as HTML
  Rendering product_uploads/new.html.erb within layouts/application
  Rendered product_uploads/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 268)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered layouts/_navbar.html.erb (Duration: 0.3ms | Allocations: 83)
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 0.0ms | Allocations: 3012)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.7ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:17:54.716038"], ["updated_at", "2020-11-01 20:17:54.716038"]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 3], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "mc1y7786o11uyekfadk3dnpfkjod"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:17:54.721723"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-11-01 20:17:54.723832"]]
  [1m[36mProductUpload Update (0.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:17:54.725285"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (7.8ms) [0m[32mUploaded file to key: mc1y7786o11uyekfadk3dnpfkjod (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: cbb73e88-0200-40d8-a256-f407845e8e80) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000560463c7e878 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/3>>
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.4ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:17:54.758312"], ["updated_at", "2020-11-01 20:17:54.758312"]]
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 4], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "ilk55s76afsgbxyekqut7gamk8cd"], ["filename", "input_valid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 578], ["checksum", "wiSY/xEZKOjeatoWczSx3A=="], ["created_at", "2020-11-01 20:17:54.763247"]]
  [1m[36mActiveStorage::Attachment Create (0.8ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 4], ["blob_id", 4], ["created_at", "2020-11-01 20:17:54.765963"]]
  [1m[36mProductUpload Update (0.6ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:17:54.768826"], ["id", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (6.0ms) [0m[32mUploaded file to key: ilk55s76afsgbxyekqut7gamk8cd (checksum: wiSY/xEZKOjeatoWczSx3A==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 58d53dc7-08fb-4488-92d7-78a996be7077) to Async(active_storage_analysis) with arguments: #<GlobalID:0x0000560463ca9eb0 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/4>>
  [1m[36mProduct Create Many (0.8ms)[0m  [1m[32mINSERT INTO "products" ("manufacturer","model","color","carrier_plan_type","quantity","price","created_at","updated_at") VALUES ('Motorola','Moto G5 16GB','Preto','pre',20,1299.0,'2020-11-01 20:17:54.785055','2020-11-01 20:17:54.785055'),('Motorola','Moto G5 16GB','Preto','pos',20,599.0,'2020-11-01 20:17:54.785055','2020-11-01 20:17:54.785055'),('Motorola','Moto G5 16GB','Vermelho','pre',20,1299.0,'2020-11-01 20:17:54.785055','2020-11-01 20:17:54.785055'),('Motorola','Moto G5 16GB','Vermelho','pos',20,599.0,'2020-11-01 20:17:54.785055','2020-11-01 20:17:54.785055'),('Samsung','Galaxy S8 64GB','Arctic Gray','pre',20,4500.0,'2020-11-01 20:17:54.785055','2020-11-01 20:17:54.785055'),('Samsung','Galaxy S8 64GB','Arctic Gray','pos',20,3299.0,'2020-11-01 20:17:54.785055','2020-11-01 20:17:54.785055'),('Samsung','Galaxy S8 64GB','Midnight Black','pre',20,4500.0,'2020-11-01 20:17:54.785055','2020-11-01 20:17:54.785055'),('Samsung','Galaxy S8 64GB','Midnight Black','pos',20,3299.0,'2020-11-01 20:17:54.785055','2020-11-01 20:17:54.785055'),('Apple','iPhone SE 16GB','Space Gray','pre',10,2599.0,'2020-11-01 20:17:54.785055','2020-11-01 20:17:54.785055'),('Apple','iPhone SE 16GB','Space Gray','pre',10,1499.0,'2020-11-01 20:17:54.785055','2020-11-01 20:17:54.785055'),('Apple','iPhone SE 16GB','Rose','pre',5,2599.0,'2020-11-01 20:17:54.785055','2020-11-01 20:17:54.785055'),('Apple','iPhone SE 16GB','Rose','pre',5,1499.0,'2020-11-01 20:17:54.785055','2020-11-01 20:17:54.785055') RETURNING "id"[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "products"[0m
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[36mActiveStorage::Blob Load (1.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_2[0m
  [1m[36mProductUpload Create (0.4ms)[0m  [1m[32mINSERT INTO "product_uploads" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2020-11-01 20:17:54.819477"], ["updated_at", "2020-11-01 20:17:54.819477"]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = $1 AND "active_storage_attachments"."record_type" = $2 AND "active_storage_attachments"."name" = $3 LIMIT $4[0m  [["record_id", 5], ["record_type", "ProductUpload"], ["name", "file"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["key", "onvn7siw2e20bn8jsq01iddp2z8o"], ["filename", "input_invalid.csv"], ["content_type", "text/csv"], ["metadata", "{\"identified\":true}"], ["byte_size", 505], ["checksum", "R8wDJUXXWJPOrsiYFJLOzg=="], ["created_at", "2020-11-01 20:17:54.823379"]]
  [1m[36mActiveStorage::Attachment Create (0.6ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "file"], ["record_type", "ProductUpload"], ["record_id", 5], ["blob_id", 5], ["created_at", "2020-11-01 20:17:54.825975"]]
  [1m[36mProductUpload Update (0.3ms)[0m  [1m[33mUPDATE "product_uploads" SET "updated_at" = $1 WHERE "product_uploads"."id" = $2[0m  [["updated_at", "2020-11-01 20:17:54.827900"], ["id", 5]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_2[0m
[36m  Disk Storage (4.2ms) [0m[32mUploaded file to key: onvn7siw2e20bn8jsq01iddp2z8o (checksum: R8wDJUXXWJPOrsiYFJLOzg==)[0m
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: c485958e-623d-4227-98ad-e153b29ca646) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00005604611c0c58 @uri=#<URI::GID gid://technical-alive-test-ruby/ActiveStorage::Blob/5>>
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
Discarded ActiveStorage::AnalyzeJob due to a ActiveRecord::RecordNotFound.
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
